import{h as x,j as B,_ as g,k as p,o as a,a as d,b as o,q as m,t as c,n as k,f as w,l as A,w as f,e as u,z as I,A as C,a6 as L,D as M,aw as U,I as T}from"./app-Bf1EJw8l.js";import{u as S}from"./consoleStore-7SHbFPgJ.js";import{E as D}from"./index-D4yGan5e.js";import{v as F}from"./directive-DSby91Qc.js";import{e as E,s as V}from"./notify-7ms8YXRV.js";import{E as P}from"./index-C6Zovpry.js";import"./index-Ds0zupmL.js";import"./index-Dpstq9UH.js";import"./focus-trap-DLD2w1Ia.js";import"./icon-CZcOhJQp.js";import"./use-global-config-0XpG2_0j.js";import"./scroll-DzYU1O0r.js";const j={mixins:[x],props:["hidePlan","current"],computed:{...B(S,["user"]),expireText(){var s;let t=(s=this.user)==null?void 0:s.expireDate;if(!t)return"Free";const e=this.user.expireTime;return new Date().getTime()>e?`${t} -> Expire`:new Date(e).getFullYear()-new Date().getFullYear()>5?"Premium":t}},methods:{viewUpdates(){this.emit("open","https://marketplace.visualstudio.com/items/cweijan.vscode-mysql-client2/changelog")},toIndex(){}}},b=t=>(I("data-v-b3da0683"),t=t(),C(),t),z={class:"navbar teams w-nav"},N={class:"container"},O={role:"navigation",class:"flex justify-end"},q=b(()=>o("i",{type:"icon",class:"mr-1 el-icon-notebook-2"},null,-1)),K=b(()=>o("i",{type:"icon",class:"mr-1 codicon-wand purple"},null,-1)),G=b(()=>o("i",{type:"icon",class:"mr-1 el-icon-s-tools"},null,-1)),H=b(()=>o("i",{type:"icon",class:"mr-1 codicon-github-action blue"},null,-1)),R=b(()=>o("i",{type:"icon",class:"mr-1 el-icon-user orange"},null,-1)),W={class:"nav-link log-in",style:{color:"var(--vscode-terminal-ansiBlue) !important","font-family":"sans-serif","flex-direction":"column","align-items":"baseline"}},Y=b(()=>o("i",{class:"el-icon-arrow-down el-icon--right"},null,-1)),J=["textContent"];function Q(t,e,s,h,n,i){const l=p("vsc-button"),v=D;return a(),d("div",z,[o("div",N,[o("a",{class:"w-nav-brand",onClick:e[1]||(e[1]=(...r)=>i.toIndex&&i.toIndex(...r))},[o("img",{class:"image-3",onClick:e[0]||(e[0]=r=>t.emit("openSite","/"))})]),o("nav",O,[o("button",{class:"nav-link",onClick:e[2]||(e[2]=(...r)=>i.viewUpdates&&i.viewUpdates(...r))},[q,m(" "+c(t.$t("global.changeLog")),1)]),o("a",{class:k(["nav-link",{"w--current":s.current=="util"}]),onClick:e[3]||(e[3]=r=>t.$router.push("/center/util"))},[K,m(c(t.$t("global.util")),1)],2),o("a",{class:k(["nav-link",{"w--current":s.current=="console"}]),onClick:e[4]||(e[4]=r=>t.$router.push("/center/console"))},[G,m(c(t.$t("global.console")),1)],2),o("a",{class:k(["nav-link",{"w--current":s.current=="plan"}]),onClick:e[5]||(e[5]=r=>t.$router.push("/center/plan"))},[H,m(c(t.$t("global.plan")),1)],2),t.user?w("",!0):(a(),d("a",{key:0,class:"nav-link log-in",onClick:e[6]||(e[6]=r=>t.$emit("openLogin"))},[R,m(" "+c(t.$t("global.login")),1)])),t.user?(a(),A(v,{key:1,placement:"bottom",trigger:"hover",type:"primary",class:"shrink-0"},{reference:f(()=>[o("div",W,[o("div",null,[m(c(t.user.email),1),Y]),o("div",{textContent:c(i.expireText)},null,8,J)])]),default:f(()=>[u(l,{onClick:e[7]||(e[7]=r=>t.$emit("logout"))},{default:f(()=>[m(c(t.$t("global.logout")),1)]),_:1})]),_:1})):w("",!0)])])])}const X=g(j,[["render",Q],["__scopeId","data-v-b3da0683"]]),Z={},tt={class:"admin-box"};function et(t,e,s,h,n,i){return a(),d("div",tt,[L(t.$slots,"default",{},void 0,!0)])}const ot=g(Z,[["render",et],["__scopeId","data-v-56886c98"]]),nt={mixins:[x],props:["label","placeholder","value","type","showForgot"],data(){return{context:null,error:null}},computed:{placeholder0(){return this.placeholder||`Enter your ${this.label}`}},watch:{value(t){t&&(this.context=t)}},methods:{noticeInput(t){this.$emit("update:value",this.context),this.$emit("input",this.context)},showError(t){this.error=t}}},it={class:"MuiBox-root admin-box-126fypi"},st={class:"MuiBox-root admin-box-guflfy"},lt={class:"MuiTypography-root MuiTypography-label admin-box-1digilb"},rt={"data-test-id":"name-box",class:"MuiOutlinedInput-root MuiInputBase-root MuiInputBase-colorPrimary MuiInputBase-fullWidth admin-box-5jhlpq"},at=["name","placeholder","type"],ut={key:0,class:"Mui-error","data-test-id":"name-box_error"};function dt(t,e,s,h,n,i){return a(),d("div",it,[o("div",st,[o("span",lt,[m(c(s.label)+" ",1),s.showForgot?(a(),d("a",{key:0,style:{float:"right"},onClick:e[0]||(e[0]=l=>t.emit("openSite","reset"))},"Forgot Password?")):w("",!0)])]),o("div",rt,[M(o("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>n.context=l),name:s.label,placeholder:i.placeholder0,type:s.type,maxlength:"200",class:"MuiOutlinedInput-input MuiInputBase-input admin-box-1puixqu",onInput:e[2]||(e[2]=(...l)=>i.noticeInput&&i.noticeInput(...l))},null,40,at),[[U,n.context]])]),n.error?(a(),d("p",ut,c(n.error),1)):w("",!0)])}const ct=g(nt,[["render",dt],["__scopeId","data-v-aff6fe5d"]]),mt={props:["rules"],data(){return{isValid:!1}}},pt=o("div",{style:{"margin-bottom":"16px"}},null,-1);function gt(t,e,s,h,n,i){return a(),d("div",null,[L(t.$slots,"default"),pt])}const ht=g(mt,[["render",gt]]),_t={props:["text","disabled","loading"],data(){return{}},methods:{}},vt=["disabled"];function ft(t,e,s,h,n,i){const l=F;return a(),d("div",null,[M((a(),d("button",{class:"MuiButton-root MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-fullWidth MuiButtonBase-root admin-box-15gd45s",tabindex:"-1",type:"submit","data-test-id":"signupSubmit-btn",disabled:s.disabled},[m(c(s.text),1)],8,vt)),[[l,s.loading]])])}const bt=g(_t,[["render",ft],["__scopeId","data-v-72aad848"]]),$t={mixins:[x],methods:{githubLogin(){this.emit("githubLogin")}}},xt=o("div",{class:"ant-divider ant-divider-horizontal ant-divider-with-text ant-divider-with-text-center",role:"separator"},[o("span",{class:"ant-divider-inner-text"},[o("span",{class:"text-muted font-size-base font-weight-normal"},"or connect with")])],-1),wt={class:"d-flex justify-content-center"},yt={role:"img",class:"anticon"},kt=["src"],Bt=o("span",null,"Github",-1);function It(t,e,s,h,n,i){return a(),d("div",null,[o("div",null,[xt,o("div",wt,[o("button",{type:"button",class:"ant-btn",onClick:e[0]||(e[0]=(...l)=>i.githubLogin&&i.githubLogin(...l))},[o("span",yt,[o("img",{src:"icon/github.svg",alt:"Github"},null,8,kt)]),Bt])])])])}const Ct=g($t,[["render",It]]),Lt={components:{AdminBox:ot,AdminInput:ct,AdminForm:ht,AdminButton:bt,ThridAccount:Ct},mixins:[x],data(){return{loading:!1,email:"",password:""}},mounted(){this.on("email",t=>{this.email=t}).on("loginRes",({user:t,errMsg:e})=>{this.loading=!1,e?E(e):(V("Login success!"),this.$emit("closeLogin"),this.$emit("login",data))})},methods:{toBrowser(){this.emit("loginOnBrowser")},submit(){this.loading=!0,this.emit("login",{email:this.email,password:this.password})}}},Mt=t=>(I("data-v-3f6cee44"),t=t(),C(),t),St={class:"box-container"},Vt={class:"fe-logo-wrapper MuiBox-root admin-box-useecz"},At=["src"],Ut=Mt(()=>o("div",{class:"login-title"}," Login ",-1)),Tt={class:"MuiBox-root admin-box notice-block"},Dt={class:"MuiTypography-root MuiTypography-body1Bold admin-box notice-text"},Ft={class:"inline-flex w-full justify-center gap-x-2"};function Et(t,e,s,h,n,i){const l=p("AdminInput"),v=p("AdminButton"),r=p("ThridAccount"),y=p("AdminForm"),_=p("AdminBox");return a(),d("div",St,[o("div",null,[u(_,{style:{"max-width":"100%",width:"100%"}},{default:f(()=>[o("div",Vt,[o("img",{alt:"logo",src:"logo_dark.png",onClick:e[0]||(e[0]=$=>t.emit("openSite","/"))},null,8,At)]),Ut,o("div",Tt,[o("span",Dt,[m("Don't have an account? "),o("a",{onClick:e[1]||(e[1]=$=>t.emit("openSite","signUp"))},"Sign Up.")])]),u(y,{onSubmit:i.submit},{default:f(()=>[u(l,{value:n.email,"onUpdate:value":e[2]||(e[2]=$=>n.email=$),label:"Email"},null,8,["value"]),u(l,{value:n.password,"onUpdate:value":e[3]||(e[3]=$=>n.password=$),showForgot:!0,type:"password",label:"Password",onKeyup:T(i.submit,["enter"])},null,8,["value","onKeyup"]),o("div",Ft,[u(v,{loading:n.loading,class:"second-login-btn",text:"Log In",type:"text",onClick:i.submit},null,8,["loading","onClick"]),u(v,{text:"Log In On Browser",type:"text",onClick:i.toBrowser},null,8,["onClick"])]),u(r)]),_:1},8,["onSubmit"])]),_:1})])])}const Pt=g(Lt,[["render",Et],["__scopeId","data-v-3f6cee44"]]),jt={components:{NavBar:X,Login:Pt},mixins:[x],beforeRouteUpdate(t,e,s){this.current=t.name,s()},data(){return{current:"console",dialogVisible:!0,accountVisible:!1}},computed:{...B(S,{consoleStore:t=>t})},mounted(){this.current=this.$route.name,this.focusHolder(),this.on("user",t=>{this.consoleStore.user=t,this.consoleStore.isPay&&(this.accountVisible=!1)})},methods:{login(t){this.emit("bindUser",t),this.consoleStore.user=t,this.accountVisible=!1},logout(){this.emit("bindUser",null),this.consoleStore.user=null,V("Log out success!")},focusHolder(){window.onfocus=()=>{this.emit("getUser")}}}},zt={style:{height:"100vh"}};function Nt(t,e,s,h,n,i){const l=p("NavBar"),v=p("router-view"),r=p("Login"),y=P;return a(),d("div",zt,[u(l,{hidePlan:!0,current:n.current,onOpenLogin:e[0]||(e[0]=_=>{n.accountVisible=!0}),onLogout:i.logout},null,8,["current","onLogout"]),u(v,{onOpenLogin:e[1]||(e[1]=_=>{n.accountVisible=!0}),onCloseLogin:e[2]||(e[2]=_=>n.accountVisible=!1)}),u(y,{modelValue:n.accountVisible,"onUpdate:modelValue":e[4]||(e[4]=_=>n.accountVisible=_),closeOnClickModal:!1,class:"custom-content","modal-append-to-body":!1,width:"420px",top:"10vh"},{default:f(()=>[u(r,{onLogin:i.login,onCloseLogin:e[3]||(e[3]=_=>n.accountVisible=!1)},null,8,["onLogin"])]),_:1},8,["modelValue"])])}const te=g(jt,[["render",Nt]]);export{te as default};
