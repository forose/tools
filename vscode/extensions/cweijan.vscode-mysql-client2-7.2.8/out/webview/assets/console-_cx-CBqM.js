import{_ as V,o as m,a as h,b as l,a6 as N,n as U,h as K,j,k as _,e as n,w as t,t as i,q as r,l as k,f as E,z as q,A as F,F as L,y as x}from"./app-Bf1EJw8l.js";import{n as y,s as Q,e as O}from"./notify-7ms8YXRV.js";import{u as W}from"./consoleStore-7SHbFPgJ.js";import{E as D}from"./index-D4yGan5e.js";import{E as R}from"./index-CRCW-nZ8.js";import{E as z}from"./index-87euUeSH.js";import{E as T,a as H}from"./index-I4QpTbxY.js";import{E as M}from"./index-BtYaA7w7.js";import"./index-Dpstq9UH.js";import"./icon-CZcOhJQp.js";import"./use-global-config-0XpG2_0j.js";import"./index-Ds0zupmL.js";import"./focus-trap-DLD2w1Ia.js";import"./validator-Di5JEBAH.js";import"./use-form-item-DdyI_hvh.js";import"./index-CFJCZjdX.js";import"./index-CXFq46JV.js";import"./index-D_NJ2QbA.js";import"./scroll-DzYU1O0r.js";import"./_baseIteratee-xh2dZROY.js";import"./flatten-BCYDgirk.js";const G={props:["full"]},J={class:"card"};function X(e,o,p,f,s,a){return m(),h("div",{class:U(["card-container",{"card-container-full":p.full}])},[l("div",J,[N(e.$slots,"default",{},void 0,!0)])],2)}const P=V(G,[["render",X],["__scopeId","data-v-a1d481ba"]]),Y={components:{Card:P},mixins:[K],data(){return{autoSync:!1,uploadConfirm:!1,removeConfirm:!1,downloadConfirm:!1,importConfirm:!1,syncKeyPath:null,uploadLoading:!1,removeLoading:!1,downloadLoading:!1,triggerChooseSyncKey:!1,isDev:!1}},computed:{...j(W,["user","isPay"])},mounted(){this.autoSync=this.extConfig.autoSync,this.on("importConfirm",()=>{this.importConfirm=!0}).on("importResult",({success:e,message:o,cancel:p})=>{if(this.importConfirm=!1,p)return;y({showClose:!0,duration:e?1e3:2e3,message:o,type:e?"success":"error"})}).on("downloadConfirm",()=>{this.downloadLoading=!1,this.downloadConfirm=!0}).on("downloadResult",({success:e,message:o})=>{this.downloadLoading=!1,y({showClose:!0,duration:e?1e3:3e3,message:o,type:e?"success":"error"})}).on("uploadRes",({success:e,message:o})=>{this.uploadLoading=!1,y({showClose:!0,duration:e?1e3:3e3,message:o,type:e?"success":"error"})}).on("removeRes",({success:e,message:o})=>{this.removeLoading=!1,y({showClose:!0,duration:e?1e3:3e3,message:o,type:e?"success":"error"})}).on("syncKey",e=>{(!this.syncKeyPath||this.triggerChooseSyncKey)&&(this.syncKeyPath=e,this.triggerChooseSyncKey=!1)})},methods:{updateAutoSync(){this.emit("updateOption",{name:"autoSync",value:this.autoSync})},showLayout(){Q(`Width: ${window.innerWidth}, Height: ${window.innerHeight}`)},clearCache(){this.emit("clearCache")},reportIssue(){this.emit("open","https://github.com/cweijan/vscode-database-client/issues")},editConfig(){this.emit("editConfig")},chooseSyncKey(){this.triggerChooseSyncKey=!0,this.emit("chooseSyncKey")},exportConfig(){this.emit("exportConfig")},importConfig(e){this.emit("importConfig",e)},uploadConfig(){if(!this.isPay){O("Free account not support upload configuration!");return}this.uploadConfirm=!1,this.uploadLoading=!0,this.emit("uploadConfig",this.syncKeyPath)},removeConfig(){this.removeConfirm=!1,this.removeLoading=!0,this.emit("removeConfig")},downloadConfig(e){if(!this.isPay){O("Free account not support sync data!");return}this.downloadConfirm=!1,this.downloadLoading=!0,this.emit("downloadConfig",{keyPath:this.syncKeyPath,type:e})}}},Z=e=>(q("data-v-b58c63ba"),e=e(),F(),e),ee={style:{"min-width":"300px"}},oe={style:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},te={style:{margin:"20px 0"}},ne={class:"text-right mt-2"},ie={style:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},se={class:"my-2"},le={class:"mr-2"},re={style:{"margin-top":"5px","margin-bottom":"10px"}},ae={style:{"text-align":"right",margin:"0"}},de={style:{"margin-top":"5px","margin-bottom":"10px"}},ce={style:{"text-align":"right",margin:"0"}},ue={style:{"margin-top":"5px","margin-bottom":"10px"}},me={style:{"text-align":"right",margin:"0"}},pe={style:{"margin-top":"20px"}},fe=Z(()=>l("div",{style:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}}," Others ",-1)),ge={style:{margin:"20px 0"}};function he(e,o,p,f,s,a){const d=_("vsc-button"),C=D,v=_("Card"),b=R,S=z;return m(),h("div",null,[n(v,null,{default:t(()=>[l("div",ee,[l("div",oe,i(e.$t("console.configuration")),1),l("div",te,[n(d,{type:"secondary",icon:"codicon-edit",onClick:a.editConfig},{default:t(()=>[r(i(e.$t("console.edit")),1)]),_:1},8,["onClick"]),n(d,{icon:"codicon-arrow-down",onClick:a.exportConfig},{default:t(()=>[r(i(e.$t("console.export")),1)]),_:1},8,["onClick"]),n(C,{placement:"top",visible:s.importConfirm,trigger:"manual",class:"ml-7px"},{reference:t(()=>[n(d,{icon:"codicon-arrow-up",onClick:o[3]||(o[3]=c=>a.importConfig())},{default:t(()=>[r(i(e.$t("console.import")),1)]),_:1})]),default:t(()=>[l("p",null,i(e.$t("console.mergeConfirm")),1),l("div",ne,[n(d,{type:"secondary",onClick:o[0]||(o[0]=c=>s.importConfirm=!1)},{default:t(()=>[r(i(e.$t("common.cancel")),1)]),_:1}),n(d,{onClick:o[1]||(o[1]=c=>a.importConfig("merge"))},{default:t(()=>[r(i(e.$t("console.merge")),1)]),_:1}),n(d,{onClick:o[2]||(o[2]=c=>a.importConfig("overwrite"))},{default:t(()=>[r(i(e.$t("console.overwrite")),1)]),_:1})])]),_:1},8,["visible"])])])]),_:1}),n(v,null,{default:t(()=>[l("div",null,[l("div",ie,i(e.$t("console.sync")),1),l("div",se,[l("label",le,i(e.$t("console.autoSync")),1),n(b,{modelValue:s.autoSync,"onUpdate:modelValue":o[4]||(o[4]=c=>s.autoSync=c),onChange:a.updateAutoSync},null,8,["modelValue","onChange"])]),l("div",null,[n(C,{placement:"top",visible:s.removeConfirm,trigger:"manual"},{reference:t(()=>[n(d,{type:"secondary",icon:"el-icon-delete",loading:s.removeLoading,onClick:o[6]||(o[6]=c=>s.removeConfirm=!0)},{default:t(()=>[r(i(e.$t("console.remove")),1)]),_:1},8,["loading"])]),default:t(()=>[l("p",re,i(e.$t("console.removeConfirm")),1),l("div",ae,[n(d,{type:"secondary",onClick:o[5]||(o[5]=c=>s.removeConfirm=!1)},{default:t(()=>[r(i(e.$t("common.cancel")),1)]),_:1}),n(d,{onClick:a.removeConfig},{default:t(()=>[r(i(e.$t("result.confirm")),1)]),_:1},8,["onClick"])])]),_:1},8,["visible"]),n(C,{placement:"top",visible:s.uploadConfirm,trigger:"manual",class:"ml-7px"},{reference:t(()=>[n(d,{icon:"codicon-cloud-upload",loading:s.uploadLoading,onClick:o[8]||(o[8]=c=>s.uploadConfirm=!0)},{default:t(()=>[r(i(e.$t("console.upload")),1)]),_:1},8,["loading"])]),default:t(()=>[l("p",de,i(e.$t("console.uploadConfirm")),1),l("div",ce,[n(d,{type:"secondary",onClick:o[7]||(o[7]=c=>s.uploadConfirm=!1)},{default:t(()=>[r(i(e.$t("common.cancel")),1)]),_:1}),n(d,{onClick:a.uploadConfig},{default:t(()=>[r(i(e.$t("result.confirm")),1)]),_:1},8,["onClick"])])]),_:1},8,["visible"]),n(C,{placement:"top",visible:s.downloadConfirm,trigger:"manual",class:"ml-7px"},{reference:t(()=>[n(d,{icon:"codicon-cloud-download",loading:s.downloadLoading,onClick:o[12]||(o[12]=c=>a.downloadConfig())},{default:t(()=>[r(i(e.$t("console.download")),1)]),_:1},8,["loading"])]),default:t(()=>[l("p",ue,i(e.$t("console.mergeConfirm")),1),l("div",me,[n(d,{type:"secondary",onClick:o[9]||(o[9]=c=>s.downloadConfirm=!1)},{default:t(()=>[r(i(e.$t("common.cancel")),1)]),_:1}),n(d,{onClick:o[10]||(o[10]=c=>a.downloadConfig("merge"))},{default:t(()=>[r(i(e.$t("console.merge")),1)]),_:1}),n(d,{onClick:o[11]||(o[11]=c=>a.downloadConfig("overwrite"))},{default:t(()=>[r(i(e.$t("console.overwrite")),1)]),_:1})])]),_:1},8,["visible"]),l("div",pe,[n(S,{modelValue:s.syncKeyPath,"onUpdate:modelValue":o[13]||(o[13]=c=>s.syncKeyPath=c),size:"small",class:"!w-52",placeholder:"Aes encryption Key"},null,8,["modelValue"]),n(d,{icon:"codicon-file",class:"!ml-1 relative",style:{top:"3px"},onClick:a.chooseSyncKey},null,8,["onClick"])])])])]),_:1}),n(v,null,{default:t(()=>[l("div",null,[fe,l("div",ge,[n(d,{icon:"codicon-github-inverted",size:"small",onClick:a.reportIssue},{default:t(()=>[r(i(e.$t("toolbar.reportIssue")),1)]),_:1},8,["onClick"]),n(d,{icon:"codicon-clear-all",size:"small",onClick:a.clearCache},{default:t(()=>[r(i(e.$t("toolbar.clearCache")),1)]),_:1},8,["onClick"])]),l("div",null,[s.isDev?(m(),k(d,{key:0,icon:"codicon-gear",size:"small",onClick:a.showLayout},{default:t(()=>[r(" 获取页面宽高 ")]),_:1},8,["onClick"])):E("",!0)])])]),_:1})])}const Ce=V(Y,[["render",he],["__scopeId","data-v-b58c63ba"]]),ye={editor:["disableSqlCodeLenNew","splitSQLByNewLine","highlightSQLBlock","bindConnectionByActiveMark","executeCursorSQLByShortcut"],result:["splitEditorWhenQuery","reloadAfterDML","autoGetTableCount"],treeView:["showUser","showTrigger","saveConnectionExpandedState","showEvent","showForeignTable"],sql:["escapedAllObjectName","capitalizeKeywordsWhenFormatting","autoPagingSQL","queryWithSchema"]};function w(e,o){const p=ye[e];return o.filter(f=>p.includes(f.name)).sort((f,s)=>p.indexOf(f.name)-p.indexOf(s.name))}const ve={},_e={components:{Card:P,CloudConfig:Ce},mixins:[K],data(){return{enums:ve,options:[]}},computed:{optionTypes(){return[{title:this.$t("console.editorOptions"),options:w("editor",this.options)},{title:this.$t("console.sqlOptions"),options:w("sql",this.options)},{title:this.$t("console.treeOptions"),options:w("treeView",this.options)},{title:this.$t("console.resultOptions"),options:w("result",this.options)}]}},async mounted(){this.emit("options").on("options",({options:e})=>{this.options=e}).on("configSuccess",e=>{y({showClose:!0,duration:1e3,message:e,type:"success"})}).on("resetSuccess",e=>{y({showClose:!0,duration:1e3,message:e,type:"success"}),this.emit("options")}).init()},methods:{resetOption(e){this.emit("resetOption",e)},changeOpt(e){let o=e.value;e.type=="boolean"&&(o=!e.value,e.value=o),this.emit("updateOption",{...e,value:o})}}},we={class:"flex flex-wrap justify-center console-container"},ke={class:"option-container"},be={class:"option-title"},Se={class:"option-list"},$e={key:0},Le={key:2};function xe(e,o,p,f,s,a){const d=_("CloudConfig"),C=_("vsc-button"),v=T,b=H,S=M,c=z,I=_("Card");return m(),h("div",we,[n(d),l("div",ke,[(m(!0),h(L,null,x(a.optionTypes,($,B)=>(m(),k(I,{key:B,style:{"max-width":"350px","min-width":"300px"}},{default:t(()=>[l("div",be,i($.title),1),n(C,{icon:"codicon-wand",size:"small",title:e.$t("console.resetConfig"),onClick:u=>a.resetOption($.options)},null,8,["title","onClick"]),l("div",Se,[(m(!0),h(L,null,x($.options,(u,A)=>(m(),h("div",{key:A,class:"option-item"},[s.enums[u.name]?(m(),h("div",$e,[r(i(u.description)+" ",1),n(b,{modelValue:u.value,"onUpdate:modelValue":g=>u.value=g,class:"w-28",size:"small",onChange:g=>a.changeOpt(u)},{default:t(()=>[(m(!0),h(L,null,x(s.enums[u.name],g=>(m(),k(v,{key:g,value:g},{default:t(()=>[r(i(g),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):u.type=="boolean"||u.name=="escapedAllObjectName"?(m(),k(S,{key:1,"model-value":u.value,onChange:g=>a.changeOpt(u)},{default:t(()=>[r(i(u.description),1)]),_:2},1032,["model-value","onChange"])):["string","number"].includes(u.type)?(m(),h("div",Le,[r(i(u.description)+" ",1),n(c,{modelValue:u.value,"onUpdate:modelValue":g=>u.value=g,size:"small",class:"!w-20 ml-1",onChange:g=>a.changeOpt(u)},null,8,["modelValue","onUpdate:modelValue","onChange"])])):E("",!0)]))),128))])]),_:2},1024))),128))])])}const Ge=V(_e,[["render",xe],["__scopeId","data-v-741ac34f"]]);export{Ge as default};
