import{d as Pe,Q as pn,i as Do,c as q,k as v,o as s,a as h,f as P,l as U,H as Se,w as g,e as t,n as z,F as B,b as n,r as W,y as ne,q as $,t as _,N as mn,aj as go,ak as hn,p as _n,U as $o,M as fe,al as bn,X as Ao,S as $e,am as vn,an as fn,D as C,u as O,C as ao,I as kn,a9 as T,a2 as gn,E as yo,a6 as co,s as Io,j as V,_ as N,ai as ro,z as Eo,A as Mo,h as Lo}from"./app-Bf1EJw8l.js";import{d as $n,a as yn,b as wn,c as Sn}from"./defaultConfig-BLqPELGk.js";import{E as ae}from"./index-CRCW-nZ8.js";import{a as uo,E as Te,c as Cn,b as Vn}from"./storeUtil-00OPGvd3.js";import{E as po}from"./index-D4yGan5e.js";import{E as Ie}from"./index-C6Zovpry.js";import{b as Fe,E as Ee,a as Me}from"./index-XXBVAC5S.js";import{c as wo,E as Je,a as Qe}from"./index-I4QpTbxY.js";import{D as G,s as Pn}from"./DatabaseType-LnCwhqHG.js";import{E as No,a as Tn}from"./index-BtYaA7w7.js";import{A as Un}from"./arrayUtil-DEAFvlDD.js";import{a as Ce,_ as We,c as Oe,e as qo,l as Ho,f as On,u as jo,g as lo,h as Dn,b as Ro,d as De,j as Bo,E as ie,k as An,m as In,n as En,o as Mn,p as Ln,q as Nn}from"./index-Dpstq9UH.js";import{E as Ko,j as Ae,k as qn,C as Hn}from"./index-CFJCZjdX.js";import{u as jn,U as Re,C as Be,d as Rn}from"./focus-trap-DLD2w1Ia.js";import{i as Bn,f as qe,g as zo}from"./aria-46nDEFyt.js";import{u as So,c as Co}from"./index-Dm6zhURh.js";import{s as Kn}from"./scroll-DzYU1O0r.js";import{b as zn}from"./flatten-BCYDgirk.js";import{b as Fn}from"./_baseClone-DEWKTuY-.js";import{E as Jn,i as Qn}from"./index-87euUeSH.js";import{u as Wn,E as Vo}from"./index-Ds0zupmL.js";import{t as Gn,E as Po}from"./index-CXFq46JV.js";import{u as Zn,a as Yn}from"./index-D_NJ2QbA.js";import{u as Xn,a as xn}from"./use-form-item-DdyI_hvh.js";import"./validator-Di5JEBAH.js";import"./icon-CZcOhJQp.js";import"./use-global-config-0XpG2_0j.js";import"./_baseIteratee-xh2dZROY.js";import"./viewUtil-BUapkDkR.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./_initCloneObject-DbrZpPYH.js";var et=1,ot=4;function Fo(e){return Fn(e,et|ot)}var nt=1/0;function tt(e){var o=e==null?0:e.length;return o?zn(e,nt):[]}var st=Pe({name:"NodeContent",setup(){return{ns:Ce("cascader-node")}},render(){const{ns:e}=this,{node:o,panel:l}=this.$parent,{data:u,label:d}=o,{renderLabelFn:i}=l;return pn("span",{class:e.e("label")},i?i({node:o,data:u}):d)}});const mo=Symbol(),lt=Pe({name:"ElCascaderNode",components:{ElCheckbox:No,ElRadio:Fe,NodeContent:st,ElIcon:Oe,Check:qo,Loading:Ho,ArrowRight:On},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:o}){const l=Do(mo),u=Ce("cascader-node"),d=q(()=>l.isHoverMenu),i=q(()=>l.config.multiple),c=q(()=>l.config.checkStrictly),m=q(()=>{var H;return(H=l.checkedNodes[0])==null?void 0:H.uid}),r=q(()=>e.node.isDisabled),a=q(()=>e.node.isLeaf),p=q(()=>c.value&&!a.value||!r.value),f=q(()=>E(l.expandingNode)),y=q(()=>c.value&&l.checkedNodes.some(E)),E=H=>{var x;const{level:oe,uid:ce}=e.node;return((x=H==null?void 0:H.pathNodes[oe-1])==null?void 0:x.uid)===ce},D=()=>{f.value||l.expandNode(e.node)},te=H=>{const{node:x}=e;H!==x.checked&&l.handleCheckChange(x,H)},ee=()=>{l.lazyLoad(e.node,()=>{a.value||D()})},J=H=>{d.value&&(se(),!a.value&&o("expand",H))},se=()=>{const{node:H}=e;!p.value||H.loading||(H.loaded?D():ee())},Y=()=>{d.value&&!a.value||(a.value&&!r.value&&!c.value&&!i.value?X(!0):se())},re=H=>{c.value?(te(H),e.node.loaded&&D()):X(H)},X=H=>{e.node.loaded?(te(H),!c.value&&D()):ee()};return{panel:l,isHoverMenu:d,multiple:i,checkStrictly:c,checkedNodeId:m,isDisabled:r,isLeaf:a,expandable:p,inExpandingPath:f,inCheckedPath:y,ns:u,handleHoverExpand:J,handleExpand:se,handleClick:Y,handleCheck:X,handleSelectCheck:re}}}),it=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],at=n("span",null,null,-1);function ct(e,o,l,u,d,i){const c=v("el-checkbox"),m=v("el-radio"),r=v("check"),a=v("el-icon"),p=v("node-content"),f=v("loading"),y=v("arrow-right");return s(),h("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:z([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:o[2]||(o[2]=(...E)=>e.handleHoverExpand&&e.handleHoverExpand(...E)),onFocus:o[3]||(o[3]=(...E)=>e.handleHoverExpand&&e.handleHoverExpand(...E)),onClick:o[4]||(o[4]=(...E)=>e.handleClick&&e.handleClick(...E))},[P(" prefix "),e.multiple?(s(),U(c,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:o[0]||(o[0]=Se(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(s(),U(m,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:o[1]||(o[1]=Se(()=>{},["stop"]))},{default:g(()=>[P(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),at]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(s(),U(a,{key:2,class:z(e.ns.e("prefix"))},{default:g(()=>[t(r)]),_:1},8,["class"])):P("v-if",!0),P(" content "),t(p),P(" postfix "),e.isLeaf?P("v-if",!0):(s(),h(B,{key:3},[e.node.loading?(s(),U(a,{key:0,class:z([e.ns.is("loading"),e.ns.e("postfix")])},{default:g(()=>[t(f)]),_:1},8,["class"])):(s(),U(a,{key:1,class:z(["arrow-right",e.ns.e("postfix")])},{default:g(()=>[t(y)]),_:1},8,["class"]))],64))],42,it)}var dt=We(lt,[["render",ct],["__file","node.vue"]]);const rt=Pe({name:"ElCascaderMenu",components:{Loading:Ho,ElIcon:Oe,ElScrollbar:Ko,ElCascaderNode:dt},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const o=mn(),l=Ce("cascader-menu"),{t:u}=jo(),d=jn();let i=null,c=null;const m=Do(mo),r=W(null),a=q(()=>!e.nodes.length),p=q(()=>!m.initialLoaded),f=q(()=>`${d.value}-${e.index}`),y=ee=>{i=ee.target},E=ee=>{if(!(!m.isHoverMenu||!i||!r.value))if(i.contains(ee.target)){D();const J=o.vnode.el,{left:se}=J.getBoundingClientRect(),{offsetWidth:Y,offsetHeight:re}=J,X=ee.clientX-se,H=i.offsetTop,x=H+i.offsetHeight;r.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${X} ${H} L${Y} 0 V${H} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${X} ${x} L${Y} ${re} V${x} Z" />
        `}else c||(c=window.setTimeout(te,m.config.hoverThreshold))},D=()=>{c&&(clearTimeout(c),c=null)},te=()=>{r.value&&(r.value.innerHTML="",D())};return{ns:l,panel:m,hoverZone:r,isEmpty:a,isLoading:p,menuId:f,t:u,handleExpand:y,handleMouseMove:E,clearHoverZone:te}}});function ut(e,o,l,u,d,i){const c=v("el-cascader-node"),m=v("loading"),r=v("el-icon"),a=v("el-scrollbar");return s(),U(a,{key:e.menuId,tag:"ul",role:"menu",class:z(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:g(()=>{var p;return[(s(!0),h(B,null,ne(e.nodes,f=>(s(),U(c,{key:f.uid,node:f,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(s(),h("div",{key:0,class:z(e.ns.e("empty-text"))},[t(r,{size:"14",class:z(e.ns.is("loading"))},{default:g(()=>[t(m)]),_:1},8,["class"]),$(" "+_(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(s(),h("div",{key:1,class:z(e.ns.e("empty-text"))},_(e.t("el.cascader.noData")),3)):(p=e.panel)!=null&&p.isHoverMenu?(s(),h("svg",{key:2,ref:"hoverZone",class:z(e.ns.e("hover-zone"))},null,2)):P("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var pt=We(rt,[["render",ut],["__file","menu.vue"]]);let mt=0;const ht=e=>{const o=[e];let{parent:l}=e;for(;l;)o.unshift(l),l=l.parent;return o};class Ve{constructor(o,l,u,d=!1){this.data=o,this.config=l,this.parent=u,this.root=d,this.uid=mt++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:i,label:c,children:m}=l,r=o[m],a=ht(this);this.level=d?0:u?u.level+1:1,this.value=o[i],this.label=o[c],this.pathNodes=a,this.pathValues=a.map(p=>p.value),this.pathLabels=a.map(p=>p.label),this.childrenData=r,this.children=(r||[]).map(p=>new Ve(p,l,this)),this.loaded=!l.lazy||this.isLeaf||!lo(r)}get isDisabled(){const{data:o,parent:l,config:u}=this,{disabled:d,checkStrictly:i}=u;return(go(d)?d(o,this):!!o[d])||!i&&(l==null?void 0:l.isDisabled)}get isLeaf(){const{data:o,config:l,childrenData:u,loaded:d}=this,{lazy:i,leaf:c}=l,m=go(c)?c(o,this):o[c];return Dn(m)?i&&!d?!1:!(Array.isArray(u)&&u.length):!!m}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(o){const{childrenData:l,children:u}=this,d=new Ve(o,this.config,this);return Array.isArray(l)?l.push(o):this.childrenData=[o],u.push(d),d}calcText(o,l){const u=o?this.pathLabels.join(l):this.label;return this.text=u,u}broadcast(o,...l){const u=`onParent${wo(o)}`;this.children.forEach(d=>{d&&(d.broadcast(o,...l),d[u]&&d[u](...l))})}emit(o,...l){const{parent:u}=this,d=`onChild${wo(o)}`;u&&(u[d]&&u[d](...l),u.emit(o,...l))}onParentCheck(o){this.isDisabled||this.setCheckState(o)}onChildCheck(){const{children:o}=this,l=o.filter(d=>!d.isDisabled),u=l.length?l.every(d=>d.checked):!1;this.setCheckState(u)}setCheckState(o){const l=this.children.length,u=this.children.reduce((d,i)=>{const c=i.checked?1:i.indeterminate?.5:0;return d+c},0);this.checked=this.loaded&&this.children.filter(d=>!d.isDisabled).every(d=>d.loaded&&d.checked)&&o,this.indeterminate=this.loaded&&u!==l&&u>0}doCheck(o){if(this.checked===o)return;const{checkStrictly:l,multiple:u}=this.config;l||!u?this.checked=o:(this.broadcast("check",o),this.setCheckState(o),this.emit("check"))}}const io=(e,o)=>e.reduce((l,u)=>(u.isLeaf?l.push(u):(!o&&l.push(u),l=l.concat(io(u.children,o))),l),[]);class To{constructor(o,l){this.config=l;const u=(o||[]).map(d=>new Ve(d,this.config));this.nodes=u,this.allNodes=io(u,!1),this.leafNodes=io(u,!0)}getNodes(){return this.nodes}getFlattedNodes(o){return o?this.leafNodes:this.allNodes}appendNode(o,l){const u=l?l.appendChild(o):new Ve(o,this.config);l||this.nodes.push(u),this.allNodes.push(u),u.isLeaf&&this.leafNodes.push(u)}appendNodes(o,l){o.forEach(u=>this.appendNode(u,l))}getNodeByValue(o,l=!1){return!o&&o!==0?null:this.getFlattedNodes(l).find(d=>Ae(d.value,o)||Ae(d.pathValues,o))||null}getSameNode(o){return o&&this.getFlattedNodes(!1).find(({value:u,level:d})=>Ae(o.value,u)&&o.level===d)||null}}const Jo=Ro({modelValue:{type:De([Number,String,Array])},options:{type:De(Array),default:()=>[]},props:{type:De(Object),default:()=>({})}}),_t={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:hn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},bt=e=>q(()=>({..._t,...e.props})),Uo=e=>{if(!e)return 0;const o=e.id.split("-");return Number(o[o.length-2])},vt=e=>{if(!e)return;const o=e.querySelector("input");o?o.click():Bn(e)&&e.click()},ft=(e,o)=>{const l=o.slice(0),u=l.map(i=>i.uid),d=e.reduce((i,c)=>{const m=u.indexOf(c.uid);return m>-1&&(i.push(c),l.splice(m,1),u.splice(m,1)),i},[]);return d.push(...l),d},kt=Pe({name:"ElCascaderPanel",components:{ElCascaderMenu:pt},props:{...Jo,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Re,Be,"close","expand-change"],setup(e,{emit:o,slots:l}){let u=!1;const d=Ce("cascader"),i=bt(e);let c=null;const m=W(!0),r=W([]),a=W(null),p=W([]),f=W(null),y=W([]),E=q(()=>i.value.expandTrigger==="hover"),D=q(()=>e.renderLabel||l.default),te=()=>{const{options:S}=e,L=i.value;u=!1,c=new To(S,L),p.value=[c.getNodes()],L.lazy&&lo(e.options)?(m.value=!1,ee(void 0,I=>{I&&(c=new To(I,L),p.value=[c.getNodes()]),m.value=!0,oe(!1,!0)})):oe(!1,!0)},ee=(S,L)=>{const I=i.value;S=S||new Ve({},I,void 0,!0),S.loading=!0;const j=F=>{const R=S,le=R.root?null:R;F&&(c==null||c.appendNodes(F,le)),R.loading=!1,R.loaded=!0,R.childrenData=R.childrenData||[],L&&L(F)};I.lazyLoad(S,j)},J=(S,L)=>{var I;const{level:j}=S,F=p.value.slice(0,j);let R;S.isLeaf?R=S.pathNodes[j-2]:(R=S,F.push(S.children)),((I=f.value)==null?void 0:I.uid)!==(R==null?void 0:R.uid)&&(f.value=S,p.value=F,!L&&o("expand-change",(S==null?void 0:S.pathValues)||[]))},se=(S,L,I=!0)=>{const{checkStrictly:j,multiple:F}=i.value,R=y.value[0];u=!0,!F&&(R==null||R.doCheck(!1)),S.doCheck(L),x(),I&&!F&&!j&&o("close"),!I&&!F&&!j&&Y(S)},Y=S=>{S&&(S=S.parent,Y(S),S&&J(S))},re=S=>c==null?void 0:c.getFlattedNodes(S),X=S=>{var L;return(L=re(S))==null?void 0:L.filter(I=>I.checked!==!1)},H=()=>{y.value.forEach(S=>S.doCheck(!1)),x(),p.value=p.value.slice(0,1),f.value=null,o("expand-change",[])},x=()=>{var S;const{checkStrictly:L,multiple:I}=i.value,j=y.value,F=X(!L),R=ft(j,F),le=R.map(Q=>Q.valueByOption);y.value=R,a.value=I?le:(S=le[0])!=null?S:null},oe=(S=!1,L=!1)=>{const{modelValue:I}=e,{lazy:j,multiple:F,checkStrictly:R}=i.value,le=!R;if(!(!m.value||u||!L&&Ae(I,a.value)))if(j&&!S){const ge=So(tt(Co(I))).map(ue=>c==null?void 0:c.getNodeByValue(ue)).filter(ue=>!!ue&&!ue.loaded&&!ue.loading);ge.length?ge.forEach(ue=>{ee(ue,()=>oe(!1,L))}):oe(!0,L)}else{const Q=F?Co(I):[I],ge=So(Q.map(ue=>c==null?void 0:c.getNodeByValue(ue,le)));ce(ge,L),a.value=Fo(I)}},ce=(S,L=!0)=>{const{checkStrictly:I}=i.value,j=y.value,F=S.filter(Q=>!!Q&&(I||Q.isLeaf)),R=c==null?void 0:c.getSameNode(f.value),le=L&&R||F[0];le?le.pathNodes.forEach(Q=>J(Q,!0)):f.value=null,j.forEach(Q=>Q.doCheck(!1)),$o(F).forEach(Q=>Q.doCheck(!0)),y.value=F,$e(ve)},ve=()=>{Bo&&r.value.forEach(S=>{const L=S==null?void 0:S.$el;if(L){const I=L.querySelector(`.${d.namespace.value}-scrollbar__wrap`),j=L.querySelector(`.${d.b("node")}.${d.is("active")}`)||L.querySelector(`.${d.b("node")}.in-active-path`);Kn(I,j)}})},ke=S=>{const L=S.target,{code:I}=S;switch(I){case ie.up:case ie.down:{S.preventDefault();const j=I===ie.up?-1:1;qe(zo(L,j,`.${d.b("node")}[tabindex="-1"]`));break}case ie.left:{S.preventDefault();const j=r.value[Uo(L)-1],F=j==null?void 0:j.$el.querySelector(`.${d.b("node")}[aria-expanded="true"]`);qe(F);break}case ie.right:{S.preventDefault();const j=r.value[Uo(L)+1],F=j==null?void 0:j.$el.querySelector(`.${d.b("node")}[tabindex="-1"]`);qe(F);break}case ie.enter:vt(L);break}};return _n(mo,$o({config:i,expandingNode:f,checkedNodes:y,isHoverMenu:E,initialLoaded:m,renderLabelFn:D,lazyLoad:ee,expandNode:J,handleCheckChange:se})),fe([i,()=>e.options],te,{deep:!0,immediate:!0}),fe(()=>e.modelValue,()=>{u=!1,oe()},{deep:!0}),fe(()=>a.value,S=>{Ae(S,e.modelValue)||(o(Re,S),o(Be,S))}),bn(()=>r.value=[]),Ao(()=>!lo(e.modelValue)&&oe()),{ns:d,menuList:r,menus:p,checkedNodes:y,handleKeyDown:ke,handleCheckChange:se,getFlattedNodes:re,getCheckedNodes:X,clearCheckedNodes:H,calculateCheckedValue:x,scrollToExpandingNode:ve}}});function gt(e,o,l,u,d,i){const c=v("el-cascader-menu");return s(),h("div",{class:z([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:o[0]||(o[0]=(...m)=>e.handleKeyDown&&e.handleKeyDown(...m))},[(s(!0),h(B,null,ne(e.menus,(m,r)=>(s(),U(c,{key:r,ref_for:!0,ref:a=>e.menuList[r]=a,index:r,nodes:[...m]},null,8,["index","nodes"]))),128))],34)}var He=We(kt,[["render",gt],["__file","index.vue"]]);He.install=e=>{e.component(He.name,He)};const $t=He,yt=Ro({...Jo,size:An,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:De(Function),default:(e,o)=>e.text.includes(o)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:De(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:Wn.teleported,tagType:{...Gn.type,default:"info"},validateEvent:{type:Boolean,default:!0},...Zn}),wt={[Re]:e=>!0,[Be]:e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,visibleChange:e=>In(e),expandChange:e=>!!e,removeTag:e=>!!e},St={key:0},Ct=["placeholder","onKeydown"],Vt=["onClick"],Pt="ElCascader",Tt=Pe({name:Pt}),Ut=Pe({...Tt,props:yt,emits:wt,setup(e,{expose:o,emit:l}){const u=e,d={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:b})=>{const{modifiersData:k,placement:w}=b;["right","left","bottom","top"].includes(w)||(k.arrow.x=35)},requires:["arrow"]}]},i=vn();let c=0,m=0;const r=Ce("cascader"),a=Ce("input"),{t:p}=jo(),{form:f,formItem:y}=Xn(),{valueOnClear:E}=Yn(u),D=W(null),te=W(null),ee=W(null),J=W(null),se=W(null),Y=W(!1),re=W(!1),X=W(!1),H=W(!1),x=W(""),oe=W(""),ce=W([]),ve=W([]),ke=W([]),S=W(!1),L=q(()=>i.style),I=q(()=>u.disabled||(f==null?void 0:f.disabled)),j=q(()=>u.placeholder||p("el.cascader.placeholder")),F=q(()=>oe.value||ce.value.length>0||S.value?"":j.value),R=xn(),le=q(()=>["small"].includes(R.value)?"small":"default"),Q=q(()=>!!u.props.multiple),ge=q(()=>!u.filterable||Q.value),ue=q(()=>Q.value?oe.value:x.value),Ne=q(()=>{var b;return((b=J.value)==null?void 0:b.checkedNodes)||[]}),Zo=q(()=>!u.clearable||I.value||X.value||!re.value?!1:!!Ne.value.length),Ye=q(()=>{const{showAllLevels:b,separator:k}=u,w=Ne.value;return w.length?Q.value?"":w[0].calcText(b,k):""}),Yo=q(()=>(y==null?void 0:y.validateState)||""),Xe=q({get(){return Fo(u.modelValue)},set(b){const k=b||E.value;l(Re,k),l(Be,k),u.validateEvent&&(y==null||y.validate("change").catch(w=>Rn()))}}),Xo=q(()=>[r.b(),r.m(R.value),r.is("disabled",I.value),i.class]),xo=q(()=>[a.e("icon"),"icon-arrow-down",r.is("reverse",Y.value)]),en=q(()=>r.is("focus",Y.value||H.value)),_o=q(()=>{var b,k;return(k=(b=D.value)==null?void 0:b.popperRef)==null?void 0:k.contentRef}),de=b=>{var k,w,K;I.value||(b=b??!Y.value,b!==Y.value&&(Y.value=b,(w=(k=te.value)==null?void 0:k.input)==null||w.setAttribute("aria-expanded",`${b}`),b?(Ue(),$e((K=J.value)==null?void 0:K.scrollToExpandingNode)):u.filterable&&to(),l("visibleChange",b)))},Ue=()=>{$e(()=>{var b;(b=D.value)==null||b.updatePopper()})},xe=()=>{X.value=!1},eo=b=>{const{showAllLevels:k,separator:w}=u;return{node:b,key:b.uid,text:b.calcText(k,w),hitState:!1,closable:!I.value&&!b.isDisabled,isCollapseTag:!1}},oo=b=>{var k;const w=b.node;w.doCheck(!1),(k=J.value)==null||k.calculateCheckedValue(),l("removeTag",w.valueByOption)},on=()=>{if(!Q.value)return;const b=Ne.value,k=[],w=[];if(b.forEach(K=>w.push(eo(K))),ve.value=w,b.length){b.slice(0,u.maxCollapseTags).forEach(me=>k.push(eo(me)));const K=b.slice(u.maxCollapseTags),he=K.length;he&&(u.collapseTags?k.push({key:-1,text:`+ ${he}`,closable:!1,isCollapseTag:!0}):K.forEach(me=>k.push(eo(me))))}ce.value=k},bo=()=>{var b,k;const{filterMethod:w,showAllLevels:K,separator:he}=u,me=(k=(b=J.value)==null?void 0:b.getFlattedNodes(!u.props.checkStrictly))==null?void 0:k.filter(_e=>_e.isDisabled?!1:(_e.calcText(K,he),w(_e,ue.value)));Q.value&&(ce.value.forEach(_e=>{_e.hitState=!1}),ve.value.forEach(_e=>{_e.hitState=!1})),X.value=!0,ke.value=me,Ue()},nn=()=>{var b;let k;X.value&&se.value?k=se.value.$el.querySelector(`.${r.e("suggestion-item")}`):k=(b=J.value)==null?void 0:b.$el.querySelector(`.${r.b("node")}[tabindex="-1"]`),k&&(k.focus(),!X.value&&k.click())},no=()=>{var b,k;const w=(b=te.value)==null?void 0:b.input,K=ee.value,he=(k=se.value)==null?void 0:k.$el;if(!(!Bo||!w)){if(he){const me=he.querySelector(`.${r.e("suggestion-list")}`);me.style.minWidth=`${w.offsetWidth}px`}if(K){const{offsetHeight:me}=K,_e=ce.value.length>0?`${Math.max(me+6,c)}px`:`${c}px`;w.style.height=_e,Ue()}}},tn=b=>{var k;return(k=J.value)==null?void 0:k.getCheckedNodes(b)},sn=b=>{Ue(),l("expandChange",b)},we=b=>{var k;const w=(k=b.target)==null?void 0:k.value;if(b.type==="compositionend")S.value=!1,$e(()=>so(w));else{const K=w[w.length-1]||"";S.value=!Qn(K)}},ln=b=>{if(!S.value)switch(b.code){case ie.enter:de();break;case ie.down:de(!0),$e(nn),b.preventDefault();break;case ie.esc:Y.value===!0&&(b.preventDefault(),b.stopPropagation(),de(!1));break;case ie.tab:de(!1);break}},an=()=>{var b;(b=J.value)==null||b.clearCheckedNodes(),!Y.value&&u.filterable&&to(),de(!1)},to=()=>{const{value:b}=Ye;x.value=b,oe.value=b},cn=b=>{var k,w;const{checked:K}=b;Q.value?(k=J.value)==null||k.handleCheckChange(b,!K,!1):(!K&&((w=J.value)==null||w.handleCheckChange(b,!0,!1)),de(!1))},dn=b=>{const k=b.target,{code:w}=b;switch(w){case ie.up:case ie.down:{const K=w===ie.up?-1:1;qe(zo(k,K,`.${r.e("suggestion-item")}[tabindex="-1"]`));break}case ie.enter:k.click();break}},rn=()=>{const b=ce.value,k=b[b.length-1];m=oe.value?0:m+1,!(!k||!m||u.collapseTags&&b.length>1)&&(k.hitState?oo(k):k.hitState=!0)},vo=b=>{const k=b.target,w=r.e("search-input");k.className===w&&(H.value=!0),l("focus",b)},fo=b=>{H.value=!1,l("blur",b)},un=qn(()=>{const{value:b}=ue;if(!b)return;const k=u.beforeFilter(b);fn(k)?k.then(bo).catch(()=>{}):k!==!1?bo():xe()},u.debounce),so=(b,k)=>{!Y.value&&de(!0),!(k!=null&&k.isComposing)&&(b?un():xe())},ko=b=>Number.parseFloat(Nn(a.cssVarName("input-height"),b).value)-2;return fe(X,Ue),fe([Ne,I],on),fe(ce,()=>{$e(()=>no())}),fe(R,async()=>{await $e();const b=te.value.input;c=ko(b)||c,no()}),fe(Ye,to,{immediate:!0}),Ao(()=>{const b=te.value.input,k=ko(b);c=b.offsetHeight||k,En(b,no)}),o({getCheckedNodes:tn,cascaderPanelRef:J,togglePopperVisible:de,contentRef:_o}),(b,k)=>(s(),U(O(Vo),{ref_key:"tooltipRef",ref:D,visible:Y.value,teleported:b.teleported,"popper-class":[O(r).e("dropdown"),b.popperClass],"popper-options":d,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${O(r).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:xe},{default:g(()=>[C((s(),h("div",{class:z(O(Xo)),style:ao(O(L)),onClick:k[5]||(k[5]=()=>de(O(ge)?void 0:!0)),onKeydown:ln,onMouseenter:k[6]||(k[6]=w=>re.value=!0),onMouseleave:k[7]||(k[7]=w=>re.value=!1)},[t(O(Jn),{ref_key:"input",ref:te,modelValue:x.value,"onUpdate:modelValue":k[1]||(k[1]=w=>x.value=w),placeholder:O(F),readonly:O(ge),disabled:O(I),"validate-event":!1,size:O(R),class:z(O(en)),tabindex:O(Q)&&b.filterable&&!O(I)?-1:void 0,onCompositionstart:we,onCompositionupdate:we,onCompositionend:we,onFocus:vo,onBlur:fo,onInput:so},{suffix:g(()=>[O(Zo)?(s(),U(O(Oe),{key:"clear",class:z([O(a).e("icon"),"icon-circle-close"]),onClick:Se(an,["stop"])},{default:g(()=>[t(O(Mn))]),_:1},8,["class","onClick"])):(s(),U(O(Oe),{key:"arrow-down",class:z(O(xo)),onClick:k[0]||(k[0]=Se(w=>de(),["stop"]))},{default:g(()=>[t(O(Ln))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),O(Q)?(s(),h("div",{key:0,ref_key:"tagWrapper",ref:ee,class:z([O(r).e("tags"),O(r).is("validate",!!O(Yo))])},[(s(!0),h(B,null,ne(ce.value,w=>(s(),U(O(Po),{key:w.key,type:b.tagType,size:O(le),hit:w.hitState,closable:w.closable,"disable-transitions":"",onClose:K=>oo(w)},{default:g(()=>[w.isCollapseTag===!1?(s(),h("span",St,_(w.text),1)):(s(),U(O(Vo),{key:1,disabled:Y.value||!b.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:g(()=>[n("span",null,_(w.text),1)]),content:g(()=>[n("div",{class:z(O(r).e("collapse-tags"))},[(s(!0),h(B,null,ne(ve.value.slice(b.maxCollapseTags),(K,he)=>(s(),h("div",{key:he,class:z(O(r).e("collapse-tag"))},[(s(),U(O(Po),{key:K.key,class:"in-tooltip",type:b.tagType,size:O(le),hit:K.hitState,closable:K.closable,"disable-transitions":"",onClose:me=>oo(K)},{default:g(()=>[n("span",null,_(K.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),b.filterable&&!O(I)?C((s(),h("input",{key:0,"onUpdate:modelValue":k[2]||(k[2]=w=>oe.value=w),type:"text",class:z(O(r).e("search-input")),placeholder:O(Ye)?"":O(j),onInput:k[3]||(k[3]=w=>so(oe.value,w)),onClick:k[4]||(k[4]=Se(w=>de(!0),["stop"])),onKeydown:kn(rn,["delete"]),onCompositionstart:we,onCompositionupdate:we,onCompositionend:we,onFocus:vo,onBlur:fo},null,42,Ct)),[[T,oe.value]]):P("v-if",!0)],2)):P("v-if",!0)],38)),[[O(Hn),()=>de(!1),O(_o)]])]),content:g(()=>[C(t(O($t),{ref_key:"cascaderPanelRef",ref:J,modelValue:O(Xe),"onUpdate:modelValue":k[8]||(k[8]=w=>gn(Xe)?Xe.value=w:null),options:b.options,props:u.props,border:!1,"render-label":b.$slots.default,onExpandChange:sn,onClose:k[9]||(k[9]=w=>b.$nextTick(()=>de(!1)))},null,8,["modelValue","options","props","render-label"]),[[yo,!X.value]]),b.filterable?C((s(),U(O(Ko),{key:0,ref_key:"suggestionPanel",ref:se,tag:"ul",class:z(O(r).e("suggestion-panel")),"view-class":O(r).e("suggestion-list"),onKeydown:dn},{default:g(()=>[ke.value.length?(s(!0),h(B,{key:0},ne(ke.value,w=>(s(),h("li",{key:w.uid,class:z([O(r).e("suggestion-item"),O(r).is("checked",w.checked)]),tabindex:-1,onClick:K=>cn(w)},[n("span",null,_(w.text),1),w.checked?(s(),U(O(Oe),{key:0},{default:g(()=>[t(O(qo))]),_:1})):P("v-if",!0)],10,Vt))),128)):co(b.$slots,"empty",{key:1},()=>[n("li",{class:z(O(r).e("empty-text"))},_(O(p)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[yo,X.value]]):P("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var je=We(Ut,[["__file","cascader.vue"]]);je.install=e=>{e.component(je.name,je)};const Ot=je,Dt=Ot,Z=Io("UI",{state:()=>({userInit:!1,editModel:!1,sslVisible:!1,advanceVisible:!1,connectAdvanceVisible:!1,activePanel:"Main",option:{groups:[],user:null,platform:null,dependency:{},jdbcDrivers:{},hasLocalDocker:!1,hasJava:!1,pkPath:null,hasJdbcExt:!1,connectionCount:{sql:0,noSQL:0},defaultAlgorithms:{}},connect:{loading:!1,success:!1,successMessage:"",error:!1,errorMessage:""}}),getters:{pkPath(e){var o;return(o=e.option)==null?void 0:o.pkPath},isPay(e){var o,l;return!e.userInit||((l=(o=e.option)==null?void 0:o.user)==null?void 0:l.expireTime)>new Date().getTime()}}}),M=Io("connect",{state:()=>$n}),At={computed:{...V(Z,["isPay"]),...V(M,{option:e=>e}),socksProxy(){let e=this.option.socksProxy;return e||(e=this.initConfig()),e}},created(){this.socksProxy||this.initConfig()},methods:{initConfig(){const e={host:null,port:1080,type:5};return this.option.socksProxy=e,e}}},It={class:"mb-2 connect-input-item"},Et={class:"inline-block"},Mt={class:"common_input_label"},Lt={class:"mb-2 connect-input-item"},Nt={class:"inline-block mr-10"},qt={class:"common_input_label"},Ht=["placeholder"],jt={class:"inline-block mr-10"},Rt={class:"common_input_label"},Bt={class:"mb-2"},Kt={class:"inline-block mr-10"},zt={class:"common_input_label"},Ft=["placeholder"],Jt={class:"inline-block mr-10"},Qt={class:"common_input_label"},Wt=["placeholder"];function Gt(e,o,l,u,d,i){const c=ae,m=uo,r=v("RedMark"),a=Te;return s(),h("div",{class:z({"opacity-65":!e.isPay})},[n("section",It,[n("div",Et,[n("label",Mt,_(e.$t("connect.enable")),1),t(m,{value:"Premium Only",hidden:e.isPay},{default:g(()=>[t(c,{modelValue:e.option.useSocksProxy,"onUpdate:modelValue":o[0]||(o[0]=p=>e.option.useSocksProxy=p),disabled:!e.isPay},null,8,["modelValue","disabled"])]),_:1},8,["hidden"])])]),n("section",Lt,[n("div",Nt,[n("label",qt,[t(r),$(_(e.$t("config.host")),1)]),C(n("input",{"onUpdate:modelValue":o[1]||(o[1]=p=>i.socksProxy.host=p),class:"common_input_width field__input",placeholder:e.$t("config.host"),required:""},null,8,Ht),[[T,i.socksProxy.host]])]),n("div",jt,[n("label",Rt,[t(r),$(_(e.$t("config.port")),1)]),t(a,{modelValue:i.socksProxy.port,"onUpdate:modelValue":o[2]||(o[2]=p=>i.socksProxy.port=p),placeholder:e.$t("config.port"),size:"small"},null,8,["modelValue","placeholder"])])]),n("section",Bt,[n("div",Kt,[n("label",zt,_(e.$t("config.username")),1),C(n("input",{"onUpdate:modelValue":o[3]||(o[3]=p=>i.socksProxy.userId=p),class:"common_input_width field__input",placeholder:e.$t("config.username"),required:""},null,8,Ft),[[T,i.socksProxy.userId]])]),n("div",Jt,[n("label",Qt,_(e.$t("config.password")),1),C(n("input",{"onUpdate:modelValue":o[4]||(o[4]=p=>i.socksProxy.password=p),class:"common_input_width field__input",placeholder:e.$t("config.password"),type:"password"},null,8,Wt),[[T,i.socksProxy.password]])])])],2)}const Zt=N(At,[["render",Gt]]),Yt={computed:{...V(Z,["isPay"]),...V(M,{option:e=>e}),httpProxy(){let e=this.option.httpProxy;return e||(e=this.initConfig()),e}},created(){this.httpProxy||this.initConfig()},methods:{initConfig(){const e={host:null,port:3128};return this.option.httpProxy=e,e}}},Xt={class:"mb-2 connect-input-item"},xt={class:"inline-block"},es={class:"common_input_label"},os={class:"mb-2 connect-input-item"},ns={class:"inline-block mr-10"},ts={class:"common_input_label"},ss=["placeholder"],ls={class:"inline-block mr-10"},is={class:"common_input_label"},as={class:"mb-2"},cs={class:"inline-block mr-10"},ds={class:"common_input_label"},rs=["placeholder"],us={class:"inline-block mr-10"},ps={class:"common_input_label"},ms=["placeholder"];function hs(e,o,l,u,d,i){const c=ae,m=uo,r=v("RedMark"),a=Te;return s(),h("div",{class:z({"opacity-65":!e.isPay})},[n("section",Xt,[n("div",xt,[n("label",es,_(e.$t("connect.enable")),1),t(m,{value:"Premium Only",hidden:e.isPay},{default:g(()=>[t(c,{modelValue:e.option.useHTTPProxy,"onUpdate:modelValue":o[0]||(o[0]=p=>e.option.useHTTPProxy=p),disabled:!e.isPay},null,8,["modelValue","disabled"])]),_:1},8,["hidden"])])]),n("section",os,[n("div",ns,[n("label",ts,[t(r),$(_(e.$t("config.host")),1)]),C(n("input",{"onUpdate:modelValue":o[1]||(o[1]=p=>i.httpProxy.host=p),class:"common_input_width field__input",placeholder:e.$t("config.host"),required:""},null,8,ss),[[T,i.httpProxy.host]])]),n("div",ls,[n("label",is,[t(r),$(_(e.$t("config.port")),1)]),t(a,{modelValue:i.httpProxy.port,"onUpdate:modelValue":o[2]||(o[2]=p=>i.httpProxy.port=p),placeholder:e.$t("config.port"),size:"small"},null,8,["modelValue","placeholder"])])]),n("section",as,[n("div",cs,[n("label",ds,_(e.$t("config.username")),1),C(n("input",{"onUpdate:modelValue":o[3]||(o[3]=p=>i.httpProxy.username=p),class:"common_input_width field__input",placeholder:e.$t("config.username"),required:""},null,8,rs),[[T,i.httpProxy.username]])]),n("div",us,[n("label",ps,_(e.$t("config.password")),1),C(n("input",{"onUpdate:modelValue":o[4]||(o[4]=p=>i.httpProxy.password=p),class:"common_input_width field__input",placeholder:e.$t("config.password"),type:"password"},null,8,ms),[[T,i.httpProxy.password]])])])],2)}const _s=N(Yt,[["render",hs]]),bs={data(){return{adv:{},timeZoneLists:[[{label:"China",value:"Asia/Shanghai"},{label:"Japan",value:"Asia/Tokyo"},{label:"Korea",value:"Asia/Seoul"},{label:"Thailand",value:"Asia/Bangkok"},{label:"Australia",value:"Australia/Sydney"}],[{label:"Italy",value:"Europe/Rome"},{label:"Spain",value:"Europe/Madrid"},{label:"France",value:"Europe/Paris"},{label:"Germany",value:"Europe/Berlin"},{label:"United Kingdom",value:"Europe/London"}],[{label:"Brazil",value:"Brazil/West"},{label:"Mexico",value:"Mexico/General"},{label:"Canada",value:"Canada/Mountain"},{label:"America(New York)",value:"America/New_York"},{label:"America(Los Angeles)",value:"America/Los_Angeles"}]],timezoneSelectorVisible:!1}},computed:{...V(Z,{UI:e=>e}),...V(Z,{visible:"advanceVisible"}),...V(M,{option:e=>e})},watch:{visible(){this.initConfig()}},methods:{initConfig(){this.option.advance||(this.option.advance={safeUpdateMode:!1,sqlMode:void 0,groupingTables:!1,groupingThreshold:void 0,showForeignKey:!1}),this.adv=this.option.advance}}},vs={class:"mb-4"},fs={key:0,class:"inline-block mr-10"},ks={class:"inline-block w-40"},gs={class:"inline-block"},$s={class:"inline-block",style:{width:"150px"}},ys={key:0,class:"mb-4"},ws={class:"inline-block mr-10"},Ss={class:"inline-block w-40"},Cs={class:"inline-block"},Vs={class:"mr-5 inline-block",style:{width:"130px"}},Ps={class:"inline-block"},Ts=n("label",{class:"mr-5 inline-block w-20"},"Time Zone",-1),Us={class:"max-h-[300px] flex gap-x-1"},Os={key:0,class:"w-full type-hr bg-bg"},Ds=["onClick"],As={class:"mt-2"},Is={class:"inline-block"},Es=n("label",{class:"mr-5 inline-block w-20"},"SQL Mode",-1),Ms={key:2,class:"mb-4 mt-5"},Ls={key:0,class:"inline-block mr-10"},Ns={class:"inline-block w-44"},qs={class:"inline-block mr-10"},Hs={class:"inline-block w-44"},js={class:"mb-4"},Rs={class:"inline-block"},Bs={class:"common_input_label w-40"};function Ks(e,o,l,u,d,i){const c=ae,m=po,r=Ie;return s(),U(r,{title:e.$t("connect.advance"),"model-value":e.visible,width:"600px",top:"10vh",center:"",onClose:o[10]||(o[10]=a=>e.UI.advanceVisible=!1)},{default:g(()=>[n("div",null,[n("section",vs,[["Neo4j"].includes(e.option.dbType)?P("",!0):(s(),h("div",fs,[n("label",ks,_(e.$t("config.groupingTables")),1),t(c,{modelValue:d.adv.groupingTables,"onUpdate:modelValue":o[0]||(o[0]=a=>d.adv.groupingTables=a)},null,8,["modelValue"])])),n("div",gs,[n("label",$s,_(e.$t("config.groupingThreshold")),1),C(n("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>d.adv.groupingThreshold=a),class:"field__input",style:{width:"50px"},placeholder:"50"},null,512),[[T,d.adv.groupingThreshold]])])]),["MariaDB","MySQL"].includes(e.option.dbType)?(s(),h("section",ys,[n("div",ws,[n("label",Ss,_(e.$t("config.safeUpdateMode")),1),t(c,{modelValue:d.adv.safeUpdateMode,"onUpdate:modelValue":o[2]||(o[2]=a=>d.adv.safeUpdateMode=a)},null,8,["modelValue"])]),n("div",Cs,[n("label",Vs,_(e.$t("config.showForeignKey")),1),t(c,{modelValue:d.adv.showForeignKey,"onUpdate:modelValue":o[3]||(o[3]=a=>d.adv.showForeignKey=a)},null,8,["modelValue"])])])):P("",!0),["MariaDB","MySQL"].includes(e.option.dbType)?(s(),h(B,{key:1},[n("section",null,[n("div",Ps,[Ts,t(m,{modelValue:d.timezoneSelectorVisible,"onUpdate:modelValue":o[5]||(o[5]=a=>d.timezoneSelectorVisible=a),placement:"bottom-start","popper-class":"!p-0",trigger:"click"},{reference:g(()=>[C(n("input",{"onUpdate:modelValue":o[4]||(o[4]=a=>d.adv.timeZone=a),class:"w-96 field__input",placeholder:"Default time zone"},null,512),[[T,d.adv.timeZone]])]),default:g(()=>[n("div",Us,[(s(!0),h(B,null,ne(d.timeZoneLists,(a,p)=>(s(),h("div",{key:p},[(s(!0),h(B,null,ne(a,(f,y)=>(s(),h("div",{key:y},[f=="hr"?(s(),h("div",Os)):(s(),h("div",{key:1,class:"el-select-dropdown__item min-w-[100px] bg-[var(--vscode-dropdown-background)]",onClick:E=>{d.adv.timeZone=f.value,d.timezoneSelectorVisible=!1}},_(f.label),9,Ds))]))),128))]))),128))])]),_:1},8,["modelValue"])])]),n("section",As,[n("div",Is,[Es,C(n("input",{"onUpdate:modelValue":o[6]||(o[6]=a=>d.adv.sqlMode=a),class:"w-96 field__input",placeholder:"e.g ONLY_FULL_GROUP_BY,NO_ZERO_IN_DATE"},null,512),[[T,d.adv.sqlMode]])])])],64)):P("",!0),["MariaDB","MySQL","PostgreSQL","Redshift"].includes(e.option.dbType)?(s(),h("section",Ms,[["MySQL","MariaDB","PostgreSQL","Redshift","Neo4j"].includes(e.option.dbType)?(s(),h("div",Ls,[n("label",Ns,_(e.$t("connect.hideSystemSchema")),1),t(c,{modelValue:e.option.advance.hideSystemSchema,"onUpdate:modelValue":o[7]||(o[7]=a=>e.option.advance.hideSystemSchema=a)},null,8,["modelValue"])])):P("",!0),n("div",qs,[n("label",Hs,_(e.$t("config.usingCustomDatabaseName")),1),t(c,{modelValue:d.adv.usingCustomDatabaseName,"onUpdate:modelValue":o[8]||(o[8]=a=>d.adv.usingCustomDatabaseName=a)},null,8,["modelValue"])])])):P("",!0),n("section",js,[n("div",Rs,[n("label",Bs,_(e.$t("config.showedDatabases")),1),C(n("input",{"onUpdate:modelValue":o[9]||(o[9]=a=>e.option.advance.includeDatabases=a),class:"w-80 field__input",placeholder:"e.g mysql,information_schema"},null,512),[[T,e.option.advance.includeDatabases]])])])])]),_:1},8,["title","model-value"])}const zs=N(bs,[["render",Ks]]),Fs={computed:{...V(Z,["option"])},created(){const e=ro();this.option.hasJava=e.hasJava,this.option.hasJdbcExt=e.hasJdbcExt}},Ge=e=>(Eo("data-v-076dd767"),e=e(),Mo(),e),Js={key:0,class:"mb-2"},Qs={class:"mr-5 inline-block px-5 py-2 bg-secondBg"},Ws=Ge(()=>n("i",{class:"el-icon-warning mr-1",style:{color:"#E6A23C"}},null,-1)),Gs={key:1,class:"mb-2"},Zs=Ge(()=>n("div",{class:"mb-2"}," The extension connects to the database via JDBC, you must have Java installed. ",-1)),Ys=Ge(()=>n("div",{class:"mr-5 inline-block px-5 py-2 bg-secondBg"},[n("i",{class:"el-icon-warning mr-1",style:{color:"#E6A23C"}}),$(" JAVA is not installed ")],-1)),Xs={class:"inline-block w-20"},xs=Ge(()=>n("a",{href:"https://jdk.java.net/21/"},"Open JDK",-1));function el(e,o,l,u,d,i){const c=v("vsc-button");return s(),h("div",null,[e.option.hasJdbcExt?P("",!0):(s(),h("section",Js,[n("div",Qs,[Ws,n("a",{onClick:o[0]||(o[0]=m=>e.$emit("installJdbc"))},"dbclient-jdbc"),$(" is not installed ")])])),e.option.hasJava?P("",!0):(s(),h("section",Gs,[Zs,Ys,n("div",Xs,[t(c,{size:"small",onClick:o[1]||(o[1]=m=>e.$emit("installJava"))},{default:g(()=>[$("Install")]),_:1})]),$(" Or go to "),xs,$(" to download and add it to the environment variables. ")]))])}const ol=N(Fs,[["render",el],["__scopeId","data-v-076dd767"]]),nl={computed:{...V(Z,{UI:e=>e}),...V(M,{option:e=>e})}},tl={class:"inline-block mb-4"},sl=n("label",{class:"mr-5 inline-block w-28"},"CA Certificate",-1),ll={class:"inline-block relative top-[0.5px]"},il={class:"inline-block mb-4"},al=n("label",{class:"mr-5 inline-block w-28"},"Client Cert",-1),cl={class:"inline-block relative top-[0.5px]"},dl={class:"inline-block"},rl=n("label",{class:"mr-5 inline-block w-28"},"Client Key",-1),ul={class:"inline-block relative top-[0.5px]"};function pl(e,o,l,u,d,i){const c=v("vsc-button"),m=Ie;return s(),U(m,{title:e.$t("config.sslConfig"),"model-value":e.UI.sslVisible,width:"580px",top:"10vh",center:"",onClose:o[6]||(o[6]=r=>e.UI.sslVisible=!1)},{default:g(()=>[n("div",null,[n("div",tl,[sl,C(n("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>e.option.caPath=r),class:"w-[330px] field__input",placeholder:"SSL CA Certificate Path"},null,512),[[T,e.option.caPath]]),n("div",ll,[t(c,{class:"input_btn",icon:"codicon-ellipsis",onClick:o[1]||(o[1]=r=>e.$emit("choose","caPath"))})])]),n("div",il,[al,C(n("input",{"onUpdate:modelValue":o[2]||(o[2]=r=>e.option.clientCertPath=r),class:"w-[330px] field__input",placeholder:"SSL Client Certificate Path"},null,512),[[T,e.option.clientCertPath]]),n("div",cl,[t(c,{class:"input_btn",icon:"codicon-ellipsis",onClick:o[3]||(o[3]=r=>e.$emit("choose","clientCertPath"))})])]),n("div",dl,[rl,C(n("input",{"onUpdate:modelValue":o[4]||(o[4]=r=>e.option.clientKeyPath=r),class:"w-[330px] field__input",placeholder:"SSL Client Key Path"},null,512),[[T,e.option.clientKeyPath]]),n("div",ul,[t(c,{icon:"codicon-ellipsis",class:"input_btn",onClick:o[5]||(o[5]=r=>e.$emit("choose","clientKeyPath"))})])])])]),_:1},8,["title","model-value"])}const ml=N(nl,[["render",pl]]),hl={props:{required:{type:Boolean,default:!0},withPassword:{type:Boolean,default:!0}},computed:{...V(M,{option:e=>e})}},_l={class:"mb-2 connect-input-item"},bl={class:"inline-block mr-10"},vl={class:"common_input_label"},fl=["placeholder"],kl={key:0,class:"inline-block mr-10"},gl={class:"common_input_label"},$l=["placeholder"];function yl(e,o,l,u,d,i){const c=v("RedMark");return s(),h("section",_l,[n("div",bl,[n("label",vl,[l.required?(s(),U(c,{key:0})):P("",!0),$(_(e.$t("config.username")),1)]),C(n("input",{"onUpdate:modelValue":o[0]||(o[0]=m=>e.option.user=m),class:"common_input_width field__input",placeholder:e.$t("config.username")},null,8,fl),[[T,e.option.user]])]),l.withPassword?(s(),h("div",kl,[n("label",gl,[l.required?(s(),U(c,{key:0})):P("",!0),$(_(e.$t("config.password")),1)]),C(n("input",{"onUpdate:modelValue":o[1]||(o[1]=m=>e.option.password=m),class:"common_input_width field__input",placeholder:e.$t("config.password"),type:"password"},null,8,$l),[[T,e.option.password]])])):P("",!0),co(e.$slots,"default")])}const pe=N(hl,[["render",yl]]),wl={components:{UsernameAndPassword:pe},computed:{...V(M,{option:e=>e})}},Sl={class:"mb-2"},Cl={class:"inline-block mr-10"},Vl={class:"common_input_label"},Pl=n("span",null,"URL",-1),Tl={class:"mb-2"},Ul=n("label",{class:"mr-5 inline-block w-36"},"Basic Auth",-1),Ol={class:"mb-2"},Dl={key:0,class:"inline-block mr-10"},Al={class:"common_input_label"};function Il(e,o,l,u,d,i){const c=v("RedMark"),m=Fe,r=v("UsernameAndPassword");return s(),h("div",null,[n("section",Sl,[n("div",Cl,[n("label",Vl,[t(c),Pl]),C(n("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.option.httpAuth.url=a),class:"field__input",style:{width:"28rem"},placeholder:"Host",required:""},null,512),[[T,e.option.httpAuth.url]])])]),n("section",Tl,[Ul,t(m,{modelValue:e.option.httpAuth.authType,"onUpdate:modelValue":o[1]||(o[1]=a=>e.option.httpAuth.authType=a),label:"none"},{default:g(()=>[$("No Auth")]),_:1},8,["modelValue"]),t(m,{modelValue:e.option.httpAuth.authType,"onUpdate:modelValue":o[2]||(o[2]=a=>e.option.httpAuth.authType=a),label:"account"},{default:g(()=>[$("Account")]),_:1},8,["modelValue"]),t(m,{modelValue:e.option.httpAuth.authType,"onUpdate:modelValue":o[3]||(o[3]=a=>e.option.httpAuth.authType=a),label:"token"},{default:g(()=>[$("Token")]),_:1},8,["modelValue"])]),e.option.httpAuth.authType=="account"?(s(),U(r,{key:0})):P("",!0),n("section",Ol,[e.option.httpAuth.authType=="token"?(s(),h("div",Dl,[n("label",Al,[t(c),$("Token")]),C(n("input",{"onUpdate:modelValue":o[4]||(o[4]=a=>e.option.httpAuth.basicToken=a),class:"field__input",style:{width:"40rem"},placeholder:"e.g Bearer <token>",required:""},null,512),[[T,e.option.httpAuth.basicToken]])])):P("",!0)])])}const El=N(wl,[["render",Il]]),Ml={computed:{...V(M,{option:e=>e})}},Ll={class:"mb-2 connect-input-item"},Nl={class:"inline-block mr-10"},ql={class:"common_input_label"},Hl={class:"inline-block mr-10"},jl={class:"common_input_label"};function Rl(e,o,l,u,d,i){const c=v("RedMark"),m=Te;return s(),h("div",null,[n("section",Ll,[n("div",Nl,[n("label",ql,[t(c),n("span",null,_(e.$t("config.host")),1)]),C(n("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>e.option.host=r),class:"common_input_width field__input",placeholder:"Host",required:""},null,512),[[T,e.option.host]])]),n("div",Hl,[n("label",jl,[t(c),$(_(e.$t("config.port")),1)]),t(m,{modelValue:e.option.port,"onUpdate:modelValue":o[1]||(o[1]=r=>e.option.port=r),placeholder:"Port"},null,8,["modelValue"])])])])}const be=N(Ml,[["render",Rl]]),Bl={components:{HostAndPort:be,UsernameAndPassword:pe},computed:{...V(M,{option:e=>e}),rdp(){return this.option.rdpConfig||(this.option.rdpConfig={fullScreen:!1,smartSizing:!0,redirectDrives:!0,forwardComposition:!0}),this.option.rdpConfig}}},Kl={class:"mt-3 mb-5"},zl={class:"mb-2"},Fl={class:"inline-block mr-8"},Jl=n("label",{class:"mr-5"},"Full Screen",-1),Ql={class:"inline-block mr-8"},Wl=n("label",{class:"mr-5"},"Smart Sizing",-1),Gl={class:"inline-block mr-8"},Zl=n("label",{class:"mr-5"},"Redirect Drivers",-1),Yl={class:"inline-block mr-8"},Xl=n("label",{class:"mr-5"},"Forward Composition Key",-1);function xl(e,o,l,u,d,i){const c=v("HostAndPort"),m=v("UsernameAndPassword"),r=ae;return s(),h("div",Kl,[t(c),t(m),n("section",zl,[n("div",Fl,[Jl,t(r,{modelValue:i.rdp.fullScreen,"onUpdate:modelValue":o[0]||(o[0]=a=>i.rdp.fullScreen=a)},null,8,["modelValue"])]),n("div",Ql,[Wl,t(r,{modelValue:i.rdp.smartSizing,"onUpdate:modelValue":o[1]||(o[1]=a=>i.rdp.smartSizing=a)},null,8,["modelValue"])]),n("div",Gl,[Zl,t(r,{modelValue:i.rdp.redirectDrives,"onUpdate:modelValue":o[2]||(o[2]=a=>i.rdp.redirectDrives=a)},null,8,["modelValue"])]),n("div",Yl,[Xl,t(r,{modelValue:i.rdp.forwardComposition,"onUpdate:modelValue":o[3]||(o[3]=a=>i.rdp.forwardComposition=a)},null,8,["modelValue"])])])])}const ei=N(Bl,[["render",xl]]),ye="https://cdn.cweijan.cn/dbclient";var Ke=(e=>(e.java="java",e.sqlite=`${ye}/sqlite3.exe`,e.duckDB=`${ye}/duckdb.exe`,e.snowflake=`${ye}/libs/snowflake-sdk-minify.js`,e))(Ke||{}),oi=(e=>(e.psql=`${ye}/dependency/postgresql/psql.exe`,e.pg_dump=`${ye}/dependency/postgresql/pg_dump16.exe`,e.mysqldump=`${ye}/dependency/mysql/mysqldump.exe`,e.mysql=`${ye}/dependency/mysql/mysql.exe`,e))(oi||{});const ze=class ze{};ze.pg="libpq",ze.mysql=["mysql","mysql-client"];let Oo=ze;const ni={components:{UsernameAndPassword:pe},props:["dependency"],computed:{...V(M,{option:e=>e}),withPassword(){return!["SNOWFLAKE_JWT","EXTERNALBROWSER"].includes(this.option.snowflake.authenticator)}},methods:{install(){this.$emit("installDependency",Ke.snowflake)}}},ti={key:0,class:"mb-2"},si=n("div",{class:"mr-5 inline-block px-5 py-2 bg-secondBg"},[n("i",{class:"el-icon-warning mr-1",style:{color:"#E6A23C"}}),$(" Snowflake lib is not installed ")],-1),li={class:"mr-5 inline-block w-36"},ii={class:"mb-2"},ai={class:"inline-block mr-10"},ci={class:"common_input_label"},di={class:"inline-block mr-10"},ri=n("label",{class:"common_input_label"},"warehouse",-1),ui={class:"mb-2"},pi={class:"inline-block mr-10"},mi=n("label",{class:"common_input_label"},"authenticator",-1),hi={key:1},_i={class:"mb-2 connect-input-item"},bi={class:"inline-block mr-10"},vi={class:"mr-5 inline-block common_input_label"},fi=["placeholder"],ki={class:"inline-block relative top-[0.5px]"},gi={class:"inline-block mr-10"},$i=n("label",{class:"mr-5 inline-block common_input_label"},"Passphrase",-1),yi=["placeholder"];function wi(e,o,l,u,d,i){const c=v("vsc-button"),m=v("RedMark"),r=Je,a=Qe,p=v("UsernameAndPassword");return s(),h("div",null,[l.dependency.snowflake?P("",!0):(s(),h("section",ti,[si,n("div",li,[t(c,{size:"small",onClick:i.install},{default:g(()=>[$("Install Now")]),_:1},8,["onClick"])])])),n("section",ii,[n("div",ai,[n("label",ci,[t(m),$(_(e.$t("config.account")),1)]),C(n("input",{"onUpdate:modelValue":o[0]||(o[0]=f=>e.option.snowflake.account=f),class:"common_input_width field__input",placeholder:"Account"},null,512),[[T,e.option.snowflake.account]])]),n("div",di,[ri,C(n("input",{"onUpdate:modelValue":o[1]||(o[1]=f=>e.option.snowflake.warehouse=f),class:"common_input_width field__input",placeholder:"Warehouse"},null,512),[[T,e.option.snowflake.warehouse]])])]),n("section",ui,[n("div",pi,[mi,t(a,{modelValue:e.option.snowflake.authenticator,"onUpdate:modelValue":o[2]||(o[2]=f=>e.option.snowflake.authenticator=f),class:"common_input_width",size:"small",placeholder:"Username/password",clearable:""},{default:g(()=>[t(r,{label:"Key Pair",value:"SNOWFLAKE_JWT"}),t(r,{label:"Username/password",value:"SNOWFLAKE"}),t(r,{label:"Single sign-on(External Browser)",value:"EXTERNALBROWSER"})]),_:1},8,["modelValue"])])]),t(p,{withPassword:i.withPassword},null,8,["withPassword"]),e.option.snowflake.authenticator=="SNOWFLAKE_JWT"?(s(),h("div",hi,[n("section",_i,[n("div",bi,[n("label",vi,_(e.$t("config.privateKeyPath")),1),C(n("input",{"onUpdate:modelValue":o[3]||(o[3]=f=>e.option.snowflake.privateKeyPath=f),class:"with_icon_input_width field__input",placeholder:e.$t("config.privateKeyPath")},null,8,fi),[[T,e.option.snowflake.privateKeyPath]]),n("div",ki,[t(c,{icon:"codicon-ellipsis",size:"medium",onClick:o[4]||(o[4]=f=>e.$emit("choose","snowflakePrivateKey"))})])]),n("div",gi,[$i,C(n("input",{"onUpdate:modelValue":o[5]||(o[5]=f=>e.option.snowflake.privateKeyPass=f),class:"common_input_width field__input",placeholder:e.$t("config.passphrase"),type:"Passphrase"},null,8,yi),[[T,e.option.snowflake.privateKeyPass]])])])])):P("",!0)])}const Si=N(ni,[["render",wi]]),Ci={components:{UsernameAndPassword:pe},mixins:[Lo],data(){return{firstLoad:!0,staticOnly:!0}},computed:{...V(M,{option:e=>e}),...V(Z,{UI:e=>e}),jdbcTypes(){return[{value:"Db2",icon:this.getIcon("db2.png")},{value:"Hive",icon:this.getIcon("hive.svg")},{value:"Trino",icon:this.getIcon("trino.png")},{value:"PrestoDB",icon:this.getIcon("presto_dark.svg")},{value:"Cassandra",icon:this.getIcon("cassandra.svg")},{value:"Oracle",icon:this.getIcon("oracle.png")},{value:"MySQL",icon:this.getIcon("mysql_dark.svg")},{value:"PostgreSQL",icon:this.getIcon("pgsql.svg")}]},driverPath(){return this.UI.option.jdbcDrivers[this.option.jdbc.dialect]}},watch:{driverPath(e){const o=this.option.jdbc.driverPath;if(!(o&&!o.startsWith("{homedir}")))if(e)this.option.jdbc.driverPath=e;else{if(this.UI.editModel&&this.firstLoad)return this.firstLoad=!1;this.option.jdbc.driverPath=null}},"option.jdbc.dialect"(e){this.jdbcTemplate(e)}},created(){this.staticOnly=ro().staticOnly},mounted(){this.UI.editModel||(this.jdbcTemplate(this.option.jdbc.dialect),this.option.jdbc.driverPath=this.UI.option.jdbcDrivers[this.option.jdbc.dialect])},methods:{jdbcTemplate(e){switch(e){case G.HIVE:this.option.connectionUrl="jdbc:hive2://127.0.0.1:10000",this.option.jdbc.driverClass="org.apache.hive.jdbc.HiveDriver";break;case G.TRINO:this.option.connectionUrl="jdbc:trino://127.0.0.1:8080",this.option.jdbc.driverClass="io.trino.jdbc.TrinoDriver";break;case G.PRESTO:this.option.connectionUrl="jdbc:presto://127.0.0.1:8080",this.option.jdbc.driverClass="com.facebook.presto.jdbc.PrestoDriver";break;case G.CASSANDRA:this.option.connectionUrl="jdbc:cassandra://127.0.0.1:9042",this.option.jdbc.driverClass="com.dbschema.CassandraJdbcDriver";break;case G.ORACLE:this.option.connectionUrl="jdbc:oracle:thin:@tcp://127.0.0.1:1521/XE?useUnicode=true&characterEncoding=utf8",this.option.jdbc.driverClass="oracle.jdbcjdbc.driverClass.OracleDriver";break;case G.MYSQL:this.option.connectionUrl="jdbc:mysql://127.0.0.1:3306",this.option.jdbc.driverClass="com.mysql.cj.jdbcjdbc.driverClass";break;case G.PG:this.option.connectionUrl="jdbc:postgresql://127.0.0.1:5432/postgres",this.option.jdbc.driverClass="org.postgresqljdbc.driverClass";break;case G.DB2:this.option.connectionUrl="jdbc:db2://127.0.0.1:50000",this.option.jdbc.driverClass="com.ibm.db2.jcc.DB2Driver";break;default:this.option.connectionUrl="",this.option.jdbc.driverClass="";break}},getIcon(e){return e=`resources/icon/server/${e}`,this.staticOnly?`../../${e}`:e}}},Qo=e=>(Eo("data-v-5fd372d7"),e=e(),Mo(),e),Vi={key:0,class:"mb-2"},Pi={class:"mr-5 inline-block px-5 py-2 bg-secondBg"},Ti=Qo(()=>n("i",{class:"el-icon-warning mr-1",style:{color:"#E6A23C"}},null,-1)),Ui={class:"inline-block w-20"},Oi={class:"mb-2"},Di={class:"inline-block mr-10"},Ai={class:"font-bold common_input_label"},Ii=Qo(()=>n("span",null,"JDBC URL",-1)),Ei={class:"mb-2"},Mi={class:"inline-block mr-10"},Li={class:"common_input_label"},Ni={class:"mb-2"},qi={class:"inline-block mr-10"},Hi={class:"common_input_label"},ji={class:"inline-block mr-10"},Ri={class:"common_input_label"},Bi=["src"];function Ki(e,o,l,u,d,i){const c=v("vsc-button"),m=v("RedMark"),r=Je,a=Qe,p=v("UsernameAndPassword");return s(),h("div",null,[e.option.jdbc.dialect&&!i.driverPath&&!e.option.jdbc.driverPath?(s(),h("section",Vi,[n("div",Pi,[Ti,$(" "+_(e.option.jdbc.dialect)+" jdbc driver is not installed ",1)]),n("div",Ui,[t(c,{size:"small",onClick:o[0]||(o[0]=f=>e.emit("downDriver",e.option.jdbc.dialect))},{default:g(()=>[$("Install")]),_:1})])])):P("",!0),n("section",Oi,[n("div",Di,[n("label",Ai,[t(m),Ii]),C(n("input",{"onUpdate:modelValue":o[1]||(o[1]=f=>e.option.connectionUrl=f),class:"field__input w-[500px]",placeholder:"e.g. jdbc:mysql://localhost:3306/test",required:""},null,512),[[T,e.option.connectionUrl]])])]),n("section",Ei,[n("div",Mi,[n("label",Li,[t(m),$(_(e.$t("config.driverPath")),1)]),C(n("input",{"onUpdate:modelValue":o[2]||(o[2]=f=>e.option.jdbc.driverPath=f),class:"w-[458px] field__input",placeholder:"JDBC Driver Path"},null,512),[[T,e.option.jdbc.driverPath]]),t(c,{icon:"codicon-file",class:"ml-1",onClick:o[3]||(o[3]=f=>e.$emit("choose","driverPath","JDBC Driver","jar"))})])]),n("section",Ni,[n("div",qi,[n("label",Hi,[t(m),$(_(e.$t("config.driverName")),1)]),C(n("input",{"onUpdate:modelValue":o[4]||(o[4]=f=>e.option.jdbc.driverClass=f),class:"common_input_width field__input",placeholder:"e.g. com.mysql.cj.jdbcjdbc.driverClass"},null,512),[[T,e.option.jdbc.driverClass]])]),n("div",ji,[n("label",Ri,[t(m),$(_(e.$t("config.dialect")),1)]),t(a,{modelValue:e.option.jdbc.dialect,"onUpdate:modelValue":o[5]||(o[5]=f=>e.option.jdbc.dialect=f),class:"w-28",placeholder:"Dialect",size:"small"},{default:g(()=>[(s(!0),h(B,null,ne(i.jdbcTypes,(f,y)=>(s(),U(r,{key:y,value:f.value},{default:g(()=>[n("img",{src:f.icon,class:"server-item"},null,8,Bi),$(" "+_(f.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),t(p,{required:!1})])}const zi=N(Ci,[["render",Ki],["__scopeId","data-v-5fd372d7"]]),Fi={props:["dependency"],computed:{...V(M,{option:e=>e}),isDuckDB(){return this.option.dbType==G.DUCK_DB},hasDependency(){return this.isDuckDB?this.dependency.duckDB:this.dependency.sqlite}},methods:{install(){const e=this.isDuckDB?Ke.duckDB:Ke.sqlite;this.$emit("installDependency",e)},choosePath(){const e=this.isDuckDB?["duckdb","db"]:"db";this.$emit("choose","dbPath","Database File",e)}}},Ji={key:0,class:"mb-2"},Qi={class:"mr-5 inline-block px-5 py-2 bg-secondBg"},Wi=n("i",{class:"el-icon-warning mr-1",style:{color:"#E6A23C"}},null,-1),Gi={class:"inline-block w-20"},Zi=n("a",{href:"https://duckdb.org/docs/installation/index"},"DuckDB",-1),Yi=n("a",{href:"https://www.sqlite.org/draft/download.html"},"SQLite",-1),Xi={class:"mb-2"},xi={class:"inline-block mr-10"},ea={class:"mr-5 inline-block w-28"};function oa(e,o,l,u,d,i){const c=v("vsc-button"),m=v("RedMark");return s(),h("div",null,[n("div",null,[i.hasDependency?P("",!0):(s(),h("section",Ji,[n("div",Qi,[Wi,$(" "+_(e.option.dbType)+" is not installed ",1)]),n("div",Gi,[t(c,{size:"small",onClick:i.install},{default:g(()=>[$("Install")]),_:1},8,["onClick"])]),i.isDuckDB?(s(),h(B,{key:0},[$(" Or go to "),Zi,$(" to download and add it to the environment variables. ")],64)):(s(),h(B,{key:1},[$(" Or go to "),Yi,$(" to download and add it to the environment variables. ")],64))])),n("section",Xi,[n("div",xi,[n("label",ea,[t(m),$(_(e.$t("config.dbPath")),1)]),C(n("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>e.option.dbPath=r),class:"w-80 field__input",placeholder:"Path"},null,512),[[T,e.option.dbPath]]),t(c,{icon:"codicon-file",class:"ml-1",size:"small",onClick:i.choosePath},null,8,["onClick"])])])])])}const na=N(Fi,[["render",oa]]),ta={props:{required:{type:Boolean,default:!0}},computed:{...V(Z,{UI:e=>e}),...V(M,{option:e=>e})}},sa={class:"mb-2"},la={class:"inline-block mr-10"},ia={class:"common_input_label"},aa=["placeholder"],ca={class:"inline-block mr-10"};function da(e,o,l,u,d,i){const c=v("vsc-button");return s(),h("section",sa,[n("div",la,[n("label",ia,_(e.$t("config.database")),1),C(n("input",{"onUpdate:modelValue":o[0]||(o[0]=m=>e.option.database=m),class:"common_input_width field__input",placeholder:e.$t("config.databasePlaceholder")},null,8,aa),[[T,e.option.database]])]),n("div",ca,[t(c,{size:"small",icon:"codicon-gear",onClick:o[1]||(o[1]=m=>{e.UI.advanceVisible=!0})},{default:g(()=>[$(_(e.$t("connect.advance")),1)]),_:1})])])}const Ze=N(ta,[["render",da]]),ra={components:{DatabaseAndAdvance:Ze,UsernameAndPassword:pe,HostAndPort:be},computed:{...V(M,{option:e=>e})}},ua={class:"mb-2"},pa={class:"inline-block mr-10"},ma=n("label",{class:"common_input_label"},"Instance Name",-1),ha=n("span",null," (If instance name is specified, the port config is ignored) ",-1),_a={class:"mb-2"},ba={class:"inline-block mr-10"},va=n("label",{class:"common_input_label"},"Auth Type",-1),fa={class:"inline-block mr-10"},ka=n("label",{class:"mr-5 inline-block w-18"},"Encrypt",-1),ga={key:0,class:"mb-2"},$a={class:"inline-block mr-10"},ya={class:"common_input_label"},wa={key:2,class:"mb-2"},Sa={class:"inline-block mr-10"},Ca={class:"common_input_label"},Va={key:0,class:"inline-block mr-10"},Pa={class:"common_input_label"},Ta={class:"inline-block mr-10"},Ua=n("label",{class:"common_input_label"},"Tenant Id",-1);function Oa(e,o,l,u,d,i){const c=v("HostAndPort"),m=Je,r=Qe,a=ae,p=v("RedMark"),f=v("UsernameAndPassword"),y=v("DatabaseAndAdvance");return s(),h("div",null,[t(c),n("section",ua,[n("div",pa,[ma,C(n("input",{"onUpdate:modelValue":o[0]||(o[0]=E=>e.option.sqlServer.instanceName=E),class:"common_input_width field__input",placeholder:"Connection named instance",title:"The instance name to connect to. The SQL Server Browser service must be running on the database server, and UDP port 1434 on the database server must be reachable.(no default)"},null,512),[[T,e.option.sqlServer.instanceName]])]),ha]),n("section",_a,[n("div",ba,[va,t(r,{modelValue:e.option.sqlServer.authType,"onUpdate:modelValue":o[1]||(o[1]=E=>e.option.sqlServer.authType=E),class:"common_input_width",size:"small"},{default:g(()=>[t(m,{label:"SQL Server Authentication",value:"default"}),t(m,{label:"NTLM (Windows Auth)",value:"ntlm"})]),_:1},8,["modelValue"])]),n("div",fa,[ka,t(a,{modelValue:e.option.sqlServer.encrypt,"onUpdate:modelValue":o[2]||(o[2]=E=>e.option.sqlServer.encrypt=E)},null,8,["modelValue"])])]),e.option.sqlServer.authType=="ntlm"?(s(),h("section",ga,[n("div",$a,[n("label",ya,[t(p),$("Domain")]),C(n("input",{"onUpdate:modelValue":o[3]||(o[3]=E=>e.option.sqlServer.domain=E),class:"common_input_width field__input",placeholder:"Domain"},null,512),[[T,e.option.sqlServer.domain]])])])):P("",!0),e.option.sqlServer.authType!="azure-active-directory-service-principal-secret"?(s(),U(f,{key:1})):P("",!0),["azure-active-directory-password","azure-active-directory-service-principal-secret"].includes(e.option.sqlServer.authType)?(s(),h("section",wa,[n("div",Sa,[n("label",Ca,[t(p),$("Client Id")]),C(n("input",{"onUpdate:modelValue":o[4]||(o[4]=E=>e.option.sqlServer.azureClientId=E),class:"common_input_width field__input",placeholder:"ClientId"},null,512),[[T,e.option.sqlServer.azureClientId]])]),e.option.sqlServer.authType=="azure-active-directory-service-principal-secret"?(s(),h("div",Va,[n("label",Pa,[t(p),$("Client Secret")]),C(n("input",{"onUpdate:modelValue":o[5]||(o[5]=E=>e.option.sqlServer.azureClientSecret=E),class:"common_input_width field__input",placeholder:"ClientSecret"},null,512),[[T,e.option.sqlServer.azureClientSecret]])])):P("",!0),n("div",Ta,[Ua,C(n("input",{"onUpdate:modelValue":o[6]||(o[6]=E=>e.option.sqlServer.azureTenantId=E),class:"common_input_width field__input",placeholder:"TenantId"},null,512),[[T,e.option.sqlServer.azureTenantId]])])])):P("",!0),t(y)])}const Da=N(ra,[["render",Oa]]),Aa={props:["option","ssh","visible"],data(){return{}},methods:{}},Ia={class:"mb-3"},Ea={class:"inline-flex mr-10"},Ma={class:"mr-5 inline-block w-24"},La={class:"mb-3"},Na={class:"inline-block"},qa=n("label",{class:"mr-5 inline-block w-24"},"Shell",-1),Ha=["placeholder"],ja=n("div",{class:"mb-3"}," SFTP Config: ",-1),Ra={class:"mb-2"},Ba={class:"inline-block mr-5"},Ka=n("label",{class:"mr-5 inline-block w-24"},"Root",-1),za={class:"inline-block"},Fa=n("label",{class:"mr-5 inline-block w-24"},"Disable SFTP",-1),Ja={class:"inline-block mr-10"},Qa={class:"mr-5 inline-block w-24"},Wa={class:"inline-block"},Ga={class:"common_input_label mr-2"};function Za(e,o,l,u,d,i){const c=Ee,m=Me,r=ae,a=Ie;return s(),U(a,{title:e.$t("connect.advance"),"model-value":l.visible,width:"650px",top:"10vh",center:"",onClose:o[6]||(o[6]=p=>e.$emit("update:model-value",!1))},{default:g(()=>[n("div",null,[n("section",Ia,[n("div",Ea,[n("label",Ma,_(e.$t("config.serverType")),1),t(m,{modelValue:l.ssh.serverType,"onUpdate:modelValue":o[0]||(o[0]=p=>l.ssh.serverType=p)},{default:g(()=>[t(c,{value:"linux"},{default:g(()=>[$("Linux")]),_:1}),t(c,{value:"windows"},{default:g(()=>[$("Windows")]),_:1})]),_:1},8,["modelValue"])])]),n("section",La,[n("div",Na,[qa,C(n("input",{"onUpdate:modelValue":o[1]||(o[1]=p=>l.ssh.shell=p),class:"field__input w-96",placeholder:e.$t("ssh.shell")},null,8,Ha),[[T,l.ssh.shell]])])]),ja,n("section",Ra,[n("div",Ba,[Ka,C(n("input",{"onUpdate:modelValue":o[2]||(o[2]=p=>l.ssh.ftpRoot=p),class:"w-36 field__input",placeholder:"/"},null,512),[[T,l.ssh.ftpRoot]])]),n("div",za,[Fa,t(r,{modelValue:l.ssh.disableSFTP,"onUpdate:modelValue":o[3]||(o[3]=p=>l.ssh.disableSFTP=p)},null,8,["modelValue"])])]),n("section",null,[n("div",Ja,[n("label",Qa,_(e.$t("connect.pruneSFTPRoot")),1),t(r,{modelValue:l.ssh.pruneSFTPRoot,"onUpdate:modelValue":o[4]||(o[4]=p=>l.ssh.pruneSFTPRoot=p)},null,8,["modelValue"])]),n("div",Wa,[n("label",Ga,_(e.$t("connect.showHiddenFiles")),1),t(r,{modelValue:l.option.fs.showHidden,"onUpdate:modelValue":o[5]||(o[5]=p=>l.option.fs.showHidden=p)},null,8,["modelValue"])])])])]),_:1},8,["title","model-value"])}const Ya=N(Aa,[["render",Za]]),Xa={props:["ssh","visible"],data(){return{config:{cipher:["chacha20-poly1305@openssh.com","aes128-gcm@openssh.com","aes256-gcm@openssh.com","aes128-ctr","aes192-ctr","aes256-ctr","aes256-cbc","aes192-cbc","aes128-cbc","blowfish-cbc","3des-cbc","arcfour256","arcfour128","cast128-cbc","arcfour"],serverHostKey:["ssh-ed25519","ecdsa-sha2-nistp256","ecdsa-sha2-nistp384","ecdsa-sha2-nistp521","rsa-sha2-512","rsa-sha2-256","ssh-rsa","ssh-dss"],kex:["curve25519-sha256","curve25519-sha256@libssh.org","ecdh-sha2-nistp256","ecdh-sha2-nistp384","ecdh-sha2-nistp521","diffie-hellman-group-exchange-sha256","diffie-hellman-group14-sha256","diffie-hellman-group15-sha512","diffie-hellman-group16-sha512","diffie-hellman-group17-sha512","diffie-hellman-group18-sha512","diffie-hellman-group-exchange-sha1","diffie-hellman-group14-sha1","diffie-hellman-group1-sha1(Deprecated)"]}}}},xa={class:"mb-3"},ec={class:"inline-flex mb-5"},oc=n("label",{class:"mr-5 inline-block w-20 shrink-0"},"Cipher",-1),nc={class:"inline-flex mb-5"},tc=n("label",{class:"mr-5 inline-block w-20 shrink-0"},"Server Key",-1),sc={class:"inline-flex mr-10"},lc=n("label",{class:"mr-5 inline-block w-20 shrink-0"},"Kex",-1);function ic(e,o,l,u,d,i){const c=No,m=Tn,r=Ie;return s(),U(r,{title:e.$t("connect.algorithm"),"model-value":l.visible,width:"570px",top:"10vh",center:""},{default:g(()=>[n("div",null,[n("section",xa,[n("div",ec,[oc,t(m,{modelValue:l.ssh.algorithms.cipher,"onUpdate:modelValue":o[0]||(o[0]=a=>l.ssh.algorithms.cipher=a)},{default:g(()=>[(s(!0),h(B,null,ne(d.config.cipher,a=>(s(),U(c,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),n("div",nc,[tc,t(m,{modelValue:l.ssh.algorithms.serverHostKey,"onUpdate:modelValue":o[1]||(o[1]=a=>l.ssh.algorithms.serverHostKey=a)},{default:g(()=>[(s(!0),h(B,null,ne(d.config.serverHostKey,a=>(s(),U(c,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),n("div",sc,[lc,t(m,{modelValue:l.ssh.algorithms.kex,"onUpdate:modelValue":o[2]||(o[2]=a=>l.ssh.algorithms.kex=a)},{default:g(()=>[(s(!0),h(B,null,ne(d.config.kex,a=>(s(),U(c,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])])]),_:1},8,["title","model-value"])}const ac=N(Xa,[["render",ic]]),cc={components:{AdvanceDialog:Ya,AlgorithmDialog:ac},props:["tunnelMode","sshMode"],data(){return{advanceVisible:!1,algorithmVisible:!1}},computed:{...V(Z,["pkPath"]),...V(Z,{defaultAlgorithms:e=>e.option.defaultAlgorithms}),...V(M,["dbType"]),...V(M,{option:e=>e}),ssh(){const e=(this.tunnelMode?this.option.ssh:this.option.sshConnect)||this.initConfig(),{kex:o,cipher:l,serverHostKey:u}=e.algorithms,{kex:d=[],cipher:i=[],serverHostKey:c=[]}=this.defaultAlgorithms||{};return(!Array.isArray(o)||o.length==0)&&(e.algorithms.kex=[...d]),(!Array.isArray(l)||l.length==0)&&(e.algorithms.cipher=[...i]),(!Array.isArray(u)||u.length==0)&&(e.algorithms.serverHostKey=[...c]),e}},created(){this.ssh?this.ssh.serverType||(this.ssh.serverType="linux"):this.initConfig()},methods:{initConfig(){console.log("initconfig");const e={...yn,algorithms:{...wn},...Sn,privateKeyPath:this.pkPath,connectTimeout:this.tunnelMode?5e3:void 0};return this.tunnelMode?this.option.ssh=e:this.option.sshConnect=e,e}}},dc={key:0,class:"mb-2 connect-input-item"},rc={class:"inline-block"},uc={class:"common_input_label"},pc={class:"mb-2 connect-input-item"},mc={class:"inline-block mr-10"},hc={class:"mr-5 inline-block common_input_label"},_c=["placeholder"],bc={class:"inline-block mr-10"},vc={class:"mr-5 inline-block common_input_label"},fc={class:"mb-2"},kc={class:"inline-block mr-10"},gc={class:"mr-5 inline-block common_input_label"},$c=["placeholder"],yc={class:"inline-flex mr-10"},wc={key:0,class:"inline-flex mr-10"},Sc={class:"mb-2 connect-input-item"},Cc={class:"connect-input-item mr-10"},Vc={class:"mr-5 inline-block common_input_label"},Pc={key:0,class:"inline-block mr-10 mt-2"},Tc={class:"mr-5 inline-block common_input_label"},Uc={key:1},Oc={class:"mb-2"},Dc={class:"mr-5 inline-block common_input_label"},Ac={key:2},Ic={class:"mb-2 connect-input-item"},Ec={class:"inline-block mr-10"},Mc={class:"mr-5 inline-block common_input_label"},Lc=["placeholder"],Nc={class:"inline-block mr-10"},qc=n("label",{class:"mr-5 inline-block common_input_label"},"Passphrase",-1),Hc=["placeholder"];function jc(e,o,l,u,d,i){const c=ae,m=v("RedMark"),r=Te,a=v("vsc-button"),p=Ee,f=Me,y=v("AdvanceDialog"),E=v("AlgorithmDialog");return s(),h("div",null,[l.tunnelMode?(s(),h("section",dc,[n("div",rc,[n("label",uc,_(e.$t("connect.enable")),1),t(c,{modelValue:e.option.usingSSH,"onUpdate:modelValue":o[0]||(o[0]=D=>e.option.usingSSH=D)},null,8,["modelValue"])])])):P("",!0),n("section",pc,[n("div",mc,[n("label",hc,[t(m),$(_(e.$t("config.host")),1)]),C(n("input",{"onUpdate:modelValue":o[1]||(o[1]=D=>i.ssh.host=D),class:"common_input_width field__input",placeholder:e.$t("config.host"),required:""},null,8,_c),[[T,i.ssh.host]])]),n("div",bc,[n("label",vc,[t(m),$(_(e.$t("config.port")),1)]),t(r,{modelValue:i.ssh.port,"onUpdate:modelValue":o[2]||(o[2]=D=>i.ssh.port=D),placeholder:e.$t("config.port"),size:"small"},null,8,["modelValue","placeholder"])])]),n("section",fc,[n("div",kc,[n("label",gc,[t(m),$(_(e.$t("config.username")),1)]),C(n("input",{"onUpdate:modelValue":o[3]||(o[3]=D=>i.ssh.username=D),class:"common_input_width field__input",placeholder:e.$t("config.username"),required:""},null,8,$c),[[T,i.ssh.username]])]),n("div",yc,[t(a,{size:"small",icon:"codicon-gear",onClick:o[4]||(o[4]=D=>{d.algorithmVisible=!0})},{default:g(()=>[$(_(e.$t("connect.algorithm")),1)]),_:1})]),l.sshMode?(s(),h("div",wc,[t(a,{size:"small",icon:"codicon-gear",onClick:o[5]||(o[5]=D=>{d.advanceVisible=!0})},{default:g(()=>[$(_(e.$t("connect.advance")),1)]),_:1})])):P("",!0)]),n("section",Sc,[n("div",Cc,[n("label",Vc,[t(m),$("Auth")]),t(f,{modelValue:i.ssh.type,"onUpdate:modelValue":o[6]||(o[6]=D=>i.ssh.type=D),type:"relax"},{default:g(()=>[t(p,{value:"auto"},{default:g(()=>[$(_(e.$t("config.auto")),1)]),_:1}),t(p,{value:"password"},{default:g(()=>[$(_(e.$t("config.password")),1)]),_:1}),t(p,{value:"privateKey"},{default:g(()=>[$(_(e.$t("config.key")),1)]),_:1}),t(p,{value:"agent"},{default:g(()=>[$("Agent")]),_:1})]),_:1},8,["modelValue"])]),l.tunnelMode?(s(),h("div",Pc,[n("label",Tc,_(e.$t("connect.connectTimeout")),1),C(n("input",{"onUpdate:modelValue":o[7]||(o[7]=D=>i.ssh.connectTimeout=D),class:"common_input_width field__input",placeholder:"SSH connection timeout."},null,512),[[T,i.ssh.connectTimeout]])])):P("",!0)]),["password","privateKeyAndPassword","auto"].includes(i.ssh.type)?(s(),h("div",Uc,[n("section",Oc,[n("label",Dc,_(e.$t("config.password")),1),C(n("input",{"onUpdate:modelValue":o[8]||(o[8]=D=>i.ssh.password=D),class:"common_input_width field__input",placeholder:"Password",required:"",type:"password"},null,512),[[T,i.ssh.password]])])])):P("",!0),["privateKey","privateKeyAndPassword","auto"].includes(i.ssh.type)?(s(),h("div",Ac,[n("section",Ic,[n("div",Ec,[n("label",Mc,_(e.$t("config.privateKeyPath")),1),C(n("input",{"onUpdate:modelValue":o[9]||(o[9]=D=>i.ssh.privateKeyPath=D),class:"with_icon_input_width field__input",placeholder:e.$t("config.privateKeyPath")},null,8,Lc),[[T,i.ssh.privateKeyPath]]),t(a,{icon:"codicon-ellipsis",class:"ml-1",onClick:o[10]||(o[10]=D=>e.$emit("choose",l.tunnelMode?"privateKey":"connectPrivateKey"))})]),n("div",Nc,[qc,C(n("input",{"onUpdate:modelValue":o[11]||(o[11]=D=>i.ssh.passphrase=D),class:"common_input_width field__input",placeholder:e.$t("config.passphrase"),type:"Passphrase"},null,8,Hc),[[T,i.ssh.passphrase]])])])])):P("",!0),t(y,{ref:"advanceDialog",modelValue:d.advanceVisible,"onUpdate:modelValue":o[12]||(o[12]=D=>d.advanceVisible=D),option:e.option,ssh:i.ssh},null,8,["modelValue","option","ssh"]),t(E,{ref:"algorithmDialog",class:"mt-[4vh]",modelValue:d.algorithmVisible,"onUpdate:modelValue":o[13]||(o[13]=D=>d.algorithmVisible=D),ssh:i.ssh},null,8,["modelValue","ssh"])])}const Rc=N(cc,[["render",jc]]),Wo={minio:{s3PathStyle:!0},aws:{endPointTemplate:"s3.#region.amazonaws.com"},cos:{endPointTemplate:"cos.#region.myqcloud.com"},oss:{endPointTemplate:"#region.aliyuncs.com"},qiniu:{endPointTemplate:"s3-#region.qiniucs.com"}};function Bc(e){const o=Wo[e.cfg??e.value]??{};return{...e,...o}}function A(e,o,l){var i;l||(l=o);let u;const d=(i=Wo[e])==null?void 0:i.endPointTemplate;return d&&(u=d.replace("#region",o)),{value:`${e} ${o}`,label:l,region:o,cfg:e,endPoint:u}}const Go=[{value:"openSource",label:"Common",children:[{value:"minio",label:"Minio",endPoint:"127.0.0.1",port:9e3,useSSL:!1},{value:"tebi",label:"Tebi",endPoint:"s3.sgp.tebi.io",port:443,useSSL:!0}]},{value:"aws",label:"AWS S3",children:[A("aws","us-east-1"),A("aws","us-east-2"),A("aws","us-west-1"),A("aws","us-west-2"),A("aws","ap-east-1"),A("aws","ap-southeast-3"),A("aws","ap-south-1"),A("aws","ap-northeast-3")]},{value:"oss",label:"阿里云 OSS",children:[A("oss","oss-cn-beijing","华北2（北京）"),A("oss","oss-cn-shanghai","华东2（上海）"),A("oss","oss-cn-guangzhou","华南3（广州）"),A("oss","oss-cn-hangzhou","华东1（杭州）"),A("oss","oss-cn-shenzhen","华南1（深圳）"),A("oss","oss-cn-chengdu","西南1（成都）"),A("oss","oss-cn-nanjing","华东5（南京）"),A("oss","oss-cn-hongkong","中国香港"),A("oss","oss-ap-southeast-1","新加坡"),A("oss","oss-ap-northeast-2","首尔"),A("oss","oss-ap-northeast-1","东京"),A("oss","oss-us-west-1","美国（硅谷）")]},{value:"cos",label:"腾讯云 COS",children:[A("cos","ap-beijing","北京"),A("cos","ap-shanghai","上海"),A("cos","ap-guangzhou","广州"),A("cos","ap-chengdu","成都"),A("cos","ap-chongqing","重庆"),A("cos","ap-nanjing","南京"),A("cos","ap-shenzhen-fsi","深圳金融"),A("cos","ap-shanghai-fsi","上海金融"),A("cos","ap-beijing-fsi","北京金融"),A("cos","ap-hongkong","中国香港"),A("cos","ap-singapore","新加坡"),A("cos","ap-seoul","首尔"),A("cos","ap-tokyo","东京"),A("cos","na-siliconvalley","硅谷")]},{value:"qiniu",label:"七牛云 Kodo",children:[A("qiniu","cn-south-1","华南"),A("qiniu","cn-east-1","华东"),A("qiniu","cn-north-1","华北"),A("qiniu","cn-east-2","华东-浙江2"),A("qiniu","us-north-1","北美"),A("qiniu","ap-southeast-1","东南亚")]}],Kc=Un.arrayToObj(Go.flatMap(e=>e.children),"value");function zc(e){return Kc[e]}const Fc={data(){return{options:Go}},computed:{...V(Z,{editModel:e=>e.editModel}),...V(M,{connectionOption:e=>e})},created(){this.editModel||this.changeService()},methods:{changeService(){const e=this.connectionOption.s3.serviceIds;this.changeConfig(zc(e[2]??e[1]))},changeConfig(e){const o=Bc(e);this.connectionOption.host=o.endPoint,this.connectionOption.port=o.port??443,this.connectionOption.s3.region=o.region??"us-west-1",this.connectionOption.s3.useSSL=o.useSSL??!0,this.connectionOption.s3.pathStyle=o.s3PathStyle??!1}}},Jc={class:"s3-container"},Qc={class:"mb-4 inline-block",style:{"font-size":"15px"}},Wc={class:"mb-2"},Gc={class:"inline-block mr-10"},Zc={class:"common_input_label"},Yc=n("span",null,"EndPoint",-1),Xc={class:"inline-block mr-10"},xc={class:"common_input_label"},ed={class:"mb-2"},od={class:"inline-block mr-10"},nd={class:"common_input_label"},td={class:"inline-block mr-10"},sd={class:"common_input_label"},ld={class:"mb-2"},id={class:"inline-block mr-10"},ad={class:"common_input_label"},cd={class:"inline-block mr-10"},dd=n("label",{class:"mr-5 inline-block w-18"},"https",-1),rd={class:"inline-block mr-10"},ud=n("label",{class:"mr-5 inline-block w-18"},"Path Style",-1),pd={class:"mb-2"},md={class:"inline-block"},hd={class:"common_input_label"},_d={class:"mb-2"},bd={class:"mb-2"},vd=n("label",{class:"common_input_label inline-block"},"Service",-1),fd=["onClick"];function kd(e,o,l,u,d,i){const c=v("RedMark"),m=ae,r=Dt;return s(),h("div",Jc,[n("span",Qc,_(e.$t("connect.s3Notice")),1),n("section",Wc,[n("div",Gc,[n("label",Zc,[t(c),Yc]),C(n("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.connectionOption.host=a),class:"common_input_width field__input",placeholder:"EndPoint",required:""},null,512),[[T,e.connectionOption.host]])]),n("div",Xc,[n("label",xc,[t(c),$(_(e.$t("config.port")),1)]),C(n("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>e.connectionOption.port=a),class:"common_input_width field__input",placeholder:"Port",required:"",type:"number"},null,512),[[T,e.connectionOption.port]])])]),n("section",ed,[n("div",od,[n("label",nd,[t(c),$("Access Key")]),C(n("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>e.connectionOption.s3.accessKey=a),class:"common_input_width field__input",placeholder:"Access Key",required:""},null,512),[[T,e.connectionOption.s3.accessKey]])]),n("div",td,[n("label",sd,[t(c),$("Secret Key")]),C(n("input",{"onUpdate:modelValue":o[3]||(o[3]=a=>e.connectionOption.s3.accessSecret=a),class:"common_input_width field__input",placeholder:"Secret Key",type:"password"},null,512),[[T,e.connectionOption.s3.accessSecret]])])]),n("section",ld,[n("div",id,[n("label",ad,[t(c),$("Region ")]),C(n("input",{"onUpdate:modelValue":o[4]||(o[4]=a=>e.connectionOption.s3.region=a),class:"common_input_width field__input",placeholder:"Region",required:""},null,512),[[T,e.connectionOption.s3.region]])]),n("div",cd,[dd,t(m,{modelValue:e.connectionOption.s3.useSSL,"onUpdate:modelValue":o[5]||(o[5]=a=>e.connectionOption.s3.useSSL=a)},null,8,["modelValue"])]),n("div",rd,[ud,t(m,{modelValue:e.connectionOption.s3.pathStyle,"onUpdate:modelValue":o[6]||(o[6]=a=>e.connectionOption.s3.pathStyle=a)},null,8,["modelValue"])])]),n("section",pd,[n("div",md,[n("label",hd,_(e.$t("config.showedBuckets")),1),C(n("input",{"onUpdate:modelValue":o[7]||(o[7]=a=>e.connectionOption.s3.includeBuckets=a),class:"common_input_width field__input",placeholder:"e.g resources,files"},null,512),[[T,e.connectionOption.s3.includeBuckets]])])]),n("section",_d,[n("section",bd,[vd,t(r,{modelValue:e.connectionOption.s3.serviceIds,"onUpdate:modelValue":o[8]||(o[8]=a=>e.connectionOption.s3.serviceIds=a),options:d.options,filterable:"",size:"small",props:{expandTrigger:"hover"},style:{width:"230px"},onChange:i.changeService},{default:g(({data:a})=>[n("span",{onClick:p=>i.changeConfig(a)},_(a.label),9,fd)]),_:1},8,["modelValue","options","onChange"])])])])}const gd=N(Fc,[["render",kd]]),$d={name:"TunnelOption",computed:{...V(Z,{UI:e=>e}),...V(M,["dbType"]),...V(M,{option:e=>e})},methods:{not(...e){return!e.includes(this.dbType)}}},yd={key:0,class:"inline-flex mr-10 items-center"},wd=n("label",{class:"inline-block w-18 mr-3"},"SSL",-1);function Sd(e,o,l,u,d,i){const c=ae,m=v("vsc-button");return["MySQL","MariaDB","PostgreSQL","Redshift","FTP","Docker","MongoDB","Redis","Kafka","Doris"].includes(e.dbType)&&(e.dbType!="Docker"||e.option.dockerConnType=="tcp")?(s(),h("div",yd,[wd,t(c,{modelValue:e.option.useSSL,"onUpdate:modelValue":o[0]||(o[0]=r=>e.option.useSSL=r),class:"mr-4"},null,8,["modelValue"]),e.option.useSSL?(s(),U(m,{key:0,icon:"codicon-gear",size:"small",onClick:o[1]||(o[1]=r=>e.UI.sslVisible=!0)},{default:g(()=>[$(_(e.$t("config.plain")),1)]),_:1})):P("",!0)])):P("",!0)}const Le=N($d,[["render",Sd]]),Cd={components:{HostAndPort:be,SSLOption:Le},props:["hasLocalDocker"],computed:{...V(M,{option:e=>e})},methods:{openDocument(){this.$emit("sendToVscode","openPage",{page:"document",param:"/#/docker"})}}},Vd={class:"mb-2 inline-flex"},Pd={class:"mr-5 inline-block common_input_label"},Td={class:"mb-2"},Ud={key:1,class:"mb-2"},Od={class:"inline-block mr-10"},Dd={class:"common_input_label"},Ad={key:0};function Id(e,o,l,u,d,i){const c=Ee,m=Me,r=v("HostAndPort"),a=v("SSLOption"),p=v("RedMark");return s(),h("div",{style:ao({"margin-bottom":(e.option.dockerConnType=="ssh","")})},[n("section",Vd,[n("label",Pd,_(e.$t("connect.connectionType")),1),t(m,{modelValue:e.option.dockerConnType,"onUpdate:modelValue":o[0]||(o[0]=f=>e.option.dockerConnType=f),class:"inline-block",type:"relax"},{default:g(()=>[t(c,{value:"ssh"},{default:g(()=>[$("SSH")]),_:1}),t(c,{value:"socket"},{default:g(()=>[$("Socket")]),_:1}),t(c,{value:"tcp"},{default:g(()=>[$("Tcp")]),_:1})]),_:1},8,["modelValue"])]),e.option.dockerConnType=="tcp"?(s(),h(B,{key:0},[t(r),n("section",Td,[t(a)])],64)):e.option.dockerConnType=="socket"?(s(),h("section",Ud,[n("div",Od,[n("label",Dd,[t(p),$(_(e.$t("connect.socketPath")),1)]),C(n("input",{"onUpdate:modelValue":o[1]||(o[1]=f=>e.option.socketPath=f),class:"common_input_width field__input mr-2",placeholder:"/var/run/docker.sock"},null,512),[[T,e.option.socketPath]])]),l.hasLocalDocker?(s(),h("div",Ad,_(e.$t("connect.hasDockerNotice")),1)):P("",!0)])):P("",!0)],4)}const Ed=N(Cd,[["render",Id]]),Md={components:{UsernameAndPassword:pe,SSLOption:Le},computed:{...V(M,{option:e=>e})}},Ld={class:"mb-2 connect-input-item"},Nd={class:"inline-block mr-10"},qd={class:"common_input_label"},Hd={class:"inline-block mr-10"},jd={class:"common_input_label"},Rd={class:"mb-2"},Bd=n("label",{class:"mr-5 inline-block w-36"},"Auth",-1),Kd={class:"mb-2"};function zd(e,o,l,u,d,i){const c=v("RedMark"),m=Te,r=Fe,a=v("UsernameAndPassword"),p=v("SSLOption");return s(),h("div",null,[n("section",Ld,[n("div",Nd,[n("label",qd,[t(c),n("span",null,_(e.$t("config.host")),1)]),C(n("input",{"onUpdate:modelValue":o[0]||(o[0]=f=>e.option.host=f),class:"common_input_width field__input",placeholder:"Host",required:""},null,512),[[T,e.option.host]])]),n("div",Hd,[n("label",jd,[t(c),$(_(e.$t("config.port")),1)]),t(m,{modelValue:e.option.port,"onUpdate:modelValue":o[1]||(o[1]=f=>e.option.port=f),placeholder:"Port",size:"small"},null,8,["modelValue"])])]),n("section",Rd,[Bd,t(r,{modelValue:e.option.kafkaAuth,"onUpdate:modelValue":o[2]||(o[2]=f=>e.option.kafkaAuth=f),label:"none"},{default:g(()=>[$("None")]),_:1},8,["modelValue"]),t(r,{modelValue:e.option.kafkaAuth,"onUpdate:modelValue":o[3]||(o[3]=f=>e.option.kafkaAuth=f),label:"plain"},{default:g(()=>[$("Plain")]),_:1},8,["modelValue"]),t(r,{modelValue:e.option.kafkaAuth,"onUpdate:modelValue":o[4]||(o[4]=f=>e.option.kafkaAuth=f),label:"scram-sha-256"},{default:g(()=>[$("Scram-sha-256")]),_:1},8,["modelValue"]),t(r,{modelValue:e.option.kafkaAuth,"onUpdate:modelValue":o[5]||(o[5]=f=>e.option.kafkaAuth=f),label:"scram-sha-512"},{default:g(()=>[$("Scram-sha-512")]),_:1},8,["modelValue"])]),["plain","scram-sha-256","scram-sha-512"].includes(e.option.kafkaAuth)?(s(),U(a,{key:0})):P("",!0),n("section",Kd,[t(p)])])}const Fd=N(Md,[["render",zd]]),Jd={components:{UsernameAndPassword:pe,HostAndPort:be,SSLOption:Le},data(){return{encodings:["utf8","gbk","ascii","latin1","utf16le"]}},computed:{...V(M,{option:e=>e})}},Qd={class:"connect-input-item"},Wd={class:"inline-block mr-10"},Gd={class:"common_input_label"},Zd={class:"inline-block mr-10"},Yd={class:"common_input_label"},Xd={class:"mt-4"};function xd(e,o,l,u,d,i){const c=v("HostAndPort"),m=v("UsernameAndPassword"),r=Je,a=Qe,p=ae,f=v("SSLOption");return s(),h("div",null,[t(c),t(m),n("div",Qd,[n("div",Wd,[n("label",Gd,_(e.$t("connect.ftpEncoding")),1),t(a,{modelValue:e.option.fs.encoding,"onUpdate:modelValue":o[0]||(o[0]=y=>e.option.fs.encoding=y),class:"common_input_width",placeholder:"utf8",size:"small"},{default:g(()=>[(s(!0),h(B,null,ne(d.encodings,y=>(s(),U(r,{key:y,value:y},{default:g(()=>[$(_(y),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),n("div",Zd,[n("label",Yd,_(e.$t("connect.showHiddenFiles")),1),t(p,{modelValue:e.option.fs.showHidden,"onUpdate:modelValue":o[1]||(o[1]=y=>e.option.fs.showHidden=y)},null,8,["modelValue"])])]),n("section",Xd,[t(f)])])}const er=N(Jd,[["render",xd]]),or={components:{HostAndPort:be,UsernameAndPassword:pe,SSLOption:Le},computed:{...V(M,{option:e=>e})}},nr={class:"mb-2"},tr={class:"inline-block mr-10"},sr={class:"common_input_label"},lr=["placeholder"],ir={class:"inline-block"},ar={class:"inline-block mr-10"},cr={class:"common_input_label !w-16"},dr={class:"mb-2"},rr={class:"inline-block mr-10"},ur={class:"common_input_label"},pr={class:"inline-block mr-10"},mr=n("label",{class:"common_input_label !w-24"},"All Database",-1);function hr(e,o,l,u,d,i){const c=v("HostAndPort"),m=v("UsernameAndPassword"),r=v("RedMark"),a=ae,p=v("SSLOption"),f=Te;return s(),h("div",null,[t(c),t(m,{required:!1}),n("section",nr,[n("div",tr,[n("label",sr,_(e.$t("config.database")),1),C(n("input",{"onUpdate:modelValue":o[0]||(o[0]=y=>e.option.database=y),class:"common_input_width field__input",placeholder:e.$t("config.databasePlaceholder")},null,8,lr),[[T,e.option.database]])]),n("div",ir,[n("div",ar,[n("label",cr,[t(r),$("Cluster")]),t(a,{modelValue:e.option.redis.cluster,"onUpdate:modelValue":o[1]||(o[1]=y=>e.option.redis.cluster=y)},null,8,["modelValue"])]),t(p)])]),n("section",dr,[n("div",rr,[n("label",ur,_(e.$t("config.databaseNumber")),1),t(f,{modelValue:e.option.redis.databaseNumber,"onUpdate:modelValue":o[2]||(o[2]=y=>e.option.redis.databaseNumber=y),min:1,placeholder:"16"},null,8,["modelValue"])]),n("div",pr,[mr,t(a,{modelValue:e.option.redis.allDatabase,"onUpdate:modelValue":o[3]||(o[3]=y=>e.option.redis.allDatabase=y)},null,8,["modelValue"])])])])}const _r=N(or,[["render",hr]]),br={components:{SSLOption:Le},computed:{...V(M,["dbType"]),...V(M,{option:e=>e}),supportCustomConnect(){return Pn(this.dbType)},connectUrlExample(){switch(this.dbType){case"Oracle":return"e.g jdbc:oracle:thin:@tcp://127.0.0.1:1521/XE";case G.PG:case G.REDSHIFT:return"e.g postgresql://user:password@127.0.0.1:5432/postgres";case G.MYSQL:return"e.g mysql://user:password@127.0.0.1:3306/test";case G.MARIA_DB:return"e.g mariadb://user:password@127.0.0.1:3306/test"}return"e.g mongodb+srv://username:password@server-url/admin"}}},vr={class:"mb-2"},fr={class:"inline-block mr-10"},kr={class:"inline-block mr-5"},gr={class:"mb-2"},$r={key:0,class:"w-full mr-10 mt-2"},yr={class:"common_input_label"},wr=["placeholder"];function Sr(e,o,l,u,d,i){const c=ae,m=v("SSLOption"),r=v("RedMark");return s(),h("div",null,[n("div",{style:ao({opacity:e.option.useConnectionString?.7:null})},[co(e.$slots,"default")],4),i.supportCustomConnect?(s(),h(B,{key:0},[n("section",vr,[n("div",fr,[n("label",kr,_(e.$t("connect.usingConnectString")),1),t(c,{modelValue:e.option.useConnectionString,"onUpdate:modelValue":o[0]||(o[0]=a=>e.option.useConnectionString=a),class:"mr-2"},null,8,["modelValue"])]),t(m)]),n("section",gr,[e.option.useConnectionString?(s(),h("div",$r,[n("label",yr,[t(r),$(_(e.$t("connect.connectString")),1)]),C(n("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>e.option.connectionUrl=a),class:"w-4/6 field__input",placeholder:i.connectUrlExample},null,8,wr),[[T,e.option.connectionUrl]])])):P("",!0)])],64)):(s(),U(m,{key:1}))])}const ho=N(br,[["render",Sr]]),Cr={components:{ConnectionString:ho,HostAndPort:be,UsernameAndPassword:pe},computed:{...V(M,{option:e=>e})}},Vr={class:"mb-2 inline-block"},Pr={class:"mb-2"},Tr={class:"inline-block mr-10"},Ur={class:"common_input_label"};function Or(e,o,l,u,d,i){const c=v("HostAndPort"),m=v("UsernameAndPassword"),r=v("ConnectionString");return s(),h("div",null,[t(r,null,{default:g(()=>[n("span",Vr,_(e.$t("connect.mongoNotice")),1),t(c),t(m,{required:!1}),n("section",Pr,[n("div",Tr,[n("label",Ur,_(e.$t("config.mongoAuthSource")),1),C(n("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.option.mongoAuthSource=a),class:"common_input_width field__input",placeholder:"admin"},null,512),[[T,e.option.mongoAuthSource]])])])]),_:1})])}const Dr=N(Cr,[["render",Or]]),Ar={components:{DatabaseAndAdvance:Ze,HostAndPort:be,UsernameAndPassword:pe,ConnectionString:ho},computed:{...V(M,{option:e=>e})}},Ir={class:"mb-2"},Er={class:"inline-block mr-10"},Mr={class:"common_input_label"};function Lr(e,o,l,u,d,i){const c=v("HostAndPort"),m=v("UsernameAndPassword"),r=v("DatabaseAndAdvance"),a=v("vsc-button"),p=v("ConnectionString");return s(),U(p,null,{default:g(()=>[t(c),t(m),t(r),n("section",Ir,[n("div",Er,[n("label",Mr,_(e.$t("connect.socketPath")),1),C(n("input",{"onUpdate:modelValue":o[0]||(o[0]=f=>e.option.socketPath=f),class:"common_input_width field__input !mr-10",placeholder:"e.g. /var/run/mysqld/mysqld.sock"},null,512),[[T,e.option.socketPath]]),t(a,{icon:"codicon-tools",onClick:o[1]||(o[1]=f=>e.option.socketPath="/var/run/mysqld/mysqld.sock")},{default:g(()=>[$(_(e.$t("connect.use")),1)]),_:1})])])]),_:1})}const Nr=N(Ar,[["render",Lr]]),qr={components:{DatabaseAndAdvance:Ze,HostAndPort:be,UsernameAndPassword:pe},computed:{...V(M,{option:e=>e})}},Hr={class:"mb-2"},jr={class:"inline-block mr-10"},Rr={class:"mr-2 inline-block w-36"},Br={class:"inline-block common_input_width"},Kr={class:"inline-block mr-5"},zr={class:"inline-block w-36"};function Fr(e,o,l,u,d,i){const c=v("HostAndPort"),m=v("UsernameAndPassword"),r=Fe,a=ae,p=v("DatabaseAndAdvance");return s(),h("div",null,[t(c),t(m),n("section",Hr,[n("div",jr,[n("label",Rr,_(e.$t("connect.protocol")),1),n("div",Br,[t(r,{modelValue:e.option.clickhouse.protocol,"onUpdate:modelValue":o[0]||(o[0]=f=>e.option.clickhouse.protocol=f),label:"http"},{default:g(()=>[$("http")]),_:1},8,["modelValue"]),t(r,{modelValue:e.option.clickhouse.protocol,"onUpdate:modelValue":o[1]||(o[1]=f=>e.option.clickhouse.protocol=f),label:"https"},{default:g(()=>[$("https")]),_:1},8,["modelValue"])])]),n("div",Kr,[n("label",zr,_(e.$t("connect.coLatestVersion")),1),t(a,{modelValue:e.option.clickhouse.latestVersion,"onUpdate:modelValue":o[2]||(o[2]=f=>e.option.clickhouse.latestVersion=f)},null,8,["modelValue"])])]),t(p)])}const Jr=N(qr,[["render",Fr]]),Qr={data(){return{panels:[{id:"Main",i18n:"connect.main",icon:"codicon-gear"},{id:"SSH",icon:"codicon-remote",enable:()=>this.option.usingSSH},{id:"Socks",i18n:"connect.socksProxy",icon:"codicon-symbol-class yellow",enable:()=>this.option.useSocksProxy,hidden:()=>this.dbType=="Docker"&&this.option.dockerConnType=="socket"},{id:"HTTP",i18n:"connect.httpProxy",icon:"codicon-note blue",enable:()=>this.option.useHTTPProxy,hidden:()=>this.dbType=="Docker"&&this.option.dockerConnType=="socket"}]}},computed:{...V(Z,{UI:e=>e,platform:e=>e.option.platform}),...V(M,["dbType"]),...V(M,{option:e=>e}),computedPanels(){return this.panels.filter(e=>{var o;return((o=e==null?void 0:e.hidden)==null?void 0:o.call(e))!=!0})},supportTunnel(){return!["SQLite","DuckDB"].includes(this.dbType)}}},Wr={key:0,class:"mt-3 flex"},Gr={class:"block mr-3"},Zr={class:"flex"},Yr=["onClick"],Xr={key:1,class:"relative ml-1 top-[2.5px] yellow"};function xr(e,o,l,u,d,i){return i.supportTunnel?(s(),h("section",Wr,[n("label",Gr,_(e.$t("config.plain")),1),n("ul",Zr,[(s(!0),h(B,null,ne(i.computedPanels,(c,m)=>{var r;return s(),h("li",{key:m,class:z(["tab__item mb-2",{"tab__item--active":e.UI.activePanel==c.id}]),onClick:a=>e.UI.activePanel=c.id},[c.icon?(s(),h("i",{key:0,type:"icon",class:z(c.icon),style:{position:"relative",top:"3px"}},null,2)):P("",!0),$(" "+_(c.i18n?e.$t(c.i18n):c.id)+" ",1),(r=c.enable)!=null&&r.call(c)?(s(),h("span",Xr,"*")):P("",!0)],10,Yr)}),128))])])):P("",!0)}const eu=N(Qr,[["render",xr],["__scopeId","data-v-ce32c009"]]),ou={name:"ServiceSelector",components:{TunnelSelector:eu},data(){return{staticOnly:!1,moreSelectorVisible:!1}},computed:{...V(Z,{UI:e=>e,platform:e=>e.option.platform}),...V(M,["dbType"]),...V(M,{connectionOption:e=>e}),supportServersList(){return[[{value:"MySQL",icon:"resources/icon/server/mysql_dark.svg"},{value:"MariaDB",icon:"resources/icon/server/mariadb.svg"},{value:"PostgreSQL",icon:"resources/icon/server/pgsql.svg"},"|",{value:"SQLite",icon:"resources/icon/server/sqlite.svg"},{value:"SqlServer",label:"SQL Server",icon:"resources/icon/server/mssql.svg"},{label:"Oracle",value:"Oracle",icon:"resources/icon/server/oracle.png"},"|",{label:"Turso",value:"libSQL",icon:"resources/icon/server/turso.svg"},{value:"ClickHouse",icon:"resources/icon/server/clickhouse.svg"},{value:"JDBC",icon:"resources/icon/server/java.png"}].map(this.convertIcon),[{value:"SSH",icon:"resources/icon/server/gnu.svg"},{value:"Docker",icon:"resources/icon/server/docker.svg"},"|",{value:"Redis",icon:"resources/icon/server/redis.png"},{value:"ElasticSearch",icon:"resources/icon/server/elasticsearch.svg"},{value:"MongoDB",icon:"resources/icon/server/mongo.svg"},"|",{label:"S3",value:"S3",icon:"resources/icon/server/s3.png"},{value:"FTP",icon:"resources/icon/server/ftp.png"},"|",{label:"Kafka",value:"Kafka",icon:"resources/icon/server/kafka.png"},{label:"RabbitMQ",value:"RabbitMQ",icon:"resources/icon/server/rabbitmq.svg"},{value:"Loki",icon:"resources/icon/server/loki.png"},"|","more"].map(this.convertIcon)]},moreServers(){return[{value:"Redshift",icon:"resources/icon/server/redshift.svg"},{value:"Snowflake",icon:"resources/icon/server/snowflake.svg"},{value:"DuckDB",icon:"resources/icon/server/duckdb.png"},"|",{value:"达梦",icon:"resources/icon/server/dm.png"},{value:"TDengine",label:"TDengine",icon:"resources/icon/server/tdengine.svg"},{value:"Doris",label:"Apache Doris",icon:"resources/icon/server/doris.png"},"|",{value:"RDP",icon:"resources/icon/server/rdp.png"},{value:"Neo4j",icon:"resources/icon/server/neo4j.png"},{label:"Zookeeper",icon:"resources/icon/server/zookeeper.png"}].map(this.convertIcon).filter(e=>e.value!="RDP"||this.isWin)},moreServerIcon(){return this.isMoreServer?this.moreServers.find(e=>e.value==this.dbType).icon:(this.staticOnly?"../../":"")+"resources/icon/server/more.png"},isWin(){return this.platform=="win32"},isMoreServer(){return this.moreServers.some(e=>e.value==this.dbType)}},created(){this.staticOnly=ro().staticOnly},methods:{convertIcon(e){return typeof e=="string"?e:{...e,icon:this.staticOnly?"../../"+e.icon:e.icon}}}},nu={class:"mb-2 pt-2 border-t border-border lg:w-max"},tu={class:"block"},su={key:0,class:"tab__item px-1 py-[5px] xl:py-2 divider"},lu={class:"pl-2 py-1"},iu=["value","onClick"],au=["src"],cu={class:"tab__item px-1 py-[5px] xl:py-2"},du=["src"],ru={key:0},uu={key:1},pu=["onClick"],mu=["src"];function hu(e,o,l,u,d,i){const c=po,m=v("TunnelSelector");return s(),h("section",nu,[n("label",tu,_(e.$t("config.serverType")),1),(s(!0),h(B,null,ne(i.supportServersList,(r,a)=>(s(),h("ul",{key:a,class:"tab"},[(s(!0),h(B,null,ne(r,(p,f)=>(s(),h(B,{key:f},[p=="|"?(s(),h("li",su,"|")):p=="more"?(s(),h("li",{key:1,class:z(["tab__item px-1 py-[5px] xl:py-2 divider",{"tab__item--active":i.isMoreServer}])},[t(c,{modelValue:d.moreSelectorVisible,"onUpdate:modelValue":o[0]||(o[0]=y=>d.moreSelectorVisible=y),placement:"bottom","popper-class":"!p-0",trigger:"hover"},{reference:g(()=>[n("span",cu,[n("img",{src:i.moreServerIcon,class:"server-item"},null,8,du),i.isMoreServer?(s(),h("span",ru,_(e.dbType),1)):(s(),h("span",uu,_(e.$t("config.more")),1))])]),default:g(()=>[n("div",lu,[(s(!0),h(B,null,ne(i.moreServers,(y,E)=>(s(),h("div",{key:E,value:y.value,class:"tab__item p-1",onClick:D=>{d.moreSelectorVisible=!1,e.connectionOption.dbType=y.value}},[y=="|"?(s(),h("div",{key:E,class:"border-t-[1px] border-[--border-color] divider"})):(s(),h("img",{key:1,src:y.icon,class:"server-item"},null,8,au)),$(_(y.label||y.value),1)],8,iu))),128))])]),_:1},8,["modelValue"])],2)):(s(),h("li",{key:2,class:z(["tab__item px-2 py-[5px] xl:py-2",{"tab__item--active":(p.value||p)==e.dbType}]),onClick:y=>e.connectionOption.dbType=p.value||p},[p.icon?(s(),h("img",{key:0,src:p.icon,class:"server-item"},null,8,mu)):P("",!0),$(" "+_(p.label||p.value||p),1)],10,pu))],64))),128))]))),128)),t(m)])}const _u=N(ou,[["render",hu],["__scopeId","data-v-64556f81"]]),bu={computed:{...V(Z,{UI:e=>e}),...V(Z,{visible:"connectAdvanceVisible"}),...V(M,{option:e=>e})}},vu={class:"mb-4"},fu={class:"inline-block mr-3"},ku={class:"mr-4"},gu={class:"mb-2"},$u={class:"inline-flex mr-10 items-center"},yu={class:"mr-4"},wu={class:"inline-block"},Su={class:"inline-block w-24"};function Cu(e,o,l,u,d,i){const c=ae,m=Ee,r=Me,a=Ie;return s(),U(a,{title:e.$t("connect.advance"),"model-value":e.visible,width:"500px",top:"10vh",center:"",onClose:o[5]||(o[5]=p=>e.UI.connectAdvanceVisible=!1)},{default:g(()=>[n("section",vu,[n("div",fu,[n("label",ku,_(e.$t("connect.readOnly")),1),t(c,{modelValue:e.option.readonly,"onUpdate:modelValue":o[0]||(o[0]=p=>e.option.readonly=p)},null,8,["modelValue"])])]),n("section",gu,[n("div",$u,[n("label",yu,_(e.$t("connect.savePassword")),1),t(r,{modelValue:e.option.savePassword,"onUpdate:modelValue":o[3]||(o[3]=p=>e.option.savePassword=p),class:"!inline-flex"},{default:g(()=>[t(m,{modelValue:e.option.savePassword,"onUpdate:modelValue":o[1]||(o[1]=p=>e.option.savePassword=p),value:"Forever"},{default:g(()=>[$(_(e.$t("connect.savePasswordForever")),1)]),_:1},8,["modelValue"]),t(m,{modelValue:e.option.savePassword,"onUpdate:modelValue":o[2]||(o[2]=p=>e.option.savePassword=p),value:"Never"},{default:g(()=>[$(_(e.$t("connect.savePasswordNever")),1)]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),n("div",wu,[n("label",Su,_(e.$t("connect.connectTimeout")),1),C(n("input",{"onUpdate:modelValue":o[4]||(o[4]=p=>e.option.connectTimeout=p),class:"w-20 field__input",placeholder:"5000",required:""},null,512),[[T,e.option.connectTimeout]])])])]),_:1},8,["title","model-value"])}const Vu=N(bu,[["render",Cu]]),Pu={name:"ConnectOption",components:{ConnectAdvanceDialog:Vu},data(){return{groupSelectorVisible:!1}},computed:{...V(Z,["isPay"]),...V(Z,{UI:e=>e,groups:e=>e.option.groups}),...V(M,{connectionOption:e=>e})}},Tu={class:"connect-input-item mb-3 group-selection"},Uu={class:"inline-block mr-3"},Ou={class:"mr-5 inline-block w-9"},Du=["placeholder"],Au={class:"inline-block mr-3"},Iu={class:"mr-5 inline-block w-9"},Eu={class:"max-h-[300px]"},Mu=["onClick"],Lu=["placeholder"],Nu={class:"inline-block mr-5"},qu={class:"inline-flex items-center"},Hu={class:"mr-5"},ju={key:0,class:"w-full",style:{"font-size":"15px",margin:"8px 0px 0px 0"}},Ru=["innerHTML"],Bu={class:"red"},Ku={class:"red"};function zu(e,o,l,u,d,i){const c=po,m=v("vsc-button"),r=Ee,a=uo,p=Me,f=v("ConnectAdvanceDialog");return s(),h("section",Tu,[n("div",Uu,[n("label",Ou,_(e.$t("connect.name")),1),C(n("input",{"onUpdate:modelValue":o[0]||(o[0]=y=>e.connectionOption.name=y),class:"field__input w-32 lg:w-36",placeholder:e.$t("connect.connectionName")},null,8,Du),[[T,e.connectionOption.name]])]),n("div",Au,[n("label",Iu,_(e.$t("connect.group")),1),t(c,{modelValue:d.groupSelectorVisible,"onUpdate:modelValue":o[3]||(o[3]=y=>d.groupSelectorVisible=y),placement:"bottom","popper-class":"!p-0",trigger:"click"},{reference:g(()=>[C(n("input",{"onUpdate:modelValue":o[1]||(o[1]=y=>e.connectionOption.group=y),class:"field__input w-32",placeholder:e.$t("connect.groupPlaceholder"),onInput:o[2]||(o[2]=y=>{d.groupSelectorVisible=!1})},null,40,Lu),[[T,e.connectionOption.group]])]),default:g(()=>[n("div",Eu,[(s(!0),h(B,null,ne(e.groups,y=>(s(),h("div",{key:y,class:"el-select-dropdown__item min-w-[100px] bg-[var(--vscode-dropdown-background)]",onClick:E=>{e.connectionOption.group=y,d.groupSelectorVisible=!1}},_(y),9,Mu))),128))])]),_:1},8,["modelValue"])]),n("div",Nu,[t(m,{size:"small",onClick:o[4]||(o[4]=y=>{e.UI.connectAdvanceVisible=!0})},{default:g(()=>[$(_(e.$t("connect.advance")),1)]),_:1})]),n("div",qu,[n("label",Hu,_(e.$t("connect.scope")),1),t(p,{modelValue:e.connectionOption.global,"onUpdate:modelValue":o[7]||(o[7]=y=>e.connectionOption.global=y)},{default:g(()=>[t(r,{modelValue:e.connectionOption.global,"onUpdate:modelValue":o[5]||(o[5]=y=>e.connectionOption.global=y),value:!0},{default:g(()=>[$(_(e.$t("connect.global")),1)]),_:1},8,["modelValue"]),t(r,{modelValue:e.connectionOption.global,"onUpdate:modelValue":o[6]||(o[6]=y=>e.connectionOption.global=y),disabled:!e.isPay,value:!1},{default:g(()=>[$(_(e.$t("connect.current")),1)]),_:1},8,["modelValue","disabled"]),t(a,{value:"Premium Only",style:{left:"-40px",top:"-5px"},hidden:e.isPay},null,8,["hidden"])]),_:1},8,["modelValue"])]),e.isPay?P("",!0):(s(),h("h1",ju,[n("span",{innerHTML:e.$t("pay.connectNotice")},null,8,Ru),$(" Database "),n("span",Bu,_(e.UI.option.connectionCount.sql)+"/3",1),$(" , NoSQL "),n("span",Ku,_(e.UI.option.connectionCount.noSQL)+"/3",1)])),t(f)])}const Fu=N(Pu,[["render",zu]]),Ju={name:"ConnectResult",computed:{...V(Z,{UI:e=>e,connect:e=>e.connect}),...V(M,["dbType"]),...V(M,{connectionOption:e=>e})}},Qu={key:0,class:"p-3 mb-2 panel error"},Wu={class:"panel__text"},Gu={class:"common_input_label"},Zu=["textContent"],Yu={key:1,class:"p-3 mb-2 panel success"},Xu={class:"panel__text"},xu={class:"mr-5 inline-block w-36"},ep=["innerHTML"];function op(e,o,l,u,d,i){return s(),h("section",null,[e.connect.error?(s(),h("blockquote",Qu,[n("section",Wu,[n("div",Gu,_(e.$t("connect.error")),1),n("span",{textContent:_(e.connect.errorMessage)},null,8,Zu)])])):P("",!0),e.connect.success?(s(),h("blockquote",Yu,[n("section",Xu,[n("div",xu,_(e.$t("connect.success")),1),n("span",{innerHTML:e.connect.successMessage},null,8,ep)])])):P("",!0)])}const np=N(Ju,[["render",op],["__scopeId","data-v-5e2eb491"]]),tp={name:"Connect",components:{ConnectionString:ho,HttpConnection:El,ConnectResult:np,ConnectOption:Fu,MySQL:Nr,DatabaseAndAdvance:Ze,UsernameAndPassword:pe,Redis:_r,HostAndPort:be,ClickHouse:Jr,MongoDB:Dr,HTTPProxy:_s,Snowflake:Si,SQLite:na,SQLServer:Da,SSH:Rc,Socks:Zt,FTP:er,JDBCGuide:ol,JDBC:zi,Kafka:Fd,S3:gd,Docker:Ed,AdvanceDialog:zs,Rdp:ei,SSLDialog:ml,ServiceSelector:_u},mixins:[Lo],computed:{...V(Z,["isPay","connect","option"]),...V(Z,{UI:e=>e,connect:e=>e.connect}),...V(M,["dbType"]),...V(M,{connectionOption:e=>e,rawOption:e=>Vn(e)})},watch:{"connectionOption.dbType"(e){if(!this.UI.editModel){switch(this.UI.activePanel="Main",this.connectionOption.host="127.0.0.1",e){case G.MySQL:case G.MARIA_DB:this.connectionOption.user="root",this.connectionOption.port=3306,this.connectionOption.database=null;break;case G.DORIS:this.connectionOption.user="root",this.connectionOption.port=9030,this.connectionOption.database=null;break;case G.PG:this.connectionOption.user="postgres",this.connectionOption.encrypt=!1,this.connectionOption.port=5432,this.connectionOption.database="postgres";break;case G.REDSHIFT:this.connectionOption.user="awsuser",this.connectionOption.encrypt=!1,this.connectionOption.port=5439,this.connectionOption.database="dev";break;case"ClickHouse":this.connectionOption.host="127.0.0.1",this.connectionOption.password="",this.connectionOption.user="default",this.connectionOption.encrypt=!1,this.connectionOption.port=8123,this.connectionOption.database="default",this.connectionOption.clickhouse.protocol="http",this.connectionOption.clickhouse.latestVersion=!0;break;case G.TDengine:this.connectionOption.port=6041,this.connectionOption.user="root";break;case"Oracle":this.connectionOption.port=1521,this.connectionOption.user="system",this.connectionOption.database="XE",this.connectionOption.advance.includeDatabases="system";break;case"SqlServer":this.connectionOption.user="sa",this.connectionOption.port=1433,this.connectionOption.database="master",this.connectionOption.useSSL=!1,this.connectionOption.sqlServer.encrypt=!0;break;case"ElasticSearch":this.connectionOption.httpAuth.authType="none",this.connectionOption.httpAuth.url="http://127.0.0.1:9200";break;case"Loki":this.connectionOption.httpAuth.authType="none",this.connectionOption.httpAuth.url="http://127.0.0.1:3100";break;case"libSQL":this.connectionOption.httpAuth.authType="token",this.connectionOption.httpAuth.url="https://[database]-[account].turso.io";break;case"RabbitMQ":this.connectionOption.user="guest",this.connectionOption.password="guest",this.connectionOption.httpAuth.authType="account",this.connectionOption.httpAuth.url="http://127.0.0.1:15672";break;case"Redis":this.connectionOption.port=6379,this.connectionOption.user=null,this.connectionOption.database="0";break;case"Kafka":this.connectionOption.port=9092,this.connectionOption.user=null,this.connectionOption.kafkaAuth="plain";break;case"达梦":this.connectionOption.port=5236,this.connectionOption.user="SYSDBA",this.connectionOption.database=null;break;case"Neo4j":this.connectionOption.port=7687,this.connectionOption.user="neo4j",this.connectionOption.database="neo4j";break;case"MongoDB":this.connectionOption.user=null,this.connectionOption.password=null,this.connectionOption.port=27017;break;case"Snowflake":this.connectionOption.user=null,this.connectionOption.password=null,this.connectionOption.snowflake.authenticator="SNOWFLAKE";break;case"FTP":this.connectionOption.port=21,this.connectionOption.user="anonymous",this.connectionOption.useSSL=!1,this.connectionOption.fs.encoding="utf8";break;case"RDP":this.connectionOption.port=3389,this.connectionOption.user="";break;case"JDBC":this.connectionOption.user="",this.connectionOption.jdbc.dialect="Db2";break;case"Zookeeper":this.connectionOption.port=2181;break;case"S3":this.connectionOption.s3.serviceIds=["openSource","minio"];break;case"Docker":this.connectionOption.port=2375,this.connectionOption.dockerConnType=this.UI.option.hasLocalDocker?"socket":"ssh";break;case G.SQLITE:case G.DUCK_DB:this.connectionOption.database=null,this.connectionOption.usingSSH=!1,this.connectionOption.useSocksProxy=!1,this.connectionOption.useSSL=!1;break;case"SSH":this.connectionOption.database=null,this.connectionOption.useSSL=!1;break}this.$forceUpdate()}}},mounted(){this.focusHolder(),this.on("config",({node:e,mode:o})=>{this.UI.editModel=!0,this.connectionOption.$patch(o=="edit"?e:{...e,key:void 0,sort:void 0})}).on("connect",({group:e})=>{this.UI.editModel=!1,this.connectionOption.group=e}).on("choose",({event:e,path:o})=>{switch(e){case"dbPath":this.connectionOption.dbPath=o;break;case"connectPrivateKey":this.connectionOption.sshConnect.privateKeyPath=o;break;case"snowflakePrivateKey":this.connectionOption.snowflake.privateKeyPath=o;break;case"caPath":this.connectionOption.caPath=o;break;case"privateKey":this.connectionOption.ssh.privateKeyPath=o;break;default:this.connectionOption[e]=o,console.log(this.connectionOption);break}this.$forceUpdate()}).on("user",e=>{this.UI.user=e}).on("prefer",e=>{e&&(this.connectionOption.dbType=e)}).on("option",e=>{console.log("option",e),this.UI.option=e,this.UI.userInit=!0}).on("error",e=>{this.UI.connect.loading=!1,this.UI.connect.success=!1,this.UI.connect.error=!0,this.UI.connect.errorMessage=e}).on("success",e=>{this.UI.connect.loading=!1,this.UI.connect.error=!1,this.UI.connect.success=!0,this.UI.connect.successMessage=e.message,this.connectionOption.connectionKey=e.connectionKey,this.connectionOption.key=e.key,this.connectionOption.sort=e.sort,this.connectionOption.isGlobal=this.connectionOption.global}),this.emit("init"),window.onkeydown=e=>{var u,d;const o=e.key=="Enter",l=()=>e.preventDefault();if(o){if(this.UI.sslVisible)return l(),this.UI.sslVisible=!1;if(this.UI.advanceVisible)return l(),this.UI.advanceVisible=!1;if((d=(u=this.$refs.ssh)==null?void 0:u.$data)!=null&&d.advanceVisible)return l(),this.$refs.ssh.$data.advanceVisible=!1;if(e.target.tagName=="INPUT")return l(),this.tryConnect()}}},methods:{focusHolder(){let e;window.onfocus=()=>{this.emit("getUser"),this.emit("status"),setTimeout(()=>{e&&e.focus()},10)},window.onblur=()=>{const o=document.activeElement;o&&o instanceof HTMLInputElement&&(e=o)}},installDependency(e){this.emit("installDependency",e)},saveConnect(){this.emit("connecting",{connectionOption:this.rawOption,saveOnly:!0})},tryConnect(){this.UI.connect.error=!1,this.UI.connect.loading=!0,this.emit("connecting",{connectionOption:this.rawOption,saveOnly:this.dbType=="RDP"})},onContextmenu(e){const o=e.target;if(!(!o||!(o instanceof HTMLInputElement)||!o.select))return Cn({items:[{label:"Copy",onClick:()=>document.execCommand("copy")},{label:"Paste",onClick:()=>document.execCommand("paste")}],event:e,minWidth:230}),!1},choose(e,o,l){let u={};o&&l&&(Array.isArray(l)?u[o]=[...l]:u[o]=[l]),u["All Files"]=["*"],this.emit("choose",{event:e,filters:u})},sendToVscode(e,o){this.emit(e,o)},close(){this.emit("close")},installJava(){this.emit("installJava")},installJdbc(){this.emit("installJdbc")}}},sp={class:"connect-container max-lg:px-5"},lp=["src"],ip={class:"py-4 text-2xl",style:{display:"inline-block"}},ap={class:"connect-bar"};function cp(e,o,l,u,d,i){const c=v("ConnectResult"),m=v("ConnectOption"),r=v("ServiceSelector"),a=v("HttpConnection"),p=v("SQLite"),f=v("Snowflake"),y=v("JDBCGuide"),E=v("JDBC"),D=v("S3"),te=v("Docker"),ee=v("SSH"),J=v("Kafka"),se=v("SQLServer"),Y=v("FTP"),re=v("Rdp"),X=v("MongoDB"),H=v("ClickHouse"),x=v("HostAndPort"),oe=v("Redis"),ce=v("MySQL"),ve=v("UsernameAndPassword"),ke=v("DatabaseAndAdvance"),S=v("ConnectionString"),L=v("Socks"),I=v("HTTPProxy"),j=v("vsc-button"),F=v("AdvanceDialog"),R=v("SSLDialog");return s(),h("div",{class:"root-container flex mx-auto",onContextmenu:o[1]||(o[1]=Se(le=>i.onContextmenu(le),["prevent"]))},[n("div",sp,[n("section",null,[n("img",{src:"icon.png",alt:"",class:"connect-logo",onClick:o[0]||(o[0]=le=>e.emit("openSite"))},null,8,lp),n("h1",ip,_(e.$t("connect.title")),1)]),t(c),t(m),t(r),e.UI.activePanel=="Main"?(s(),h(B,{key:0},[["Loki","libSQL","TDengine","RabbitMQ","ElasticSearch"].includes(e.dbType)?(s(),U(a,{key:0})):["SQLite","DuckDB"].includes(e.dbType)?(s(),U(p,{key:1,dependency:e.option.dependency,onInstallDependency:i.installDependency,onChoose:i.choose},null,8,["dependency","onInstallDependency","onChoose"])):e.dbType=="Snowflake"?(s(),U(f,{key:2,dependency:e.option.dependency,onInstallDependency:i.installDependency,onChoose:i.choose},null,8,["dependency","onInstallDependency","onChoose"])):e.dbType=="JDBC"?(s(),h(B,{key:3},[t(y,{onInstallJdbc:i.installJdbc,onInstallJava:i.installJava},null,8,["onInstallJdbc","onInstallJava"]),t(E,{onChoose:i.choose},null,8,["onChoose"])],64)):e.dbType=="S3"?(s(),U(D,{key:4})):e.dbType=="Docker"?(s(),h(B,{key:5},[t(te,{hasLocalDocker:e.option.hasLocalDocker,onSendToVscode:i.sendToVscode},null,8,["hasLocalDocker","onSendToVscode"]),e.connectionOption.dockerConnType=="ssh"?(s(),U(ee,{key:0,onChoose:i.choose},null,8,["onChoose"])):P("",!0)],64)):e.dbType=="SSH"?(s(),U(ee,{key:6,ref:"ssh",sshMode:!0,onChoose:i.choose},null,8,["onChoose"])):e.dbType=="Kafka"?(s(),U(J,{key:7})):e.dbType=="SqlServer"?(s(),U(se,{key:8})):e.dbType=="FTP"?(s(),U(Y,{key:9})):e.dbType=="RDP"?(s(),U(re,{key:10})):e.dbType=="MongoDB"?(s(),U(X,{key:11})):e.dbType=="ClickHouse"?(s(),U(H,{key:12})):e.dbType=="Zookeeper"?(s(),U(x,{key:13})):e.dbType=="Redis"?(s(),U(oe,{key:14})):["MariaDB","MySQL"].includes(e.dbType)?(s(),U(ce,{key:15})):(s(),h(B,{key:16},[e.dbType=="Oracle"?(s(),U(y,{key:0,onInstallJdbc:i.installJdbc,onInstallJava:i.installJava},null,8,["onInstallJdbc","onInstallJava"])):P("",!0),t(S,null,{default:g(()=>[t(x),t(ve),t(ke)]),_:1})],64))],64)):P("",!0),e.UI.activePanel=="SSH"?(s(),U(ee,{key:1,tunnelMode:!0,onChoose:i.choose},null,8,["onChoose"])):P("",!0),e.UI.activePanel=="Socks"?(s(),U(L,{key:2})):P("",!0),e.UI.activePanel=="HTTP"?(s(),U(I,{key:3})):P("",!0),n("div",ap,[t(j,{icon:"codicon-save",size:"small",onClick:i.saveConnect},{default:g(()=>[$(_(e.$t("connect.save")),1)]),_:1},8,["onClick"]),e.dbType!="RDP"?(s(),U(j,{key:0,icon:"codicon-add",size:"small",loading:e.connect.loading,onClick:i.tryConnect},{default:g(()=>[$(_(e.$t("connect.connecting")),1)]),_:1},8,["loading","onClick"])):P("",!0),t(j,{icon:"codicon-close",type:"secondary",onClick:i.close},{default:g(()=>[$(_(e.$t("common.close")),1)]),_:1},8,["onClick"])])]),t(F,{ref:"advanceDialog",onSendToVscode:i.sendToVscode},null,8,["onSendToVscode"]),t(R,{ref:"sslDialog",onChoose:i.choose,onSendToVscode:i.sendToVscode},null,8,["onChoose","onSendToVscode"])],32)}const jp=N(tp,[["render",cp],["__scopeId","data-v-c115911f"]]);export{jp as default};
