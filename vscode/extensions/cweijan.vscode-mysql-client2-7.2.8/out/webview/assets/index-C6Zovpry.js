import{aj as ce,X as oe,O as fe,P as me,a2 as ve,az as ye,M as G,aA as pe,ak as K,d as H,e as z,a6 as S,Q as Ce,i as Z,c as B,o as $,a as W,b as U,n as w,u as o,t as Ee,w as h,l as j,a7 as be,f as F,C as te,r as k,S as ge,N as Te,as as Se,p as we,D as Ae,m as Le,aB as Me,E as De,W as he,a1 as ke}from"./app-Bf1EJw8l.js";import{t as P,a as q,j as ne,W as J,$ as Be,V as Ie,X as Oe,b as x,d as V,u as Ne,c as $e,_ as se,m as Re,a0 as Ye,a1 as _e,a2 as Q,w as ze}from"./index-Dpstq9UH.js";import{i as He,C as Ue}from"./icon-CZcOhJQp.js";import{t as Xe,F as Ve,U as le,u as ee,i as Ke,b as We,E as Ge}from"./focus-trap-DLD2w1Ia.js";import{a as je}from"./use-global-config-0XpG2_0j.js";import{g as Fe}from"./scroll-DzYU1O0r.js";const Pe=(...e)=>t=>{e.forEach(a=>{ce(a)?a(t):a.value=t})};var X=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(X||{});const qe=(e,t,a,c)=>{let s={offsetX:0,offsetY:0};const u=m=>{const d=m.clientX,y=m.clientY,{offsetX:p,offsetY:b}=s,f=e.value.getBoundingClientRect(),r=f.left,T=f.top,I=f.width,R=f.height,O=document.documentElement.clientWidth,Y=document.documentElement.clientHeight,_=-r+p,N=-T+b,A=O-r-I+p,L=Y-T-R+b,g=n=>{let v=p+n.clientX-d,C=b+n.clientY-y;c!=null&&c.value||(v=Math.min(Math.max(v,_),A),C=Math.min(Math.max(C,N),L)),s={offsetX:v,offsetY:C},e.value&&(e.value.style.transform=`translate(${P(v)}, ${P(C)})`)},M=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",M)},i=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",u)},l=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",u)};oe(()=>{fe(()=>{a.value?i():l()})}),me(()=>{l()})},xe=(e,t={})=>{ve(e)||Xe("[useLockscreen]","You need to pass a ref param to this function");const a=t.ns||q("popup"),c=ye(()=>a.bm("parent","hidden"));if(!ne||J(document.body,c.value))return;let s=0,u=!1,i="0";const l=()=>{setTimeout(()=>{Oe(document==null?void 0:document.body,c.value),u&&document&&(document.body.style.width=i)},200)};G(e,m=>{if(!m){l();return}u=!J(document.body,c.value),u&&(i=document.body.style.width),s=Fe(a.namespace.value);const d=document.documentElement.clientHeight<document.body.scrollHeight,y=Be(document.body,"overflowY");s>0&&(d||y==="scroll")&&u&&(document.body.style.width=`calc(100% - ${s}px)`),Ie(document.body,c.value)}),pe(()=>l())},ae=e=>{if(!e)return{onClick:K,onMousedown:K,onMouseup:K};let t=!1,a=!1;return{onClick:i=>{t&&a&&e(i),t=a=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{a=i.target===i.currentTarget}}},Ze=x({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:V([String,Array,Object])},zIndex:{type:V([String,Number])}}),Je={click:e=>e instanceof MouseEvent},Qe="overlay";var eo=H({name:"ElOverlay",props:Ze,emits:Je,setup(e,{slots:t,emit:a}){const c=q(Qe),s=m=>{a("click",m)},{onClick:u,onMousedown:i,onMouseup:l}=ae(e.customMaskEvent?void 0:s);return()=>e.mask?z("div",{class:[c.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:i,onMouseup:l},[S(t,"default")],X.STYLE|X.CLASS|X.PROPS,["onClick","onMouseup","onMousedown"]):Ce("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[S(t,"default")])}});const oo=eo,ie=Symbol("dialogInjectionKey"),re=x({center:Boolean,alignCenter:Boolean,closeIcon:{type:He},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),to={close:()=>!0},no=["aria-level"],so=["aria-label"],lo=["id"],ao=H({name:"ElDialogContent"}),io=H({...ao,props:re,emits:to,setup(e){const t=e,{t:a}=Ne(),{Close:c}=Ue,{dialogRef:s,headerRef:u,bodyId:i,ns:l,style:m}=Z(ie),{focusTrapRef:d}=Z(Ve),y=B(()=>[l.b(),l.is("fullscreen",t.fullscreen),l.is("draggable",t.draggable),l.is("align-center",t.alignCenter),{[l.m("center")]:t.center}]),p=Pe(d,s),b=B(()=>t.draggable),f=B(()=>t.overflow);return qe(s,u,b,f),(r,T)=>($(),W("div",{ref:o(p),class:w(o(y)),style:te(o(m)),tabindex:"-1"},[U("header",{ref_key:"headerRef",ref:u,class:w([o(l).e("header"),{"show-close":r.showClose}])},[S(r.$slots,"header",{},()=>[U("span",{role:"heading","aria-level":r.ariaLevel,class:w(o(l).e("title"))},Ee(r.title),11,no)]),r.showClose?($(),W("button",{key:0,"aria-label":o(a)("el.dialog.close"),class:w(o(l).e("headerbtn")),type:"button",onClick:T[0]||(T[0]=I=>r.$emit("close"))},[z(o($e),{class:w(o(l).e("close"))},{default:h(()=>[($(),j(be(r.closeIcon||o(c))))]),_:1},8,["class"])],10,so)):F("v-if",!0)],2),U("div",{id:o(i),class:w(o(l).e("body"))},[S(r.$slots,"default")],10,lo),r.$slots.footer?($(),W("footer",{key:0,class:w(o(l).e("footer"))},[S(r.$slots,"footer")],2)):F("v-if",!0)],6))}});var ro=se(io,[["__file","dialog-content.vue"]]);const uo=x({...re,appendToBody:Boolean,appendTo:{type:V(String),default:"body"},beforeClose:{type:V(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),co={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[le]:e=>Re(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},fo=(e,t)=>{var a;const s=Te().emit,{nextZIndex:u}=Ye();let i="";const l=ee(),m=ee(),d=k(!1),y=k(!1),p=k(!1),b=k((a=e.zIndex)!=null?a:u());let f,r;const T=je("namespace",_e),I=B(()=>{const E={},D=`--${T.value}-dialog`;return e.fullscreen||(e.top&&(E[`${D}-margin-top`]=e.top),e.width&&(E[`${D}-width`]=P(e.width))),E}),R=B(()=>e.alignCenter?{display:"flex"}:{});function O(){s("opened")}function Y(){s("closed"),s(le,!1),e.destroyOnClose&&(p.value=!1)}function _(){s("close")}function N(){r==null||r(),f==null||f(),e.openDelay&&e.openDelay>0?{stop:f}=Q(()=>M(),e.openDelay):M()}function A(){f==null||f(),r==null||r(),e.closeDelay&&e.closeDelay>0?{stop:r}=Q(()=>n(),e.closeDelay):n()}function L(){function E(D){D||(y.value=!0,d.value=!1)}e.beforeClose?e.beforeClose(E):A()}function g(){e.closeOnClickModal&&L()}function M(){ne&&(d.value=!0)}function n(){d.value=!1}function v(){s("openAutoFocus")}function C(){s("closeAutoFocus")}function ue(E){var D;((D=E.detail)==null?void 0:D.focusReason)==="pointer"&&E.preventDefault()}e.lockScroll&&xe(d);function de(){e.closeOnPressEscape&&L()}return G(()=>e.modelValue,E=>{E?(y.value=!1,N(),p.value=!0,b.value=Ke(e.zIndex)?u():b.value++,ge(()=>{s("open"),t.value&&(t.value.scrollTop=0)})):d.value&&A()}),G(()=>e.fullscreen,E=>{t.value&&(E?(i=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=i)}),oe(()=>{e.modelValue&&(d.value=!0,p.value=!0,N())}),{afterEnter:O,afterLeave:Y,beforeLeave:_,handleClose:L,onModalClick:g,close:A,doClose:n,onOpenAutoFocus:v,onCloseAutoFocus:C,onCloseRequested:de,onFocusoutPrevented:ue,titleId:l,bodyId:m,closed:y,style:I,overlayDialogStyle:R,rendered:p,visible:d,zIndex:b}},mo=["aria-label","aria-labelledby","aria-describedby"],vo=H({name:"ElDialog",inheritAttrs:!1}),yo=H({...vo,props:uo,emits:co,setup(e,{expose:t}){const a=e,c=Se();We({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},B(()=>!!c.title));const s=q("dialog"),u=k(),i=k(),l=k(),{visible:m,titleId:d,bodyId:y,style:p,overlayDialogStyle:b,rendered:f,zIndex:r,afterEnter:T,afterLeave:I,beforeLeave:R,handleClose:O,onModalClick:Y,onOpenAutoFocus:_,onCloseAutoFocus:N,onCloseRequested:A,onFocusoutPrevented:L}=fo(a,u);we(ie,{dialogRef:u,headerRef:i,bodyId:y,ns:s,rendered:f,style:p});const g=ae(Y),M=B(()=>a.draggable&&!a.fullscreen);return t({visible:m,dialogContentRef:l}),(n,v)=>($(),j(ke,{to:n.appendTo,disabled:n.appendTo!=="body"?!1:!n.appendToBody},[z(he,{name:"dialog-fade",onAfterEnter:o(T),onAfterLeave:o(I),onBeforeLeave:o(R),persisted:""},{default:h(()=>[Ae(z(o(oo),{"custom-mask-event":"",mask:n.modal,"overlay-class":n.modalClass,"z-index":o(r)},{default:h(()=>[U("div",{role:"dialog","aria-modal":"true","aria-label":n.title||void 0,"aria-labelledby":n.title?void 0:o(d),"aria-describedby":o(y),class:w(`${o(s).namespace.value}-overlay-dialog`),style:te(o(b)),onClick:v[0]||(v[0]=(...C)=>o(g).onClick&&o(g).onClick(...C)),onMousedown:v[1]||(v[1]=(...C)=>o(g).onMousedown&&o(g).onMousedown(...C)),onMouseup:v[2]||(v[2]=(...C)=>o(g).onMouseup&&o(g).onMouseup(...C))},[z(o(Ge),{loop:"",trapped:o(m),"focus-start-el":"container",onFocusAfterTrapped:o(_),onFocusAfterReleased:o(N),onFocusoutPrevented:o(L),onReleaseRequested:o(A)},{default:h(()=>[o(f)?($(),j(ro,Le({key:0,ref_key:"dialogContentRef",ref:l},n.$attrs,{center:n.center,"align-center":n.alignCenter,"close-icon":n.closeIcon,draggable:o(M),overflow:n.overflow,fullscreen:n.fullscreen,"show-close":n.showClose,title:n.title,"aria-level":n.headerAriaLevel,onClose:o(O)}),Me({header:h(()=>[n.$slots.title?S(n.$slots,"title",{key:1}):S(n.$slots,"header",{key:0,close:o(O),titleId:o(d),titleClass:o(s).e("title")})]),default:h(()=>[S(n.$slots,"default")]),_:2},[n.$slots.footer?{name:"footer",fn:h(()=>[S(n.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):F("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,mo)]),_:3},8,["mask","overlay-class","z-index"]),[[De,o(m)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var po=se(yo,[["__file","dialog.vue"]]);const wo=ze(po);export{wo as E,oo as a,xe as b,ae as c,qe as u};
