import{d as w,U as _,c as p,v as i,a as C,b as t,t as s,q as r,e as c,u as n,D,E as U,o as b,x as g}from"./app-Bf1EJw8l.js";import{B as P,L as $,D as h,a as T,b as L}from"./lineChartData-P9hfpwst.js";import{e as B}from"./notify-7ms8YXRV.js";import"./index-Dpstq9UH.js";import"./icon-CZcOhJQp.js";import"./use-global-config-0XpG2_0j.js";class l extends P{static getOption(a){return{cutout:45,responsive:!0,plugins:{title:{text:a,display:!0}}}}static formatPercent(a){return`${(a*100).toFixed(1)}%`}static getDoughnutData(a){return{datasets:[{data:[a,1-a],borderColor:["rgb(94, 154, 239)","rgb(233, 233, 233)"],backgroundColor:["rgb(94, 154, 239)","rgb(233, 233, 233)"]}]}}}const G={class:"status-container"},H={class:"info-container"},O={style:{display:"inline-block","margin-right":"50px"}},V={class:"info-title"},x={class:"info-col"},I=["innerHTML"],M={class:"info-col"},N={class:"info-col"},E={class:"red"},j={class:"info-col"},q={style:{display:"inline-block"}},z={class:"info-title"},F={class:"info-col"},R={class:"info-col"},A={class:"info-col"},J=["innerHTML"],K={class:"info-title"},Q={class:"ring-graph-status"},W={class:"donut-inner"},X={class:"ring-graph-status"},Y={class:"donut-inner"},Z={class:"ring-graph-status"},tt={class:"donut-inner"},st={class:"netword-container"},et={class:"info-title"},ot={style:{height:"300px"}},dt=w({__name:"sshStatus",setup(v){const a=_({cpu:null,memory:null,network:null}),e=_({serverType:"linux",os:"Loading",kernelVersion:"Loading",arch:"x86_64",hostname:"localhost",upTime:"0",diskUsage:{total:"0G",used:"0G",available:"0G",usePercent:0},memoryUsage:{total:"0 GB",used:"0 GB",free:"0 MB",usePercent:0},cpu:{name:"",clock:"0GHz",logicCoreCount:"0",usePercent:0},traffic:{labels:[],data1:[],data2:[],preivousSent:null,preivousReceived:null,tooltips:[],lock:!1,previous:null}}),{formatPercent:u,getDoughnutData:d}=l,f=p(()=>d(e.cpu.usePercent)),y=p(()=>d(e.memoryUsage.usePercent)),k=p(()=>d(e.diskUsage.usePercent)),m=new $,S=m.toChartData();return i.on("error",()=>{B("SSH service connection failed!")}).on("info",o=>{Object.assign(e,o),a.memory||(a.memory=setInterval(()=>i.emit("memory"),3e3)),e.serverType=="windows"?i.emit("cpu"):(i.emit("network"),a.network||(a.network=setInterval(()=>i.emit("network"),1e3))),a.cpu||(a.cpu=setInterval(()=>i.emit("cpu"),1e3))}).on("cpu",o=>{e.cpu.usePercent=o}).on("memory",o=>{e.memoryUsage=o}).on("network",o=>{m.addData(o)}).emit("init"),(o,nt)=>(b(),C("div",G,[t("div",H,[t("div",O,[t("div",V,s(o.$t("sshStatus.systemInfo"))+": ",1),t("div",null,s(o.$t("sshStatus.runTime"))+": "+s(e.upTime),1),t("span",x,[r(s(o.$t("sshStatus.arch"))+": ",1),t("span",{innerHTML:e.arch},null,8,I)]),t("span",M,s(o.$t("sshStatus.hostname"))+": "+s(e.hostname),1),t("span",N,[r(s(o.$t("sshStatus.os"))+": ",1),t("span",E,s(e.os),1)]),t("span",j,s(o.$t("sshStatus.kernelVersion"))+": "+s(e.kernelVersion),1)]),t("div",q,[t("div",z,s(o.$t("sshStatus.cpuInfo"))+": ",1),t("div",null,[t("span",F,s(o.$t("sshStatus.cpuClock"))+":"+s(e.cpu.clock),1),t("span",R,s(o.$t("sshStatus.cpuCoreCount"))+":"+s(e.cpu.logicCoreCount),1),t("span",A,[r(s(o.$t("sshStatus.cpuName"))+": ",1),t("span",{innerHTML:e.cpu.name},null,8,J)])])])]),t("div",null,[t("div",K,s(o.$t("sshStatus.systemStatus"))+": ",1),t("div",Q,[c(n(h),{options:n(l).getOption("CPU"),data:f.value,style:{width:"160px",height:"160px"}},null,8,["options","data"]),r(" "+s(e.cpu.clock)+" ",1),t("div",W,s(n(u)(e.cpu.usePercent)),1)]),t("div",X,[c(n(h),{options:n(l).getOption(n(g)("sshStatus.memory")),data:y.value,style:{width:"160px",height:"160px"}},null,8,["options","data"]),r(" "+s(e.memoryUsage.used)+"/"+s(e.memoryUsage.total)+" ",1),t("div",Y,s(n(u)(e.memoryUsage.usePercent)),1)]),t("div",Z,[c(n(h),{options:n(l).getOption(n(g)("sshStatus.disk")),data:k.value,style:{width:"160px",height:"160px"}},null,8,["options","data"]),r(" "+s(e.diskUsage.used)+"/"+s(e.diskUsage.total)+" ",1),t("div",tt,s(n(u)(e.diskUsage.usePercent)),1)])]),D(t("div",st,[t("div",et,s(o.$t("sshStatus.network"))+": ",1),t("div",ot,[c(n(L),{style:{height:"100%"},options:n(T).getOption(!0),data:n(S)},null,8,["options","data"])])],512),[[U,e.serverType!="windows"]])]))}});export{dt as default};
