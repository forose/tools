import{h as $,j as B,_ as g,k as p,o as a,a as d,b as o,q as m,t as c,n as k,f as w,l as A,w as b,e as u,z as C,A as I,U as L,C as M,ax as U,J as T}from"./app-7HI8a4lx.js";import{u as S}from"./consoleStore-CyZVJCHK.js";import{E as D}from"./index-BZGOUGMZ.js";import{v as E}from"./directive-DdoesKyK.js";import{e as F,s as V}from"./notify-BHQfjYk-.js";import{E as P}from"./index-D010uDlT.js";import"./index-4venPVpq.js";import"./focus-trap-0JUCTGWq.js";import"./isUndefined-DCTLXrZ8.js";import"./validator-CUeJqo3c.js";import"./index-Cexr__N_.js";import"./index-BRXl8bEV.js";const j={mixins:[$],props:["hidePlan","current"],computed:{...B(S,["user"]),expireText(){var i;let t=(i=this.user)==null?void 0:i.expireDate;if(!t)return"Free";const e=this.user.expireTime;return new Date().getTime()>e?`${t} -> Expire`:new Date(e).getFullYear()-new Date().getFullYear()>5?"Premium":t}},methods:{viewUpdates(){this.emit("open","https://marketplace.visualstudio.com/items/cweijan.vscode-mysql-client2/changelog")},toIndex(){}}},f=t=>(C("data-v-3352be15"),t=t(),I(),t),z={class:"navbar teams w-nav"},N={class:"container"},O={role:"navigation",class:"flex justify-end"},q=f(()=>o("i",{type:"icon",class:"mr-1 el-icon-notebook-2"},null,-1)),K=f(()=>o("i",{type:"icon",class:"mr-1 codicon-wand purple"},null,-1)),G=f(()=>o("i",{type:"icon",class:"mr-1 el-icon-s-tools"},null,-1)),H=f(()=>o("i",{type:"icon",class:"mr-1 codicon-github-action blue"},null,-1)),R=f(()=>o("i",{type:"icon",class:"mr-1 el-icon-user orange"},null,-1)),W={class:"nav-link log-in",style:{color:"var(--vscode-terminal-ansiBlue) !important","font-family":"sans-serif","flex-direction":"column","align-items":"baseline"}},Y=f(()=>o("i",{class:"el-icon-arrow-down el-icon--right"},null,-1)),J=["textContent"];function Q(t,e,i,_,n,s){const l=p("vsc-button"),v=D;return a(),d("div",z,[o("div",N,[o("a",{class:"w-nav-brand",onClick:e[1]||(e[1]=(...r)=>s.toIndex&&s.toIndex(...r))},[o("img",{class:"image-3",onClick:e[0]||(e[0]=r=>t.emit("openSite","/"))})]),o("nav",O,[o("button",{class:"nav-link",onClick:e[2]||(e[2]=(...r)=>s.viewUpdates&&s.viewUpdates(...r))},[q,m(" "+c(t.$t("global.changeLog")),1)]),o("a",{class:k(["nav-link",{"w--current":i.current=="util"}]),onClick:e[3]||(e[3]=r=>t.$router.push("/center/util"))},[K,m(c(t.$t("global.util")),1)],2),o("a",{class:k(["nav-link",{"w--current":i.current=="console"}]),onClick:e[4]||(e[4]=r=>t.$router.push("/center/console"))},[G,m(c(t.$t("global.settings")),1)],2),o("a",{class:k(["nav-link",{"w--current":i.current=="plan"}]),onClick:e[5]||(e[5]=r=>t.$router.push("/center/plan"))},[H,m(c(t.$t("global.plan")),1)],2),t.user?w("",!0):(a(),d("a",{key:0,class:"nav-link log-in",onClick:e[6]||(e[6]=r=>t.$emit("openLogin"))},[R,m(" "+c(t.$t("global.login")),1)])),t.user?(a(),A(v,{key:1,placement:"bottom",trigger:"hover",type:"primary",class:"shrink-0"},{reference:b(()=>[o("div",W,[o("div",null,[m(c(t.user.email),1),Y]),o("div",{textContent:c(s.expireText)},null,8,J)])]),default:b(()=>[u(l,{onClick:e[7]||(e[7]=r=>t.$emit("logout"))},{default:b(()=>[m(c(t.$t("global.logout")),1)]),_:1})]),_:1})):w("",!0)])])])}const X=g(j,[["render",Q],["__scopeId","data-v-3352be15"]]),Z={},tt={class:"admin-box"};function et(t,e,i,_,n,s){return a(),d("div",tt,[L(t.$slots,"default",{},void 0,!0)])}const ot=g(Z,[["render",et],["__scopeId","data-v-56886c98"]]),nt={mixins:[$],props:["label","placeholder","value","type","showForgot"],data(){return{context:null,error:null}},computed:{placeholder0(){return this.placeholder||`Enter your ${this.label}`}},watch:{value(t){t&&(this.context=t)}},methods:{noticeInput(){this.$emit("update:value",this.context),this.$emit("input",this.context)},showError(t){this.error=t}}},it={class:"MuiBox-root admin-box-126fypi"},st={class:"MuiBox-root admin-box-guflfy"},lt={class:"MuiTypography-root MuiTypography-label admin-box-1digilb"},rt={"data-test-id":"name-box",class:"MuiOutlinedInput-root MuiInputBase-root MuiInputBase-colorPrimary MuiInputBase-fullWidth admin-box-5jhlpq"},at=["name","placeholder","type"],ut={key:0,class:"Mui-error","data-test-id":"name-box_error"};function dt(t,e,i,_,n,s){return a(),d("div",it,[o("div",st,[o("span",lt,[m(c(i.label)+" ",1),i.showForgot?(a(),d("a",{key:0,style:{float:"right"},onClick:e[0]||(e[0]=l=>t.emit("openSite","reset"))},"Forgot Password?")):w("",!0)])]),o("div",rt,[M(o("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>n.context=l),name:i.label,placeholder:s.placeholder0,type:i.type,maxlength:"200",class:"MuiOutlinedInput-input MuiInputBase-input admin-box-1puixqu",onInput:e[2]||(e[2]=(...l)=>s.noticeInput&&s.noticeInput(...l))},null,40,at),[[U,n.context]])]),n.error?(a(),d("p",ut,c(n.error),1)):w("",!0)])}const ct=g(nt,[["render",dt],["__scopeId","data-v-1b4009b0"]]),mt={props:["rules"],data(){return{isValid:!1}}},pt=o("div",{style:{"margin-bottom":"16px"}},null,-1);function gt(t,e,i,_,n,s){return a(),d("div",null,[L(t.$slots,"default"),pt])}const _t=g(mt,[["render",gt]]),ht={props:["text","disabled","loading"],data(){return{}},methods:{}},vt=["disabled"];function bt(t,e,i,_,n,s){const l=E;return a(),d("div",null,[M((a(),d("button",{class:"MuiButton-root MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-fullWidth MuiButtonBase-root admin-box-15gd45s",tabindex:"-1",type:"submit","data-test-id":"signupSubmit-btn",disabled:i.disabled},[m(c(i.text),1)],8,vt)),[[l,i.loading]])])}const ft=g(ht,[["render",bt],["__scopeId","data-v-72aad848"]]),xt={mixins:[$],methods:{githubLogin(){this.emit("githubLogin")}}},$t=o("div",{class:"ant-divider ant-divider-horizontal ant-divider-with-text ant-divider-with-text-center",role:"separator"},[o("span",{class:"ant-divider-inner-text"},[o("span",{class:"text-muted font-size-base font-weight-normal"},"or connect with")])],-1),wt={class:"d-flex justify-content-center"},yt=o("span",{role:"img",class:"anticon"},[o("img",{src:"icon/github.svg",alt:"Github"})],-1),kt=o("span",null,"Github",-1),Bt=[yt,kt];function Ct(t,e,i,_,n,s){return a(),d("div",null,[o("div",null,[$t,o("div",wt,[o("button",{type:"button",class:"ant-btn",onClick:e[0]||(e[0]=(...l)=>s.githubLogin&&s.githubLogin(...l))},Bt)])])])}const It=g(xt,[["render",Ct]]),Lt={components:{AdminBox:ot,AdminInput:ct,AdminForm:_t,AdminButton:ft,ThridAccount:It},mixins:[$],data(){return{loading:!1,email:"",password:""}},mounted(){this.on("email",t=>{this.email=t}).on("loginRes",({errMsg:t})=>{this.loading=!1,t?F(t):(V("Login success!"),this.$emit("closeLogin"))})},methods:{toBrowser(){this.emit("loginOnBrowser")},submit(){this.loading=!0,this.emit("login",{email:this.email,password:this.password})}}},Mt=t=>(C("data-v-80b84ea5"),t=t(),I(),t),St={class:"box-container"},Vt={class:"fe-logo-wrapper MuiBox-root admin-box-useecz"},At=Mt(()=>o("div",{class:"login-title"}," Login ",-1)),Ut={class:"MuiBox-root admin-box notice-block"},Tt={class:"MuiTypography-root MuiTypography-body1Bold admin-box notice-text"},Dt={class:"inline-flex w-full justify-center gap-x-2"};function Et(t,e,i,_,n,s){const l=p("AdminInput"),v=p("AdminButton"),r=p("ThridAccount"),y=p("AdminForm"),h=p("AdminBox");return a(),d("div",St,[o("div",null,[u(h,{style:{"max-width":"100%",width:"100%"}},{default:b(()=>[o("div",Vt,[o("img",{alt:"logo",src:"logo_dark.png",onClick:e[0]||(e[0]=x=>t.emit("openSite","/"))})]),At,o("div",Ut,[o("span",Tt,[m("Don't have an account? "),o("a",{onClick:e[1]||(e[1]=x=>t.emit("openSite","signUp"))},"Sign Up.")])]),u(y,{onSubmit:s.submit},{default:b(()=>[u(l,{value:n.email,"onUpdate:value":e[2]||(e[2]=x=>n.email=x),label:"Email"},null,8,["value"]),u(l,{value:n.password,"onUpdate:value":e[3]||(e[3]=x=>n.password=x),showForgot:!0,type:"password",label:"Password",onKeyup:T(s.submit,["enter"])},null,8,["value","onKeyup"]),o("div",Dt,[u(v,{loading:n.loading,class:"second-login-btn",text:"Log In",type:"text",onClick:s.submit},null,8,["loading","onClick"]),u(v,{text:"Log In On Browser",type:"text",onClick:s.toBrowser},null,8,["onClick"])]),u(r)]),_:1},8,["onSubmit"])]),_:1})])])}const Ft=g(Lt,[["render",Et],["__scopeId","data-v-80b84ea5"]]),Pt={components:{NavBar:X,Login:Ft},mixins:[$],beforeRouteUpdate(t,e,i){this.current=t.name,i()},data(){return{current:"console",dialogVisible:!0,accountVisible:!1}},computed:{...B(S,{consoleStore:t=>t})},mounted(){this.current=this.$route.name,this.focusHolder(),this.on("user",t=>{this.consoleStore.user=t,this.consoleStore.isPay&&(this.accountVisible=!1)})},methods:{logout(){this.emit("bindUser",null),this.consoleStore.user=null,V("Log out success!")},focusHolder(){window.addEventListener("focus",()=>{this.emit("getUser")})}}},jt={style:{height:"100vh"}};function zt(t,e,i,_,n,s){const l=p("NavBar"),v=p("router-view"),r=p("Login"),y=P;return a(),d("div",jt,[u(l,{hidePlan:!0,current:n.current,onOpenLogin:e[0]||(e[0]=h=>{n.accountVisible=!0}),onLogout:s.logout},null,8,["current","onLogout"]),u(v,{onOpenLogin:e[1]||(e[1]=h=>{n.accountVisible=!0}),onCloseLogin:e[2]||(e[2]=h=>n.accountVisible=!1)}),u(y,{modelValue:n.accountVisible,"onUpdate:modelValue":e[4]||(e[4]=h=>n.accountVisible=h),closeOnClickModal:!1,class:"custom-content","modal-append-to-body":!1,width:"420px",top:"10vh"},{default:b(()=>[u(r,{onCloseLogin:e[3]||(e[3]=h=>n.accountVisible=!1)})]),_:1},8,["modelValue"])])}const Zt=g(Pt,[["render",zt]]);export{Zt as default};
