import{k as Q,aL as Xe,ad as Ze,c as ce,al as Ge,u as qe,ak as Je,aR as Qe,aS as et,aT as tt,aU as at,aV as ot,aW as ze,x as ke,a as nt,m as st,d as le,B as lt,U as de,o as it,ap as rt,p as ut,F as ct,aX as dt,aY as pt,D as ft,r as vt,q as Pe,z as mt,e as A,t as ht,_ as gt,A as yt}from"./focus-trap-0JUCTGWq.js";import{c as d,M as ee,r as z,L as G,N as q,af as bt,i as xt,u as a,p as wt,an as ie,d as Ve,ai as St,aq as Ct,a5 as F,a3 as It,a9 as Et,o as m,a as S,f as h,F as re,n as y,U,b as N,l as I,w as H,W as Y,m as ue,e as zt,H as kt,ag as Pt,t as X,I as Tt,at as Te}from"./app-7HI8a4lx.js";import{i as Fe,V as Ft}from"./validator-CUeJqo3c.js";const Nt=()=>Q&&/firefox/i.test(window.navigator.userAgent);let Z;const aa=o=>{var r;if(!Q)return 0;if(Z!==void 0)return Z;const n=document.createElement("div");n.className=`${o}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const t=n.offsetWidth;n.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",n.appendChild(s);const l=s.offsetWidth;return(r=n.parentNode)==null||r.removeChild(n),Z=t-l,Z};function oa(o,r){if(!Q)return;if(!r){o.scrollTop=0;return}const n=[];let t=r.offsetParent;for(;t!==null&&o!==t&&o.contains(t);)n.push(t),t=t.offsetParent;const s=r.offsetTop+n.reduce((v,b)=>v+b.offsetTop,0),l=s+r.offsetHeight,i=o.scrollTop,u=i+o.clientHeight;s<i?o.scrollTop=s:l>u&&(o.scrollTop=l-o.clientHeight)}const Vt=o=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(o),Bt=o=>o,Rt=["class","style"],Lt=/^on[A-Z]/,$t=(o={})=>{const{excludeListeners:r=!1,excludeKeys:n}=o,t=d(()=>((n==null?void 0:n.value)||[]).concat(Rt)),s=ee();return s?d(()=>{var l;return Xe(Object.entries((l=s.proxy)==null?void 0:l.$attrs).filter(([i])=>!t.value.includes(i)&&!(r&&Lt.test(i))))}):d(()=>({}))};function At(o){const r=z();function n(){if(o.value==null)return;const{selectionStart:s,selectionEnd:l,value:i}=o.value;if(s==null||l==null)return;const u=i.slice(0,Math.max(0,s)),v=i.slice(Math.max(0,l));r.value={selectionStart:s,selectionEnd:l,value:i,beforeTxt:u,afterTxt:v}}function t(){if(o.value==null||r.value==null)return;const{value:s}=o.value,{beforeTxt:l,afterTxt:i,selectionStart:u}=r.value;if(l==null||i==null||u==null)return;let v=s.length;if(s.endsWith(i))v=s.length-i.length;else if(s.startsWith(l))v=l.length;else{const b=l[u-1],w=s.indexOf(b,u-1);w!==-1&&(v=w+1)}o.value.setSelectionRange(v,v)}return[n,t]}function Ht(o,{afterFocus:r,beforeBlur:n,afterBlur:t}={}){const s=ee(),{emit:l}=s,i=G(),u=z(!1),v=f=>{u.value||(u.value=!0,l("focus",f),r==null||r())},b=f=>{var V;bt(n)&&n(f)||f.relatedTarget&&((V=i.value)!=null&&V.contains(f.relatedTarget))||(u.value=!1,l("blur",f),t==null||t())},w=()=>{var f;(f=o.value)==null||f.focus()};return q(i,f=>{f&&f.setAttribute("tabindex","-1")}),Ze(i,"click",w),{wrapperRef:i,isFocused:u,handleFocus:v,handleBlur:b}}const Be=Symbol(),J=z();function Re(o,r=void 0){const n=ee()?xt(Be,J):J;return o?d(()=>{var t,s;return(s=(t=n.value)==null?void 0:t[o])!=null?s:r}):n}function na(o,r){const n=Re(),t=ce(o,d(()=>{var u;return((u=n.value)==null?void 0:u.namespace)||Ge})),s=qe(d(()=>{var u;return(u=n.value)==null?void 0:u.locale})),l=Je(d(()=>{var u;return((u=n.value)==null?void 0:u.zIndex)||Qe})),i=d(()=>{var u;return a(r)||((u=n.value)==null?void 0:u.size)||""});return Mt(d(()=>a(n)||{})),{ns:t,locale:s,zIndex:l,size:i}}const Mt=(o,r,n=!1)=>{var t;const s=!!ee(),l=s?Re():void 0,i=(t=void 0)!=null?t:s?wt:void 0;if(!i)return;const u=d(()=>{const v=a(o);return l!=null&&l.value?Ot(l.value,v):v});return i(Be,u),i(et,d(()=>u.value.locale)),i(tt,d(()=>u.value.namespace)),i(at,d(()=>u.value.zIndex)),i(ot,{size:d(()=>u.value.size||"")}),(n||!J.value)&&(J.value=u.value),u},Ot=(o,r)=>{const n=[...new Set([...ze(o),...ze(r)])],t={};for(const s of n)t[s]=r[s]!==void 0?r[s]:o[s];return t};let x;const _t=`
  height:0 !important;
  visibility:hidden !important;
  ${Nt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Kt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Dt(o){const r=window.getComputedStyle(o),n=r.getPropertyValue("box-sizing"),t=Number.parseFloat(r.getPropertyValue("padding-bottom"))+Number.parseFloat(r.getPropertyValue("padding-top")),s=Number.parseFloat(r.getPropertyValue("border-bottom-width"))+Number.parseFloat(r.getPropertyValue("border-top-width"));return{contextStyle:Kt.map(i=>`${i}:${r.getPropertyValue(i)}`).join(";"),paddingSize:t,borderSize:s,boxSizing:n}}function Ne(o,r=1,n){var t;x||(x=document.createElement("textarea"),document.body.appendChild(x));const{paddingSize:s,borderSize:l,boxSizing:i,contextStyle:u}=Dt(o);x.setAttribute("style",`${u};${_t}`),x.value=o.value||o.placeholder||"";let v=x.scrollHeight;const b={};i==="border-box"?v=v+l:i==="content-box"&&(v=v-s),x.value="";const w=x.scrollHeight-s;if(ke(r)){let f=w*r;i==="border-box"&&(f=f+s+l),v=Math.max(f,v),b.minHeight=`${f}px`}if(ke(n)){let f=w*n;i==="border-box"&&(f=f+s+l),v=Math.min(f,v)}return b.height=`${v}px`,(t=x.parentNode)==null||t.removeChild(x),x=void 0,b}const Wt=nt({id:{type:String,default:void 0},size:st,disabled:Boolean,modelValue:{type:le([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:le([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Fe},prefixIcon:{type:Fe},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:le([Object,Array,String]),default:()=>Bt({})},autofocus:{type:Boolean,default:!1},...lt(["ariaLabel"])}),jt={[de]:o=>ie(o),input:o=>ie(o),change:o=>ie(o),focus:o=>o instanceof FocusEvent,blur:o=>o instanceof FocusEvent,clear:()=>!0,mouseleave:o=>o instanceof MouseEvent,mouseenter:o=>o instanceof MouseEvent,keydown:o=>o instanceof Event,compositionstart:o=>o instanceof CompositionEvent,compositionupdate:o=>o instanceof CompositionEvent,compositionend:o=>o instanceof CompositionEvent},Ut=["role"],Yt=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Xt=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Zt=Ve({name:"ElInput",inheritAttrs:!1}),Gt=Ve({...Zt,props:Wt,emits:jt,setup(o,{expose:r,emit:n}){const t=o,s=St(),l=Ct(),i=d(()=>{const e={};return t.containerRole==="combobox"&&(e["aria-haspopup"]=s["aria-haspopup"],e["aria-owns"]=s["aria-owns"],e["aria-expanded"]=s["aria-expanded"]),e}),u=d(()=>[t.type==="textarea"?fe.b():p.b(),p.m(pe.value),p.is("disabled",k.value),p.is("exceed",He.value),{[p.b("group")]:l.prepend||l.append,[p.bm("group","append")]:l.append,[p.bm("group","prepend")]:l.prepend,[p.m("prefix")]:l.prefix||t.prefixIcon,[p.m("suffix")]:l.suffix||t.suffixIcon||t.clearable||t.showPassword,[p.bm("suffix","password-clear")]:W.value&&oe.value,[p.b("hidden")]:t.type==="hidden"},s.class]),v=d(()=>[p.e("wrapper"),p.is("focus",ae.value)]),b=$t({excludeKeys:d(()=>Object.keys(i.value))}),{form:w,formItem:f}=it(),{inputId:V}=rt(t,{formItemContext:f}),pe=ut(),k=ct(),p=ce("input"),fe=ce("textarea"),M=G(),C=G(),te=z(!1),B=z(!1),O=z(!1),ve=z(),_=G(t.inputStyle),P=d(()=>M.value||C.value),{wrapperRef:Le,isFocused:ae,handleFocus:K,handleBlur:D}=Ht(P,{afterBlur(){var e;t.validateEvent&&((e=f==null?void 0:f.validate)==null||e.call(f,"blur").catch(c=>Pe()))}}),me=d(()=>{var e;return(e=w==null?void 0:w.statusIcon)!=null?e:!1}),R=d(()=>(f==null?void 0:f.validateState)||""),he=d(()=>R.value&&Ft[R.value]),$e=d(()=>O.value?dt:pt),Ae=d(()=>[s.style]),ge=d(()=>[t.inputStyle,_.value,{resize:t.resize}]),E=d(()=>ft(t.modelValue)?"":String(t.modelValue)),W=d(()=>t.clearable&&!k.value&&!t.readonly&&!!E.value&&(ae.value||te.value)),oe=d(()=>t.showPassword&&!k.value&&!t.readonly&&!!E.value&&(!!E.value||ae.value)),T=d(()=>t.showWordLimit&&!!t.maxlength&&(t.type==="text"||t.type==="textarea")&&!k.value&&!t.readonly&&!t.showPassword),ne=d(()=>E.value.length),He=d(()=>!!T.value&&ne.value>Number(t.maxlength)),Me=d(()=>!!l.suffix||!!t.suffixIcon||W.value||t.showPassword||T.value||!!R.value&&me.value),[Oe,_e]=At(M);vt(C,e=>{if(Ke(),!T.value||t.resize!=="both")return;const c=e[0],{width:g}=c.contentRect;ve.value={right:`calc(100% - ${g+15+6}px)`}});const L=()=>{const{type:e,autosize:c}=t;if(!(!Q||e!=="textarea"||!C.value))if(c){const g=Te(c)?c.minRows:void 0,j=Te(c)?c.maxRows:void 0,Ee=Ne(C.value,g,j);_.value={overflowY:"hidden",...Ee},F(()=>{C.value.offsetHeight,_.value=Ee})}else _.value={minHeight:Ne(C.value).minHeight}},Ke=(e=>{let c=!1;return()=>{var g;if(c||!t.autosize)return;((g=C.value)==null?void 0:g.offsetParent)===null||(e(),c=!0)}})(L),$=()=>{const e=P.value,c=t.formatter?t.formatter(E.value):E.value;!e||e.value===c||(e.value=c)},se=async e=>{Oe();let{value:c}=e.target;if(t.formatter&&(c=t.parser?t.parser(c):c),!B.value){if(c===E.value){$();return}n(de,c),n("input",c),await F(),$(),_e()}},ye=e=>{n("change",e.target.value)},be=e=>{n("compositionstart",e),B.value=!0},xe=e=>{var c;n("compositionupdate",e);const g=(c=e.target)==null?void 0:c.value,j=g[g.length-1]||"";B.value=!Vt(j)},we=e=>{n("compositionend",e),B.value&&(B.value=!1,se(e))},De=()=>{O.value=!O.value,Se()},Se=async()=>{var e;await F(),(e=P.value)==null||e.focus()},We=()=>{var e;return(e=P.value)==null?void 0:e.blur()},je=e=>{te.value=!1,n("mouseleave",e)},Ue=e=>{te.value=!0,n("mouseenter",e)},Ce=e=>{n("keydown",e)},Ye=()=>{var e;(e=P.value)==null||e.select()},Ie=()=>{n(de,""),n("change",""),n("clear"),n("input","")};return q(()=>t.modelValue,()=>{var e;F(()=>L()),t.validateEvent&&((e=f==null?void 0:f.validate)==null||e.call(f,"change").catch(c=>Pe()))}),q(E,()=>$()),q(()=>t.type,async()=>{await F(),$(),L()}),It(()=>{!t.formatter&&t.parser,$(),F(L)}),mt({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input",ref:"https://element-plus.org/en-US/component/input.html"},d(()=>!!t.label)),r({input:M,textarea:C,ref:P,textareaStyle:ge,autosize:Et(t,"autosize"),focus:Se,blur:We,select:Ye,clear:Ie,resizeTextarea:L}),(e,c)=>(m(),S("div",ue(a(i),{class:a(u),style:a(Ae),role:e.containerRole,onMouseenter:Ue,onMouseleave:je}),[h(" input "),e.type!=="textarea"?(m(),S(re,{key:0},[h(" prepend slot "),e.$slots.prepend?(m(),S("div",{key:0,class:y(a(p).be("group","prepend"))},[U(e.$slots,"prepend")],2)):h("v-if",!0),N("div",{ref_key:"wrapperRef",ref:Le,class:y(a(v))},[h(" prefix slot "),e.$slots.prefix||e.prefixIcon?(m(),S("span",{key:0,class:y(a(p).e("prefix"))},[N("span",{class:y(a(p).e("prefix-inner"))},[U(e.$slots,"prefix"),e.prefixIcon?(m(),I(a(A),{key:0,class:y(a(p).e("icon"))},{default:H(()=>[(m(),I(Y(e.prefixIcon)))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0),N("input",ue({id:a(V),ref_key:"input",ref:M,class:a(p).e("inner")},a(b),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?O.value?"text":"password":e.type,disabled:a(k),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label||e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,onCompositionstart:be,onCompositionupdate:xe,onCompositionend:we,onInput:se,onFocus:c[0]||(c[0]=(...g)=>a(K)&&a(K)(...g)),onBlur:c[1]||(c[1]=(...g)=>a(D)&&a(D)(...g)),onChange:ye,onKeydown:Ce}),null,16,Yt),h(" suffix slot "),a(Me)?(m(),S("span",{key:1,class:y(a(p).e("suffix"))},[N("span",{class:y(a(p).e("suffix-inner"))},[!a(W)||!a(oe)||!a(T)?(m(),S(re,{key:0},[U(e.$slots,"suffix"),e.suffixIcon?(m(),I(a(A),{key:0,class:y(a(p).e("icon"))},{default:H(()=>[(m(),I(Y(e.suffixIcon)))]),_:1},8,["class"])):h("v-if",!0)],64)):h("v-if",!0),a(W)?(m(),I(a(A),{key:1,class:y([a(p).e("icon"),a(p).e("clear")]),onMousedown:kt(a(Pt),["prevent"]),onClick:Ie},{default:H(()=>[zt(a(ht))]),_:1},8,["class","onMousedown"])):h("v-if",!0),a(oe)?(m(),I(a(A),{key:2,class:y([a(p).e("icon"),a(p).e("password")]),onClick:De},{default:H(()=>[(m(),I(Y(a($e))))]),_:1},8,["class"])):h("v-if",!0),a(T)?(m(),S("span",{key:3,class:y(a(p).e("count"))},[N("span",{class:y(a(p).e("count-inner"))},X(a(ne))+" / "+X(e.maxlength),3)],2)):h("v-if",!0),a(R)&&a(he)&&a(me)?(m(),I(a(A),{key:4,class:y([a(p).e("icon"),a(p).e("validateIcon"),a(p).is("loading",a(R)==="validating")])},{default:H(()=>[(m(),I(Y(a(he))))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0)],2),h(" append slot "),e.$slots.append?(m(),S("div",{key:1,class:y(a(p).be("group","append"))},[U(e.$slots,"append")],2)):h("v-if",!0)],64)):(m(),S(re,{key:1},[h(" textarea "),N("textarea",ue({id:a(V),ref_key:"textarea",ref:C,class:a(fe).e("inner")},a(b),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:a(k),readonly:e.readonly,autocomplete:e.autocomplete,style:a(ge),"aria-label":e.label||e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,onCompositionstart:be,onCompositionupdate:xe,onCompositionend:we,onInput:se,onFocus:c[2]||(c[2]=(...g)=>a(K)&&a(K)(...g)),onBlur:c[3]||(c[3]=(...g)=>a(D)&&a(D)(...g)),onChange:ye,onKeydown:Ce}),null,16,Xt),a(T)?(m(),S("span",{key:0,style:Tt(ve.value),class:y(a(p).e("count"))},X(a(ne))+" / "+X(e.maxlength),7)):h("v-if",!0)],64))],16,Ut))}});var qt=gt(Gt,[["__file","input.vue"]]);const sa=yt(qt);export{sa as E,Re as a,Ht as b,aa as g,Vt as i,Bt as m,oa as s,na as u};
