import{_ as x,o as m,a as C,b as l,U,n as I,h as K,j,k as _,e as n,w as t,t as i,q as r,l as k,f as E,F as L,y as V}from"./app-7HI8a4lx.js";import{n as y,s as q,e as O}from"./notify-BHQfjYk-.js";import{u as Q}from"./consoleStore-CyZVJCHK.js";import{E as F}from"./index-BZGOUGMZ.js";import{E as R}from"./index-DEoB_Ua-.js";import{E as P}from"./index-Cexr__N_.js";import{E as W,a as D}from"./index-BPe1LNWi.js";import{E as T}from"./index-uoaXWFBg.js";import"./focus-trap-0JUCTGWq.js";import"./validator-CUeJqo3c.js";import"./index-BRXl8bEV.js";import"./index-4venPVpq.js";import"./isUndefined-DCTLXrZ8.js";import"./index-BnH3xz_z.js";import"./index-Cf7tx5Fe.js";import"./index-Bo03iq4n.js";import"./_baseIteratee-BTzwo4Hl.js";import"./castArray-Dlxvef-B.js";const H={props:["full"]},M={class:"card"};function G(e,o,p,f,s,a){return m(),C("div",{class:I(["card-container",{"card-container-full":p.full}])},[l("div",M,[U(e.$slots,"default",{},void 0,!0)])],2)}const z=x(H,[["render",G],["__scopeId","data-v-e7d09840"]]),J={components:{Card:z},mixins:[K],data(){return{autoSync:!1,uploadConfirm:!1,removeConfirm:!1,downloadConfirm:!1,importConfirm:!1,syncKeyPath:null,uploadLoading:!1,removeLoading:!1,downloadLoading:!1,triggerChooseSyncKey:!1,isDev:!1}},computed:{...j(Q,["user","isPay"])},mounted(){this.autoSync=this.extConfig.autoSync,this.on("importConfirm",()=>{this.importConfirm=!0}).on("importResult",({success:e,message:o,cancel:p})=>{if(this.importConfirm=!1,p)return;y({showClose:!0,duration:e?1e3:2e3,message:o,type:e?"success":"error"})}).on("downloadConfirm",()=>{this.downloadLoading=!1,this.downloadConfirm=!0}).on("downloadResult",({success:e,message:o})=>{this.downloadLoading=!1,y({showClose:!0,duration:e?1e3:3e3,message:o,type:e?"success":"error"})}).on("uploadRes",({success:e,message:o})=>{this.uploadLoading=!1,y({showClose:!0,duration:e?1e3:3e3,message:o,type:e?"success":"error"})}).on("removeRes",({success:e,message:o})=>{this.removeLoading=!1,y({showClose:!0,duration:e?1e3:3e3,message:o,type:e?"success":"error"})}).on("syncKey",e=>{(!this.syncKeyPath||this.triggerChooseSyncKey)&&(this.syncKeyPath=e,this.triggerChooseSyncKey=!1)})},methods:{updateAutoSync(){this.emit("updateOption",{name:"autoSync",value:this.autoSync})},showLayout(){q(`Width: ${window.innerWidth}, Height: ${window.innerHeight}`)},clearCache(){this.emit("clearCache")},reportIssue(){this.emit("open","https://github.com/cweijan/vscode-database-client/issues")},editConfig(){this.emit("editConfig")},chooseSyncKey(){this.triggerChooseSyncKey=!0,this.emit("chooseSyncKey")},exportConfig(){this.emit("exportConfig")},importConfig(e){this.emit("importConfig",e)},uploadConfig(){if(!this.isPay){O("Free account not support upload configuration!");return}this.uploadConfirm=!1,this.uploadLoading=!0,this.emit("uploadConfig",this.syncKeyPath)},removeConfig(){this.removeConfirm=!1,this.removeLoading=!0,this.emit("removeConfig")},downloadConfig(e){if(!this.isPay){O("Free account not support sync data!");return}this.downloadConfirm=!1,this.downloadLoading=!0,this.emit("downloadConfig",{keyPath:this.syncKeyPath,type:e})}}},X={style:{"min-width":"300px"}},Y={style:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},Z={style:{margin:"20px 0"}},ee={class:"text-right mt-2"},oe={style:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},te={class:"my-2"},ne={class:"mr-2"},ie={style:{"margin-top":"5px","margin-bottom":"10px"}},se={style:{"text-align":"right",margin:"0"}},le={style:{"margin-top":"5px","margin-bottom":"10px"}},re={style:{"text-align":"right",margin:"0"}},ae={style:{"margin-top":"5px","margin-bottom":"10px"}},de={style:{"text-align":"right",margin:"0"}},ce={style:{"margin-top":"20px"}},ue={style:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},me={style:{margin:"20px 0"}};function pe(e,o,p,f,s,a){const d=_("vsc-button"),h=F,v=_("Card"),b=R,S=P;return m(),C("div",null,[n(v,null,{default:t(()=>[l("div",X,[l("div",Y,i(e.$t("console.configuration")),1),l("div",Z,[n(d,{type:"secondary",icon:"codicon-edit",onClick:a.editConfig},{default:t(()=>[r(i(e.$t("console.edit")),1)]),_:1},8,["onClick"]),n(d,{icon:"codicon-arrow-up",onClick:a.exportConfig},{default:t(()=>[r(i(e.$t("console.export")),1)]),_:1},8,["onClick"]),n(h,{placement:"top",visible:s.importConfirm,trigger:"manual",class:"ml-7px"},{reference:t(()=>[n(d,{icon:"codicon-arrow-down",onClick:o[3]||(o[3]=c=>a.importConfig())},{default:t(()=>[r(i(e.$t("console.import")),1)]),_:1})]),default:t(()=>[l("p",null,i(e.$t("console.mergeConfirm")),1),l("div",ee,[n(d,{type:"secondary",onClick:o[0]||(o[0]=c=>s.importConfirm=!1)},{default:t(()=>[r(i(e.$t("common.cancel")),1)]),_:1}),n(d,{onClick:o[1]||(o[1]=c=>a.importConfig("merge"))},{default:t(()=>[r(i(e.$t("console.merge")),1)]),_:1}),n(d,{onClick:o[2]||(o[2]=c=>a.importConfig("overwrite"))},{default:t(()=>[r(i(e.$t("console.overwrite")),1)]),_:1})])]),_:1},8,["visible"])])])]),_:1}),n(v,null,{default:t(()=>[l("div",null,[l("div",oe,i(e.$t("console.sync")),1),l("div",te,[l("label",ne,i(e.$t("console.autoSync")),1),n(b,{modelValue:s.autoSync,"onUpdate:modelValue":o[4]||(o[4]=c=>s.autoSync=c),onChange:a.updateAutoSync},null,8,["modelValue","onChange"])]),l("div",null,[n(h,{placement:"top",visible:s.removeConfirm,trigger:"manual"},{reference:t(()=>[n(d,{type:"secondary",icon:"el-icon-delete",loading:s.removeLoading,onClick:o[6]||(o[6]=c=>s.removeConfirm=!0)},{default:t(()=>[r(i(e.$t("console.remove")),1)]),_:1},8,["loading"])]),default:t(()=>[l("p",ie,i(e.$t("console.removeConfirm")),1),l("div",se,[n(d,{type:"secondary",onClick:o[5]||(o[5]=c=>s.removeConfirm=!1)},{default:t(()=>[r(i(e.$t("common.cancel")),1)]),_:1}),n(d,{onClick:a.removeConfig},{default:t(()=>[r(i(e.$t("result.confirm")),1)]),_:1},8,["onClick"])])]),_:1},8,["visible"]),n(h,{placement:"top",visible:s.uploadConfirm,trigger:"manual",class:"ml-7px"},{reference:t(()=>[n(d,{icon:"codicon-cloud-upload",loading:s.uploadLoading,onClick:o[8]||(o[8]=c=>s.uploadConfirm=!0)},{default:t(()=>[r(i(e.$t("console.upload")),1)]),_:1},8,["loading"])]),default:t(()=>[l("p",le,i(e.$t("console.uploadConfirm")),1),l("div",re,[n(d,{type:"secondary",onClick:o[7]||(o[7]=c=>s.uploadConfirm=!1)},{default:t(()=>[r(i(e.$t("common.cancel")),1)]),_:1}),n(d,{onClick:a.uploadConfig},{default:t(()=>[r(i(e.$t("result.confirm")),1)]),_:1},8,["onClick"])])]),_:1},8,["visible"]),n(h,{placement:"top",visible:s.downloadConfirm,trigger:"manual",class:"ml-7px"},{reference:t(()=>[n(d,{icon:"codicon-cloud-download",loading:s.downloadLoading,onClick:o[12]||(o[12]=c=>a.downloadConfig())},{default:t(()=>[r(i(e.$t("console.download")),1)]),_:1},8,["loading"])]),default:t(()=>[l("p",ae,i(e.$t("console.mergeConfirm")),1),l("div",de,[n(d,{type:"secondary",onClick:o[9]||(o[9]=c=>s.downloadConfirm=!1)},{default:t(()=>[r(i(e.$t("common.cancel")),1)]),_:1}),n(d,{onClick:o[10]||(o[10]=c=>a.downloadConfig("merge"))},{default:t(()=>[r(i(e.$t("console.merge")),1)]),_:1}),n(d,{onClick:o[11]||(o[11]=c=>a.downloadConfig("overwrite"))},{default:t(()=>[r(i(e.$t("console.overwrite")),1)]),_:1})])]),_:1},8,["visible"]),l("div",ce,[n(S,{modelValue:s.syncKeyPath,"onUpdate:modelValue":o[13]||(o[13]=c=>s.syncKeyPath=c),size:"small",class:"!w-52",placeholder:"Aes encryption Key"},null,8,["modelValue"]),n(d,{icon:"codicon-file",class:"!ml-1 relative",style:{top:"3px"},onClick:a.chooseSyncKey},null,8,["onClick"])])])])]),_:1}),n(v,null,{default:t(()=>[l("div",null,[l("div",ue,i(e.$t("console.other")),1),l("div",me,[n(d,{icon:"codicon-github-inverted",size:"small",onClick:a.reportIssue},{default:t(()=>[r(i(e.$t("toolbar.reportIssue")),1)]),_:1},8,["onClick"]),n(d,{icon:"codicon-clear-all",size:"small",onClick:a.clearCache},{default:t(()=>[r(i(e.$t("toolbar.clearCache")),1)]),_:1},8,["onClick"])]),l("div",null,[s.isDev?(m(),k(d,{key:0,icon:"codicon-gear",size:"small",onClick:a.showLayout},{default:t(()=>[r(" 获取页面宽高 ")]),_:1},8,["onClick"])):E("",!0)])])]),_:1})])}const fe=x(J,[["render",pe],["__scopeId","data-v-4deb099e"]]),ge={editor:["disableSqlCodeLenNew","splitSQLByNewLine","disableSQLCompletion","highlightSQLBlock","bindConnectionByActiveMark","executeCursorSQLByShortcut"],result:["openResultsAsVertically","splitEditorWhenQuery","reloadAfterDML","autoGetTableCount"],treeView:["showUser","showTrigger","saveConnectionExpandedState"],sql:["escapedAllObjectName","capitalizeKeywordsWhenFormatting","autoPagingSQL","queryWithSchema"]};function w(e,o){const p=ge[e];return o.filter(f=>p.includes(f.name)).sort((f,s)=>p.indexOf(f.name)-p.indexOf(s.name))}const Ce={},he={components:{Card:z,CloudConfig:fe},mixins:[K],data(){return{enums:Ce,options:[]}},computed:{optionTypes(){return[{title:this.$t("console.editorOptions"),options:w("editor",this.options)},{title:this.$t("console.sqlOptions"),options:w("sql",this.options)},{title:this.$t("console.treeOptions"),options:w("treeView",this.options)},{title:this.$t("console.resultOptions"),options:w("result",this.options)}]}},async mounted(){this.emit("options").on("options",({options:e})=>{this.options=e}).on("configSuccess",e=>{y({showClose:!0,duration:1e3,message:e,type:"success"})}).on("resetSuccess",e=>{y({showClose:!0,duration:1e3,message:e,type:"success"}),this.emit("options")}).init()},methods:{resetOption(e){this.emit("resetOption",e)},changeOpt(e){let o=e.value;e.type=="boolean"&&(o=!e.value,e.value=o),this.emit("updateOption",{...e,value:o})}}},ye={class:"flex flex-wrap justify-center console-container"},ve={class:"option-container"},_e={class:"option-title"},we={class:"option-list"},ke={key:0},be={key:2};function Se(e,o,p,f,s,a){const d=_("CloudConfig"),h=_("vsc-button"),v=W,b=D,S=T,c=P,B=_("Card");return m(),C("div",ye,[n(d),l("div",ve,[(m(!0),C(L,null,V(a.optionTypes,($,A)=>(m(),k(B,{key:A,style:{"max-width":"350px","min-width":"300px"}},{default:t(()=>[l("div",_e,i($.title),1),n(h,{icon:"codicon-wand",size:"small",title:e.$t("console.resetConfig"),onClick:u=>a.resetOption($.options)},null,8,["title","onClick"]),l("div",we,[(m(!0),C(L,null,V($.options,(u,N)=>(m(),C("div",{key:N,class:"option-item"},[s.enums[u.name]?(m(),C("div",ke,[r(i(u.description)+" ",1),n(b,{modelValue:u.value,"onUpdate:modelValue":g=>u.value=g,class:"w-28",size:"small",onChange:g=>a.changeOpt(u)},{default:t(()=>[(m(!0),C(L,null,V(s.enums[u.name],g=>(m(),k(v,{key:g,value:g},{default:t(()=>[r(i(g),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):u.type=="boolean"||u.name=="escapedAllObjectName"?(m(),k(S,{key:1,"model-value":u.value,onChange:g=>a.changeOpt(u)},{default:t(()=>[r(i(u.description),1)]),_:2},1032,["model-value","onChange"])):["string","number"].includes(u.type)?(m(),C("div",be,[r(i(u.description)+" ",1),n(c,{modelValue:u.value,"onUpdate:modelValue":g=>u.value=g,size:"small",class:"!w-20 ml-1",onChange:g=>a.changeOpt(u)},null,8,["modelValue","onUpdate:modelValue","onChange"])])):E("",!0)]))),128))])]),_:2},1024))),128))])])}const Re=x(he,[["render",Se],["__scopeId","data-v-741ac34f"]]);export{Re as default};
