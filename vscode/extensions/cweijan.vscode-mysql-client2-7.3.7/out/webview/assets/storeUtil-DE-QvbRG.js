import{d as O,c as v,o as N,a as k,U as W,e as F,w as G,C as H,b as ge,n as I,u as r,I as Ne,t as he,D as Ve,al as Se,r as _e,a2 as Ie,N as we,a3 as Ee,am as Ce,J as B,l as D,f as ee,H as J,an as Ae}from"./app-7HI8a4lx.js";import{a as le,d as R,c as se,x as b,y as te,z as Y,_ as oe,A as ue,m as Pe,B as Be,C as ie,I as T,D as w,U as _,u as De,o as $e,j as $,p as ke,F as Fe,v as Te,G as Oe,e as ne,H as ze,J as Ue,K as xe,q as ae}from"./focus-trap-0JUCTGWq.js";import{E as Ke}from"./index-Cexr__N_.js";import{v as re}from"./index-DYEZZ0kO.js";const Me=le({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:R([String,Object,Array])},badgeStyle:{type:R([String,Object,Array])},offset:{type:R(Array),default:[0,0]},dotClass:{type:String},badgeClass:{type:String}}),Le=["textContent"],Je=O({name:"ElBadge"}),Re=O({...Je,props:Me,setup(n,{expose:d}){const l=n,a=se("badge"),p=v(()=>l.isDot?"":b(l.value)&&b(l.max)?l.max<l.value?`${l.max}+`:l.value===0&&!l.showZero?"":`${l.value}`:`${l.value}`),f=v(()=>{var c,o,y,h,V,E;return[{backgroundColor:l.color,marginRight:te(-((o=(c=l.offset)==null?void 0:c[0])!=null?o:0)),marginTop:te((h=(y=l.offset)==null?void 0:y[1])!=null?h:0)},(V=l.dotStyle)!=null?V:{},(E=l.badgeStyle)!=null?E:{}]});return Y({from:"dot-style",replacement:"badge-style",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},v(()=>!!l.dotStyle)),Y({from:"dot-class",replacement:"badge-class",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},v(()=>!!l.dotClass)),d({content:p}),(c,o)=>(N(),k("div",{class:I(r(a).b())},[W(c.$slots,"default"),F(Se,{name:`${r(a).namespace.value}-zoom-in-center`,persisted:""},{default:G(()=>[H(ge("sup",{class:I([r(a).e("content"),r(a).em("content",c.type),r(a).is("fixed",!!c.$slots.default),r(a).is("dot",c.isDot),c.dotClass,c.badgeClass]),style:Ne(r(f)),textContent:he(r(p))},null,14,Le),[[Ve,!c.hidden&&(r(p)||c.isDot)]])]),_:1},8,["name"])],2))}});var We=oe(Re,[["__file","badge.vue"]]);const at=ue(We),Ge=le({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Pe,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:n=>n===null||b(n)||["min","max"].includes(n),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:n=>n>=0&&n===Number.parseInt(`${n}`,10)},validateEvent:{type:Boolean,default:!0},...Be(["ariaLabel"])}),He={[ie]:(n,d)=>d!==n,blur:n=>n instanceof FocusEvent,focus:n=>n instanceof FocusEvent,[T]:n=>b(n)||w(n),[_]:n=>b(n)||w(n)},Ye=["aria-label","onKeydown"],Ze=["aria-label","onKeydown"],qe=O({name:"ElInputNumber"}),je=O({...qe,props:Ge,emits:He,setup(n,{expose:d,emit:l}){const a=n,{t:p}=De(),f=se("input-number"),c=_e(),o=Ie({currentValue:a.modelValue,userInput:null}),{formItem:y}=$e(),h=v(()=>b(a.modelValue)&&a.modelValue<=a.min),V=v(()=>b(a.modelValue)&&a.modelValue>=a.max),E=v(()=>{const e=j(a.step);return $(a.precision)?Math.max(j(a.modelValue),e):(e>a.precision,a.precision)}),z=v(()=>a.controls&&a.controlsPosition==="right"),q=ke(),S=Fe(),U=v(()=>{if(o.userInput!==null)return o.userInput;let e=o.currentValue;if(w(e))return"";if(b(e)){if(Number.isNaN(e))return"";$(a.precision)||(e=e.toFixed(a.precision))}return e}),x=(e,t)=>{if($(t)&&(t=E.value),t===0)return Math.round(e);let s=String(e);const i=s.indexOf(".");if(i===-1||!s.replace(".","").split("")[i+t])return e;const A=s.length;return s.charAt(A-1)==="5"&&(s=`${s.slice(0,Math.max(0,A-1))}6`),Number.parseFloat(Number(s).toFixed(t))},j=e=>{if(w(e))return 0;const t=e.toString(),s=t.indexOf(".");let i=0;return s!==-1&&(i=t.length-s-1),i},Q=(e,t=1)=>b(e)?x(e+a.step*t):o.currentValue,K=()=>{if(a.readonly||S.value||V.value)return;const e=Number(U.value)||0,t=Q(e);C(t),l(T,o.currentValue),L()},M=()=>{if(a.readonly||S.value||h.value)return;const e=Number(U.value)||0,t=Q(e,-1);C(t),l(T,o.currentValue),L()},X=(e,t)=>{const{max:s,min:i,step:u,precision:g,stepStrictly:A,valueOnClear:P}=a;s<i&&xe("InputNumber","min should not be greater than max.");let m=Number(e);if(w(e)||Number.isNaN(m))return null;if(e===""){if(P===null)return null;m=Ae(P)?{min:i,max:s}[P]:P}return A&&(m=x(Math.round(m/u)*u,g)),$(g)||(m=x(m,g)),(m>s||m<i)&&(m=m>s?s:i,t&&l(_,m)),m},C=(e,t=!0)=>{var s;const i=o.currentValue,u=X(e);if(!t){l(_,u);return}i===u&&e||(o.userInput=null,l(_,u),i!==u&&l(ie,u,i),a.validateEvent&&((s=y==null?void 0:y.validate)==null||s.call(y,"change").catch(g=>ae())),o.currentValue=u)},de=e=>{o.userInput=e;const t=e===""?null:Number(e);l(T,t),C(t,!1)},pe=e=>{const t=e!==""?Number(e):"";(b(t)&&!Number.isNaN(t)||e==="")&&C(t),L(),o.userInput=null},me=()=>{var e,t;(t=(e=c.value)==null?void 0:e.focus)==null||t.call(e)},fe=()=>{var e,t;(t=(e=c.value)==null?void 0:e.blur)==null||t.call(e)},be=e=>{l("focus",e)},ve=e=>{var t;o.userInput=null,l("blur",e),a.validateEvent&&((t=y==null?void 0:y.validate)==null||t.call(y,"blur").catch(s=>ae()))},L=()=>{o.currentValue!==a.modelValue&&(o.currentValue=a.modelValue)},ye=e=>{document.activeElement===e.target&&e.preventDefault()};return we(()=>a.modelValue,(e,t)=>{const s=X(e,!0);o.userInput===null&&s!==t&&(o.currentValue=s)},{immediate:!0}),Ee(()=>{var e;const{min:t,max:s,modelValue:i}=a,u=(e=c.value)==null?void 0:e.input;if(u.setAttribute("role","spinbutton"),Number.isFinite(s)?u.setAttribute("aria-valuemax",String(s)):u.removeAttribute("aria-valuemax"),Number.isFinite(t)?u.setAttribute("aria-valuemin",String(t)):u.removeAttribute("aria-valuemin"),u.setAttribute("aria-valuenow",o.currentValue||o.currentValue===0?String(o.currentValue):""),u.setAttribute("aria-disabled",String(S.value)),!b(i)&&i!=null){let g=Number(i);Number.isNaN(g)&&(g=null),l(_,g)}u.addEventListener("wheel",ye,{passive:!1})}),Ce(()=>{var e,t;const s=(e=c.value)==null?void 0:e.input;s==null||s.setAttribute("aria-valuenow",`${(t=o.currentValue)!=null?t:""}`)}),Y({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},v(()=>!!a.label)),d({focus:me,blur:fe}),(e,t)=>(N(),k("div",{class:I([r(f).b(),r(f).m(r(q)),r(f).is("disabled",r(S)),r(f).is("without-controls",!e.controls),r(f).is("controls-right",r(z))]),onDragstart:t[0]||(t[0]=J(()=>{},["prevent"]))},[e.controls?H((N(),k("span",{key:0,role:"button","aria-label":r(p)("el.inputNumber.decrease"),class:I([r(f).e("decrease"),r(f).is("disabled",r(h))]),onKeydown:B(M,["enter"])},[W(e.$slots,"decrease-icon",{},()=>[F(r(ne),null,{default:G(()=>[r(z)?(N(),D(r(Te),{key:0})):(N(),D(r(Oe),{key:1}))]),_:1})])],42,Ye)),[[r(re),M]]):ee("v-if",!0),e.controls?H((N(),k("span",{key:1,role:"button","aria-label":r(p)("el.inputNumber.increase"),class:I([r(f).e("increase"),r(f).is("disabled",r(V))]),onKeydown:B(K,["enter"])},[W(e.$slots,"increase-icon",{},()=>[F(r(ne),null,{default:G(()=>[r(z)?(N(),D(r(ze),{key:0})):(N(),D(r(Ue),{key:1}))]),_:1})])],42,Ze)),[[r(re),K]]):ee("v-if",!0),F(r(Ke),{id:e.id,ref_key:"input",ref:c,type:"number",step:e.step,"model-value":r(U),placeholder:e.placeholder,readonly:e.readonly,disabled:r(S),size:r(q),max:e.max,min:e.min,name:e.name,"aria-label":e.label||e.ariaLabel,"validate-event":!1,onKeydown:[B(J(K,["prevent"]),["up"]),B(J(M,["prevent"]),["down"])],onBlur:ve,onFocus:be,onInput:de,onChange:pe},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var Qe=oe(je,[["__file","input-number.vue"]]);const rt=ue(Qe);function Z(n){if(n==null)return null;if(Array.isArray(n))return n.map(d=>Z(d));if(typeof n=="object"){const d={};for(const l in n)typeof n[l]=="object"?d[l]=Z(n[l]):d[l]=n[l];return d}return n}const ce=/^(\$|_|vm)/i;function lt(n,d,...l){const a=Z(d);for(const p of Object.keys(n))p.startsWith("$")||p.startsWith("_")||p.match(ce)||(a[p]===void 0&&(a[p]=null),l.includes(p)&&(a[p]=n[p]));n.$patch(a)}function st(n){return JSON.parse(JSON.stringify(n,(d,l)=>d.match(ce)?null:l))}export{rt as E,at as a,st as c,Z as d,lt as r};
