import{d as ge,Q as kn,i as Mo,c as H,k as v,o as i,a as h,f as T,l as P,H as Ve,w as k,e as s,n as J,F as K,b as n,r as Z,y as se,q as y,t as b,M as gn,af as Co,ag as yn,p as $n,a2 as Vo,N as ke,ah as Sn,a3 as No,a5 as Se,ai as wn,aj as Cn,C as U,u as D,I as uo,J as Vn,Y as I,ak as Pn,D as Po,U as po,s as qo,j as V,_ as R,ae as mo,z as Ho,A as Ro,h as jo,x as De,G as Tn}from"./app-7HI8a4lx.js";import{d as Un,a as ho,E as Ue,r as An,c as Dn}from"./storeUtil-DE-QvbRG.js";import{d as Bo,a as In,b as En,c as Ln}from"./defaultConfig-B2CzoKYj.js";import{E as ce}from"./index-DEoB_Ua-.js";import{E as _o}from"./index-BZGOUGMZ.js";import{s as On,E as bo,i as Mn}from"./index-Cexr__N_.js";import{E as Oe}from"./index-D010uDlT.js";import{b as Qe,E as Me,a as Ne}from"./index-CM4kadu2.js";import{c as To,E as We,a as Ge}from"./index-BPe1LNWi.js";import{D as E,s as Nn}from"./DatabaseType-ZbmIKB2x.js";import{E as vo,a as Ko}from"./index-uoaXWFBg.js";import{A as qn}from"./arrayUtil-DlGlibQI.js";import{b as Hn,c as Pe,_ as Ze,e as Ie,f as zo,l as Fo,g as Rn,u as Jo,h as jn,i as co,j as Bn,a as Qo,d as Ee,U as Ke,C as ze,k as Wo,E as ae,m as Kn,n as zn,o as Fn,p as Jn,q as Qn,r as Wn,t as Gn,v as Zn,w as Yn}from"./focus-trap-0JUCTGWq.js";import{E as Go,i as Le,d as Xn,C as xn}from"./index-BnH3xz_z.js";import{i as es,f as Re,g as Zo}from"./index-BRXl8bEV.js";import{u as Uo,c as Ao}from"./index-DYEZZ0kO.js";import{b as os}from"./_baseClone-B9zh-0Fl.js";import{u as ns,E as Do}from"./index-4venPVpq.js";import{t as ss,E as Io}from"./index-Cf7tx5Fe.js";import{u as ts,a as ls}from"./index-Bo03iq4n.js";import"./validator-CUeJqo3c.js";import"./isUndefined-DCTLXrZ8.js";import"./_baseIteratee-BTzwo4Hl.js";import"./castArray-Dlxvef-B.js";import"./viewUtil-BGSxVGqE.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./_initCloneObject-BPdR5qB5.js";var is=1,as=4;function Yo(e){return os(e,is|as)}var cs=1/0;function rs(e){var o=e==null?0:e.length;return o?Hn(e,cs):[]}var ds=ge({name:"NodeContent",setup(){return{ns:Pe("cascader-node")}},render(){const{ns:e}=this,{node:o,panel:t}=this.$parent,{data:c,label:r}=o,{renderLabelFn:l}=t;return kn("span",{class:e.e("label")},l?l({node:o,data:c}):r)}});const fo=Symbol(),us=ge({name:"ElCascaderNode",components:{ElCheckbox:vo,ElRadio:Qe,NodeContent:ds,ElIcon:Ie,Check:zo,Loading:Fo,ArrowRight:Rn},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:o}){const t=Mo(fo),c=Pe("cascader-node"),r=H(()=>t.isHoverMenu),l=H(()=>t.config.multiple),a=H(()=>t.config.checkStrictly),m=H(()=>{var j;return(j=t.checkedNodes[0])==null?void 0:j.uid}),u=H(()=>e.node.isDisabled),p=H(()=>e.node.isLeaf),d=H(()=>a.value&&!p.value||!u.value),f=H(()=>A(t.expandingNode)),w=H(()=>a.value&&t.checkedNodes.some(A)),A=j=>{var ee;const{level:ne,uid:re}=e.node;return((ee=j==null?void 0:j.pathNodes[ne-1])==null?void 0:ee.uid)===re},L=()=>{f.value||t.expandNode(e.node)},te=j=>{const{node:ee}=e;j!==ee.checked&&t.handleCheckChange(ee,j)},oe=()=>{t.lazyLoad(e.node,()=>{p.value||L()})},W=j=>{r.value&&(le(),!p.value&&o("expand",j))},le=()=>{const{node:j}=e;!d.value||j.loading||(j.loaded?L():oe())},X=()=>{r.value&&!p.value||(p.value&&!u.value&&!a.value&&!l.value?x(!0):le())},ue=j=>{a.value?(te(j),e.node.loaded&&L()):x(j)},x=j=>{e.node.loaded?(te(j),!a.value&&L()):oe()};return{panel:t,isHoverMenu:r,multiple:l,checkStrictly:a,checkedNodeId:m,isDisabled:u,isLeaf:p,expandable:d,inExpandingPath:f,inCheckedPath:w,ns:c,handleHoverExpand:W,handleExpand:le,handleClick:X,handleCheck:x,handleSelectCheck:ue}}}),ps=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],ms=n("span",null,null,-1);function hs(e,o,t,c,r,l){const a=v("el-checkbox"),m=v("el-radio"),u=v("check"),p=v("el-icon"),d=v("node-content"),f=v("loading"),w=v("arrow-right");return i(),h("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:J([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:o[2]||(o[2]=(...A)=>e.handleHoverExpand&&e.handleHoverExpand(...A)),onFocus:o[3]||(o[3]=(...A)=>e.handleHoverExpand&&e.handleHoverExpand(...A)),onClick:o[4]||(o[4]=(...A)=>e.handleClick&&e.handleClick(...A))},[T(" prefix "),e.multiple?(i(),P(a,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:o[0]||(o[0]=Ve(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(i(),P(m,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:o[1]||(o[1]=Ve(()=>{},["stop"]))},{default:k(()=>[T(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),ms]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(i(),P(p,{key:2,class:J(e.ns.e("prefix"))},{default:k(()=>[s(u)]),_:1},8,["class"])):T("v-if",!0),T(" content "),s(d),T(" postfix "),e.isLeaf?T("v-if",!0):(i(),h(K,{key:3},[e.node.loading?(i(),P(p,{key:0,class:J([e.ns.is("loading"),e.ns.e("postfix")])},{default:k(()=>[s(f)]),_:1},8,["class"])):(i(),P(p,{key:1,class:J(["arrow-right",e.ns.e("postfix")])},{default:k(()=>[s(w)]),_:1},8,["class"]))],64))],42,ps)}var _s=Ze(us,[["render",hs],["__file","node.vue"]]);const bs=ge({name:"ElCascaderMenu",components:{Loading:Fo,ElIcon:Ie,ElScrollbar:Go,ElCascaderNode:_s},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const o=gn(),t=Pe("cascader-menu"),{t:c}=Jo(),r=jn();let l=null,a=null;const m=Mo(fo),u=Z(null),p=H(()=>!e.nodes.length),d=H(()=>!m.initialLoaded),f=H(()=>`${r.value}-${e.index}`),w=oe=>{l=oe.target},A=oe=>{if(!(!m.isHoverMenu||!l||!u.value))if(l.contains(oe.target)){L();const W=o.vnode.el,{left:le}=W.getBoundingClientRect(),{offsetWidth:X,offsetHeight:ue}=W,x=oe.clientX-le,j=l.offsetTop,ee=j+l.offsetHeight;u.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${x} ${j} L${X} 0 V${j} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${x} ${ee} L${X} ${ue} V${ee} Z" />
        `}else a||(a=window.setTimeout(te,m.config.hoverThreshold))},L=()=>{a&&(clearTimeout(a),a=null)},te=()=>{u.value&&(u.value.innerHTML="",L())};return{ns:t,panel:m,hoverZone:u,isEmpty:p,isLoading:d,menuId:f,t:c,handleExpand:w,handleMouseMove:A,clearHoverZone:te}}});function vs(e,o,t,c,r,l){const a=v("el-cascader-node"),m=v("loading"),u=v("el-icon"),p=v("el-scrollbar");return i(),P(p,{key:e.menuId,tag:"ul",role:"menu",class:J(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:k(()=>{var d;return[(i(!0),h(K,null,se(e.nodes,f=>(i(),P(a,{key:f.uid,node:f,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(i(),h("div",{key:0,class:J(e.ns.e("empty-text"))},[s(u,{size:"14",class:J(e.ns.is("loading"))},{default:k(()=>[s(m)]),_:1},8,["class"]),y(" "+b(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(i(),h("div",{key:1,class:J(e.ns.e("empty-text"))},b(e.t("el.cascader.noData")),3)):(d=e.panel)!=null&&d.isHoverMenu?(i(),h("svg",{key:2,ref:"hoverZone",class:J(e.ns.e("hover-zone"))},null,2)):T("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var fs=Ze(bs,[["render",vs],["__file","menu.vue"]]);let ks=0;const gs=e=>{const o=[e];let{parent:t}=e;for(;t;)o.unshift(t),t=t.parent;return o};class Te{constructor(o,t,c,r=!1){this.data=o,this.config=t,this.parent=c,this.root=r,this.uid=ks++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:l,label:a,children:m}=t,u=o[m],p=gs(this);this.level=r?0:c?c.level+1:1,this.value=o[l],this.label=o[a],this.pathNodes=p,this.pathValues=p.map(d=>d.value),this.pathLabels=p.map(d=>d.label),this.childrenData=u,this.children=(u||[]).map(d=>new Te(d,t,this)),this.loaded=!t.lazy||this.isLeaf||!co(u)}get isDisabled(){const{data:o,parent:t,config:c}=this,{disabled:r,checkStrictly:l}=c;return(Co(r)?r(o,this):!!o[r])||!l&&(t==null?void 0:t.isDisabled)}get isLeaf(){const{data:o,config:t,childrenData:c,loaded:r}=this,{lazy:l,leaf:a}=t,m=Co(a)?a(o,this):o[a];return Bn(m)?l&&!r?!1:!(Array.isArray(c)&&c.length):!!m}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(o){const{childrenData:t,children:c}=this,r=new Te(o,this.config,this);return Array.isArray(t)?t.push(o):this.childrenData=[o],c.push(r),r}calcText(o,t){const c=o?this.pathLabels.join(t):this.label;return this.text=c,c}broadcast(o,...t){const c=`onParent${To(o)}`;this.children.forEach(r=>{r&&(r.broadcast(o,...t),r[c]&&r[c](...t))})}emit(o,...t){const{parent:c}=this,r=`onChild${To(o)}`;c&&(c[r]&&c[r](...t),c.emit(o,...t))}onParentCheck(o){this.isDisabled||this.setCheckState(o)}onChildCheck(){const{children:o}=this,t=o.filter(r=>!r.isDisabled),c=t.length?t.every(r=>r.checked):!1;this.setCheckState(c)}setCheckState(o){const t=this.children.length,c=this.children.reduce((r,l)=>{const a=l.checked?1:l.indeterminate?.5:0;return r+a},0);this.checked=this.loaded&&this.children.filter(r=>!r.isDisabled).every(r=>r.loaded&&r.checked)&&o,this.indeterminate=this.loaded&&c!==t&&c>0}doCheck(o){if(this.checked===o)return;const{checkStrictly:t,multiple:c}=this.config;t||!c?this.checked=o:(this.broadcast("check",o),this.setCheckState(o),this.emit("check"))}}const ro=(e,o)=>e.reduce((t,c)=>(c.isLeaf?t.push(c):(!o&&t.push(c),t=t.concat(ro(c.children,o))),t),[]);class Eo{constructor(o,t){this.config=t;const c=(o||[]).map(r=>new Te(r,this.config));this.nodes=c,this.allNodes=ro(c,!1),this.leafNodes=ro(c,!0)}getNodes(){return this.nodes}getFlattedNodes(o){return o?this.leafNodes:this.allNodes}appendNode(o,t){const c=t?t.appendChild(o):new Te(o,this.config);t||this.nodes.push(c),this.allNodes.push(c),c.isLeaf&&this.leafNodes.push(c)}appendNodes(o,t){o.forEach(c=>this.appendNode(c,t))}getNodeByValue(o,t=!1){return!o&&o!==0?null:this.getFlattedNodes(t).find(r=>Le(r.value,o)||Le(r.pathValues,o))||null}getSameNode(o){return o&&this.getFlattedNodes(!1).find(({value:c,level:r})=>Le(o.value,c)&&o.level===r)||null}}const Xo=Qo({modelValue:{type:Ee([Number,String,Array])},options:{type:Ee(Array),default:()=>[]},props:{type:Ee(Object),default:()=>({})}}),ys={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:yn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},$s=e=>H(()=>({...ys,...e.props})),Lo=e=>{if(!e)return 0;const o=e.id.split("-");return Number(o[o.length-2])},Ss=e=>{if(!e)return;const o=e.querySelector("input");o?o.click():es(e)&&e.click()},ws=(e,o)=>{const t=o.slice(0),c=t.map(l=>l.uid),r=e.reduce((l,a)=>{const m=c.indexOf(a.uid);return m>-1&&(l.push(a),t.splice(m,1),c.splice(m,1)),l},[]);return r.push(...t),r},Cs=ge({name:"ElCascaderPanel",components:{ElCascaderMenu:fs},props:{...Xo,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Ke,ze,"close","expand-change"],setup(e,{emit:o,slots:t}){let c=!1;const r=Pe("cascader"),l=$s(e);let a=null;const m=Z(!0),u=Z([]),p=Z(null),d=Z([]),f=Z(null),w=Z([]),A=H(()=>l.value.expandTrigger==="hover"),L=H(()=>e.renderLabel||t.default),te=()=>{const{options:C}=e,q=l.value;c=!1,a=new Eo(C,q),d.value=[a.getNodes()],q.lazy&&co(e.options)?(m.value=!1,oe(void 0,M=>{M&&(a=new Eo(M,q),d.value=[a.getNodes()]),m.value=!0,ne(!1,!0)})):ne(!1,!0)},oe=(C,q)=>{const M=l.value;C=C||new Te({},M,void 0,!0),C.loading=!0;const B=Q=>{const z=C,ie=z.root?null:z;Q&&(a==null||a.appendNodes(Q,ie)),z.loading=!1,z.loaded=!0,z.childrenData=z.childrenData||[],q&&q(Q)};M.lazyLoad(C,B)},W=(C,q)=>{var M;const{level:B}=C,Q=d.value.slice(0,B);let z;C.isLeaf?z=C.pathNodes[B-2]:(z=C,Q.push(C.children)),((M=f.value)==null?void 0:M.uid)!==(z==null?void 0:z.uid)&&(f.value=C,d.value=Q,!q&&o("expand-change",(C==null?void 0:C.pathValues)||[]))},le=(C,q,M=!0)=>{const{checkStrictly:B,multiple:Q}=l.value,z=w.value[0];c=!0,!Q&&(z==null||z.doCheck(!1)),C.doCheck(q),ee(),M&&!Q&&!B&&o("close"),!M&&!Q&&!B&&X(C)},X=C=>{C&&(C=C.parent,X(C),C&&W(C))},ue=C=>a==null?void 0:a.getFlattedNodes(C),x=C=>{var q;return(q=ue(C))==null?void 0:q.filter(M=>M.checked!==!1)},j=()=>{w.value.forEach(C=>C.doCheck(!1)),ee(),d.value=d.value.slice(0,1),f.value=null,o("expand-change",[])},ee=()=>{var C;const{checkStrictly:q,multiple:M}=l.value,B=w.value,Q=x(!q),z=ws(B,Q),ie=z.map(G=>G.valueByOption);w.value=z,p.value=M?ie:(C=ie[0])!=null?C:null},ne=(C=!1,q=!1)=>{const{modelValue:M}=e,{lazy:B,multiple:Q,checkStrictly:z}=l.value,ie=!z;if(!(!m.value||c||!q&&Le(M,p.value)))if(B&&!C){const $e=Uo(rs(Ao(M))).map(pe=>a==null?void 0:a.getNodeByValue(pe)).filter(pe=>!!pe&&!pe.loaded&&!pe.loading);$e.length?$e.forEach(pe=>{oe(pe,()=>ne(!1,q))}):ne(!0,q)}else{const G=Q?Ao(M):[M],$e=Uo(G.map(pe=>a==null?void 0:a.getNodeByValue(pe,ie)));re($e,q),p.value=Yo(M)}},re=(C,q=!0)=>{const{checkStrictly:M}=l.value,B=w.value,Q=C.filter(G=>!!G&&(M||G.isLeaf)),z=a==null?void 0:a.getSameNode(f.value),ie=q&&z||Q[0];ie?ie.pathNodes.forEach(G=>W(G,!0)):f.value=null,B.forEach(G=>G.doCheck(!1)),Vo(Q).forEach(G=>G.doCheck(!0)),w.value=Q,Se(fe)},fe=()=>{Wo&&u.value.forEach(C=>{const q=C==null?void 0:C.$el;if(q){const M=q.querySelector(`.${r.namespace.value}-scrollbar__wrap`),B=q.querySelector(`.${r.b("node")}.${r.is("active")}`)||q.querySelector(`.${r.b("node")}.in-active-path`);On(M,B)}})},ye=C=>{const q=C.target,{code:M}=C;switch(M){case ae.up:case ae.down:{C.preventDefault();const B=M===ae.up?-1:1;Re(Zo(q,B,`.${r.b("node")}[tabindex="-1"]`));break}case ae.left:{C.preventDefault();const B=u.value[Lo(q)-1],Q=B==null?void 0:B.$el.querySelector(`.${r.b("node")}[aria-expanded="true"]`);Re(Q);break}case ae.right:{C.preventDefault();const B=u.value[Lo(q)+1],Q=B==null?void 0:B.$el.querySelector(`.${r.b("node")}[tabindex="-1"]`);Re(Q);break}case ae.enter:Ss(q);break}};return $n(fo,Vo({config:l,expandingNode:f,checkedNodes:w,isHoverMenu:A,initialLoaded:m,renderLabelFn:L,lazyLoad:oe,expandNode:W,handleCheckChange:le})),ke([l,()=>e.options],te,{deep:!0,immediate:!0}),ke(()=>e.modelValue,()=>{c=!1,ne()},{deep:!0}),ke(()=>p.value,C=>{Le(C,e.modelValue)||(o(Ke,C),o(ze,C))}),Sn(()=>u.value=[]),No(()=>!co(e.modelValue)&&ne()),{ns:r,menuList:u,menus:d,checkedNodes:w,handleKeyDown:ye,handleCheckChange:le,getFlattedNodes:ue,getCheckedNodes:x,clearCheckedNodes:j,calculateCheckedValue:ee,scrollToExpandingNode:fe}}});function Vs(e,o,t,c,r,l){const a=v("el-cascader-menu");return i(),h("div",{class:J([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:o[0]||(o[0]=(...m)=>e.handleKeyDown&&e.handleKeyDown(...m))},[(i(!0),h(K,null,se(e.menus,(m,u)=>(i(),P(a,{key:u,ref_for:!0,ref:p=>e.menuList[u]=p,index:u,nodes:[...m]},null,8,["index","nodes"]))),128))],34)}var je=Ze(Cs,[["render",Vs],["__file","index.vue"]]);je.install=e=>{e.component(je.name,je)};const Ps=je,Ts=Qo({...Xo,size:Kn,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Ee(Function),default:(e,o)=>e.text.includes(o)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Ee(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:ns.teleported,tagType:{...ss.type,default:"info"},validateEvent:{type:Boolean,default:!0},...ts}),Us={[Ke]:e=>!0,[ze]:e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,visibleChange:e=>zn(e),expandChange:e=>!!e,removeTag:e=>!!e},As={key:0},Ds=["placeholder","onKeydown"],Is=["onClick"],Es="ElCascader",Ls=ge({name:Es}),Os=ge({...Ls,props:Ts,emits:Us,setup(e,{expose:o,emit:t}){const c=e,r={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:_})=>{const{modifiersData:g,placement:S}=_;["right","left","bottom","top"].includes(S)||(g.arrow.x=35)},requires:["arrow"]}]},l=wn();let a=0,m=0;const u=Pe("cascader"),p=Pe("input"),{t:d}=Jo(),{form:f,formItem:w}=Fn(),{valueOnClear:A}=ls(c),L=Z(null),te=Z(null),oe=Z(null),W=Z(null),le=Z(null),X=Z(!1),ue=Z(!1),x=Z(!1),j=Z(!1),ee=Z(""),ne=Z(""),re=Z([]),fe=Z([]),ye=Z([]),C=Z(!1),q=H(()=>l.style),M=H(()=>c.disabled||(f==null?void 0:f.disabled)),B=H(()=>c.placeholder||d("el.cascader.placeholder")),Q=H(()=>ne.value||re.value.length>0||C.value?"":B.value),z=Jn(),ie=H(()=>["small"].includes(z.value)?"small":"default"),G=H(()=>!!c.props.multiple),$e=H(()=>!c.filterable||G.value),pe=H(()=>G.value?ne.value:ee.value),He=H(()=>{var _;return((_=W.value)==null?void 0:_.checkedNodes)||[]}),sn=H(()=>!c.clearable||M.value||x.value||!ue.value?!1:!!He.value.length),xe=H(()=>{const{showAllLevels:_,separator:g}=c,S=He.value;return S.length?G.value?"":S[0].calcText(_,g):""}),tn=H(()=>(w==null?void 0:w.validateState)||""),eo=H({get(){return Yo(c.modelValue)},set(_){const g=_||A.value;t(Ke,g),t(ze,g),c.validateEvent&&(w==null||w.validate("change").catch(S=>Qn()))}}),ln=H(()=>[u.b(),u.m(z.value),u.is("disabled",M.value),l.class]),an=H(()=>[p.e("icon"),"icon-arrow-down",u.is("reverse",X.value)]),cn=H(()=>u.is("focus",X.value||j.value)),go=H(()=>{var _,g;return(g=(_=L.value)==null?void 0:_.popperRef)==null?void 0:g.contentRef}),de=_=>{var g,S,F;M.value||(_=_??!X.value,_!==X.value&&(X.value=_,(S=(g=te.value)==null?void 0:g.input)==null||S.setAttribute("aria-expanded",`${_}`),_?(Ae(),Se((F=W.value)==null?void 0:F.scrollToExpandingNode)):c.filterable&&lo(),t("visibleChange",_)))},Ae=()=>{Se(()=>{var _;(_=L.value)==null||_.updatePopper()})},oo=()=>{x.value=!1},no=_=>{const{showAllLevels:g,separator:S}=c;return{node:_,key:_.uid,text:_.calcText(g,S),hitState:!1,closable:!M.value&&!_.isDisabled,isCollapseTag:!1}},so=_=>{var g;const S=_.node;S.doCheck(!1),(g=W.value)==null||g.calculateCheckedValue(),t("removeTag",S.valueByOption)},rn=()=>{if(!G.value)return;const _=He.value,g=[],S=[];if(_.forEach(F=>S.push(no(F))),fe.value=S,_.length){_.slice(0,c.maxCollapseTags).forEach(he=>g.push(no(he)));const F=_.slice(c.maxCollapseTags),_e=F.length;_e&&(c.collapseTags?g.push({key:-1,text:`+ ${_e}`,closable:!1,isCollapseTag:!0}):F.forEach(he=>g.push(no(he))))}re.value=g},yo=()=>{var _,g;const{filterMethod:S,showAllLevels:F,separator:_e}=c,he=(g=(_=W.value)==null?void 0:_.getFlattedNodes(!c.props.checkStrictly))==null?void 0:g.filter(be=>be.isDisabled?!1:(be.calcText(F,_e),S(be,pe.value)));G.value&&(re.value.forEach(be=>{be.hitState=!1}),fe.value.forEach(be=>{be.hitState=!1})),x.value=!0,ye.value=he,Ae()},dn=()=>{var _;let g;x.value&&le.value?g=le.value.$el.querySelector(`.${u.e("suggestion-item")}`):g=(_=W.value)==null?void 0:_.$el.querySelector(`.${u.b("node")}[tabindex="-1"]`),g&&(g.focus(),!x.value&&g.click())},to=()=>{var _,g;const S=(_=te.value)==null?void 0:_.input,F=oe.value,_e=(g=le.value)==null?void 0:g.$el;if(!(!Wo||!S)){if(_e){const he=_e.querySelector(`.${u.e("suggestion-list")}`);he.style.minWidth=`${S.offsetWidth}px`}if(F){const{offsetHeight:he}=F,be=re.value.length>0?`${Math.max(he+6,a)}px`:`${a}px`;S.style.height=be,Ae()}}},un=_=>{var g;return(g=W.value)==null?void 0:g.getCheckedNodes(_)},pn=_=>{Ae(),t("expandChange",_)},Ce=_=>{var g;const S=(g=_.target)==null?void 0:g.value;if(_.type==="compositionend")C.value=!1,Se(()=>io(S));else{const F=S[S.length-1]||"";C.value=!Mn(F)}},mn=_=>{if(!C.value)switch(_.code){case ae.enter:de();break;case ae.down:de(!0),Se(dn),_.preventDefault();break;case ae.esc:X.value===!0&&(_.preventDefault(),_.stopPropagation(),de(!1));break;case ae.tab:de(!1);break}},hn=()=>{var _;(_=W.value)==null||_.clearCheckedNodes(),!X.value&&c.filterable&&lo(),de(!1)},lo=()=>{const{value:_}=xe;ee.value=_,ne.value=_},_n=_=>{var g,S;const{checked:F}=_;G.value?(g=W.value)==null||g.handleCheckChange(_,!F,!1):(!F&&((S=W.value)==null||S.handleCheckChange(_,!0,!1)),de(!1))},bn=_=>{const g=_.target,{code:S}=_;switch(S){case ae.up:case ae.down:{const F=S===ae.up?-1:1;Re(Zo(g,F,`.${u.e("suggestion-item")}[tabindex="-1"]`));break}case ae.enter:g.click();break}},vn=()=>{const _=re.value,g=_[_.length-1];m=ne.value?0:m+1,!(!g||!m||c.collapseTags&&_.length>1)&&(g.hitState?so(g):g.hitState=!0)},$o=_=>{const g=_.target,S=u.e("search-input");g.className===S&&(j.value=!0),t("focus",_)},So=_=>{j.value=!1,t("blur",_)},fn=Xn(()=>{const{value:_}=pe;if(!_)return;const g=c.beforeFilter(_);Cn(g)?g.then(yo).catch(()=>{}):g!==!1?yo():oo()},c.debounce),io=(_,g)=>{!X.value&&de(!0),!(g!=null&&g.isComposing)&&(_?fn():oo())},wo=_=>Number.parseFloat(Yn(p.cssVarName("input-height"),_).value)-2;return ke(x,Ae),ke([He,M],rn),ke(re,()=>{Se(()=>to())}),ke(z,async()=>{await Se();const _=te.value.input;a=wo(_)||a,to()}),ke(xe,lo,{immediate:!0}),No(()=>{const _=te.value.input,g=wo(_);a=_.offsetHeight||g,Wn(_,to)}),o({getCheckedNodes:un,cascaderPanelRef:W,togglePopperVisible:de,contentRef:go}),(_,g)=>(i(),P(D(Do),{ref_key:"tooltipRef",ref:L,visible:X.value,teleported:_.teleported,"popper-class":[D(u).e("dropdown"),_.popperClass],"popper-options":r,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${D(u).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:oo},{default:k(()=>[U((i(),h("div",{class:J(D(ln)),style:uo(D(q)),onClick:g[5]||(g[5]=()=>de(D($e)?void 0:!0)),onKeydown:mn,onMouseenter:g[6]||(g[6]=S=>ue.value=!0),onMouseleave:g[7]||(g[7]=S=>ue.value=!1)},[s(D(bo),{ref_key:"input",ref:te,modelValue:ee.value,"onUpdate:modelValue":g[1]||(g[1]=S=>ee.value=S),placeholder:D(Q),readonly:D($e),disabled:D(M),"validate-event":!1,size:D(z),class:J(D(cn)),tabindex:D(G)&&_.filterable&&!D(M)?-1:void 0,onCompositionstart:Ce,onCompositionupdate:Ce,onCompositionend:Ce,onFocus:$o,onBlur:So,onInput:io},{suffix:k(()=>[D(sn)?(i(),P(D(Ie),{key:"clear",class:J([D(p).e("icon"),"icon-circle-close"]),onClick:Ve(hn,["stop"])},{default:k(()=>[s(D(Gn))]),_:1},8,["class","onClick"])):(i(),P(D(Ie),{key:"arrow-down",class:J(D(an)),onClick:g[0]||(g[0]=Ve(S=>de(),["stop"]))},{default:k(()=>[s(D(Zn))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),D(G)?(i(),h("div",{key:0,ref_key:"tagWrapper",ref:oe,class:J([D(u).e("tags"),D(u).is("validate",!!D(tn))])},[(i(!0),h(K,null,se(re.value,S=>(i(),P(D(Io),{key:S.key,type:_.tagType,size:D(ie),hit:S.hitState,closable:S.closable,"disable-transitions":"",onClose:F=>so(S)},{default:k(()=>[S.isCollapseTag===!1?(i(),h("span",As,b(S.text),1)):(i(),P(D(Do),{key:1,disabled:X.value||!_.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:k(()=>[n("span",null,b(S.text),1)]),content:k(()=>[n("div",{class:J(D(u).e("collapse-tags"))},[(i(!0),h(K,null,se(fe.value.slice(_.maxCollapseTags),(F,_e)=>(i(),h("div",{key:_e,class:J(D(u).e("collapse-tag"))},[(i(),P(D(Io),{key:F.key,class:"in-tooltip",type:_.tagType,size:D(ie),hit:F.hitState,closable:F.closable,"disable-transitions":"",onClose:he=>so(F)},{default:k(()=>[n("span",null,b(F.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),_.filterable&&!D(M)?U((i(),h("input",{key:0,"onUpdate:modelValue":g[2]||(g[2]=S=>ne.value=S),type:"text",class:J(D(u).e("search-input")),placeholder:D(xe)?"":D(B),onInput:g[3]||(g[3]=S=>io(ne.value,S)),onClick:g[4]||(g[4]=Ve(S=>de(!0),["stop"])),onKeydown:Vn(vn,["delete"]),onCompositionstart:Ce,onCompositionupdate:Ce,onCompositionend:Ce,onFocus:$o,onBlur:So},null,42,Ds)),[[I,ne.value]]):T("v-if",!0)],2)):T("v-if",!0)],38)),[[D(xn),()=>de(!1),D(go)]])]),content:k(()=>[U(s(D(Ps),{ref_key:"cascaderPanelRef",ref:W,modelValue:D(eo),"onUpdate:modelValue":g[8]||(g[8]=S=>Pn(eo)?eo.value=S:null),options:_.options,props:c.props,border:!1,"render-label":_.$slots.default,onExpandChange:pn,onClose:g[9]||(g[9]=S=>_.$nextTick(()=>de(!1)))},null,8,["modelValue","options","props","render-label"]),[[Po,!x.value]]),_.filterable?U((i(),P(D(Go),{key:0,ref_key:"suggestionPanel",ref:le,tag:"ul",class:J(D(u).e("suggestion-panel")),"view-class":D(u).e("suggestion-list"),onKeydown:bn},{default:k(()=>[ye.value.length?(i(!0),h(K,{key:0},se(ye.value,S=>(i(),h("li",{key:S.uid,class:J([D(u).e("suggestion-item"),D(u).is("checked",S.checked)]),tabindex:-1,onClick:F=>_n(S)},[n("span",null,b(S.text),1),S.checked?(i(),P(D(Ie),{key:0},{default:k(()=>[s(D(zo))]),_:1})):T("v-if",!0)],10,Is))),128)):po(_.$slots,"empty",{key:1},()=>[n("li",{class:J(D(u).e("empty-text"))},b(D(d)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[Po,x.value]]):T("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var Be=Ze(Os,[["__file","cascader.vue"]]);Be.install=e=>{e.component(Be.name,Be)};const Ms=Be,Ns=Ms,Y=qo("UI",{state:()=>({userInit:!1,editModel:!1,sslVisible:!1,advanceVisible:!1,connectAdvanceVisible:!1,activePanel:"Main",option:{groups:[],user:null,platform:null,dependency:{},jdbcDrivers:{},hasLocalDocker:!1,hasJava:!1,pkPath:null,hasJdbcExt:!1,connectionCount:{sql:0,noSQL:0},defaultAlgorithms:{}},connect:{loading:!1,success:!1,successMessage:"",error:!1,errorMessage:""}}),getters:{pkPath(e){var o;return(o=e.option)==null?void 0:o.pkPath},isPay(e){var o,t;return!e.userInit||((t=(o=e.option)==null?void 0:o.user)==null?void 0:t.expireTime)>new Date().getTime()}}}),N=qo("connect",{state:()=>Un(Bo)}),qs={computed:{...V(Y,["isPay"]),...V(N,{option:e=>e}),socksProxy(){let e=this.option.socksProxy;return e||(e=this.initConfig()),e}},watch:{"socksProxy.host"(e){this.isPay&&(this.option.useSocksProxy=!!e)}},created(){this.socksProxy||this.initConfig()},methods:{initConfig(){const e={host:null,port:1080,type:5};return this.option.socksProxy=e,e}}},Hs={class:"mb-2 connect-input-item"},Rs={class:"inline-block"},js={class:"common_input_label"},Bs={class:"mb-2 connect-input-item"},Ks={class:"inline-block mr-10"},zs={class:"common_input_label"},Fs=["placeholder"],Js={class:"inline-block mr-10"},Qs={class:"common_input_label"},Ws={class:"mb-2"},Gs={class:"inline-block mr-10"},Zs={class:"common_input_label"},Ys=["placeholder"],Xs={class:"inline-block mr-10"},xs={class:"common_input_label"},et=["placeholder"];function ot(e,o,t,c,r,l){const a=ce,m=ho,u=v("RedMark"),p=Ue;return i(),h("div",{class:J({"opacity-65":!e.isPay})},[n("section",Hs,[n("div",Rs,[n("label",js,b(e.$t("connect.enable")),1),s(m,{value:"Premium Only",hidden:e.isPay},{default:k(()=>[s(a,{modelValue:e.option.useSocksProxy,"onUpdate:modelValue":o[0]||(o[0]=d=>e.option.useSocksProxy=d),disabled:!e.isPay},null,8,["modelValue","disabled"])]),_:1},8,["hidden"])])]),n("section",Bs,[n("div",Ks,[n("label",zs,[s(u),y(b(e.$t("config.host")),1)]),U(n("input",{"onUpdate:modelValue":o[1]||(o[1]=d=>l.socksProxy.host=d),class:"common_input_width field__input",placeholder:e.$t("config.host"),required:""},null,8,Fs),[[I,l.socksProxy.host]])]),n("div",Js,[n("label",Qs,[s(u),y(b(e.$t("config.port")),1)]),s(p,{modelValue:l.socksProxy.port,"onUpdate:modelValue":o[2]||(o[2]=d=>l.socksProxy.port=d),placeholder:e.$t("config.port"),size:"small"},null,8,["modelValue","placeholder"])])]),n("section",Ws,[n("div",Gs,[n("label",Zs,b(e.$t("config.username")),1),U(n("input",{"onUpdate:modelValue":o[3]||(o[3]=d=>l.socksProxy.userId=d),class:"common_input_width field__input",placeholder:e.$t("config.username"),required:""},null,8,Ys),[[I,l.socksProxy.userId]])]),n("div",Xs,[n("label",xs,b(e.$t("config.password")),1),U(n("input",{"onUpdate:modelValue":o[4]||(o[4]=d=>l.socksProxy.password=d),class:"common_input_width field__input",placeholder:e.$t("config.password"),type:"password"},null,8,et),[[I,l.socksProxy.password]])])])],2)}const nt=R(qs,[["render",ot]]),st={computed:{...V(Y,["isPay"]),...V(N,{option:e=>e}),httpProxy(){let e=this.option.httpProxy;return e||(e=this.initConfig()),e}},watch:{"httpProxy.host"(e){this.isPay&&(this.option.useHTTPProxy=!!e)}},created(){this.httpProxy||this.initConfig()},methods:{initConfig(){const e={host:null,port:3128};return this.option.httpProxy=e,e}}},tt={class:"mb-2 connect-input-item"},lt={class:"inline-block"},it={class:"common_input_label"},at={class:"mb-2 connect-input-item"},ct={class:"inline-block mr-10"},rt={class:"common_input_label"},dt=["placeholder"],ut={class:"inline-block mr-10"},pt={class:"common_input_label"},mt={class:"mb-2"},ht={class:"inline-block mr-10"},_t={class:"common_input_label"},bt=["placeholder"],vt={class:"inline-block mr-10"},ft={class:"common_input_label"},kt=["placeholder"];function gt(e,o,t,c,r,l){const a=ce,m=ho,u=v("RedMark"),p=Ue;return i(),h("div",{class:J({"opacity-65":!e.isPay})},[n("section",tt,[n("div",lt,[n("label",it,b(e.$t("connect.enable")),1),s(m,{value:"Premium Only",hidden:e.isPay},{default:k(()=>[s(a,{modelValue:e.option.useHTTPProxy,"onUpdate:modelValue":o[0]||(o[0]=d=>e.option.useHTTPProxy=d),disabled:!e.isPay},null,8,["modelValue","disabled"])]),_:1},8,["hidden"])])]),n("section",at,[n("div",ct,[n("label",rt,[s(u),y(b(e.$t("config.host")),1)]),U(n("input",{"onUpdate:modelValue":o[1]||(o[1]=d=>l.httpProxy.host=d),class:"common_input_width field__input",placeholder:e.$t("config.host"),required:""},null,8,dt),[[I,l.httpProxy.host]])]),n("div",ut,[n("label",pt,[s(u),y(b(e.$t("config.port")),1)]),s(p,{modelValue:l.httpProxy.port,"onUpdate:modelValue":o[2]||(o[2]=d=>l.httpProxy.port=d),placeholder:e.$t("config.port"),size:"small"},null,8,["modelValue","placeholder"])])]),n("section",mt,[n("div",ht,[n("label",_t,b(e.$t("config.username")),1),U(n("input",{"onUpdate:modelValue":o[3]||(o[3]=d=>l.httpProxy.username=d),class:"common_input_width field__input",placeholder:e.$t("config.username"),required:""},null,8,bt),[[I,l.httpProxy.username]])]),n("div",vt,[n("label",ft,b(e.$t("config.password")),1),U(n("input",{"onUpdate:modelValue":o[4]||(o[4]=d=>l.httpProxy.password=d),class:"common_input_width field__input",placeholder:e.$t("config.password"),type:"password"},null,8,kt),[[I,l.httpProxy.password]])])])],2)}const yt=R(st,[["render",gt]]),$t={data(){return{adv:{},timeZoneLists:[[{label:"China",value:"+8:00"},{label:"Japan",value:"+9:00"},{label:"Korea",value:"+9:00"},{label:"Thailand",value:"+7:00"},{label:"Australia",value:"+10:00"}],[{label:"Italy",value:"+1:00"},{label:"Spain",value:"+0:00"},{label:"France",value:"-4:00"},{label:"Germany",value:"+1:00"},{label:"United Kingdom",value:"-8:00"}],[{label:"Brazil",value:"-3:00"},{label:"Mexico",value:"-6:00"},{label:"Canada",value:"-7:00"},{label:"America(New York)",value:"-5:00"},{label:"America(Los Angeles)",value:"-7:00"}]],timezoneSelectorVisible:!1}},computed:{...V(Y,{UI:e=>e}),...V(Y,{visible:"advanceVisible"}),...V(N,{option:e=>e})},watch:{visible(){this.initConfig()}},methods:{initConfig(){this.option.advance||(this.option.advance={sqlMode:void 0,groupingTables:!1,groupingThreshold:void 0,showForeignKey:!1}),this.adv=this.option.advance}}},St={class:"mb-2"},wt={key:0,class:"inline-block mr-10"},Ct={class:"inline-block w-40"},Vt={class:"inline-block"},Pt={class:"inline-block",style:{width:"150px"}},Tt={class:"mb-2"},Ut={class:"inline-block"},At=n("label",{class:"mr-5 inline-block w-20"},"Time Zone",-1),Dt={class:"max-h-[300px] flex gap-x-1"},It={key:0,class:"w-full type-hr bg-bg"},Et=["onClick"],Lt={class:"mt-2"},Ot={class:"inline-block"},Mt=n("label",{class:"mr-5 inline-block w-20"},"SQL Mode",-1),Nt={key:1,class:"mb-2 mt-5"},qt={class:"inline-block mr-8"},Ht={class:"inline-block w-44"},Rt={class:"inline-block mr-10"},jt={class:"inline-block w-48"},Bt={class:"mb-2"},Kt={class:"inline-block"},zt={class:"common_input_label w-40"};function Ft(e,o,t,c,r,l){const a=ce,m=_o,u=bo,p=Oe;return i(),P(p,{title:e.$t("connect.advance"),"model-value":e.visible,width:"600px",top:"10vh",center:"",onClose:o[8]||(o[8]=d=>e.UI.advanceVisible=!1)},{default:k(()=>[n("div",null,[n("section",St,[["Neo4j"].includes(e.option.dbType)?T("",!0):(i(),h("div",wt,[n("label",Ct,b(e.$t("config.groupingTables")),1),s(a,{modelValue:r.adv.groupingTables,"onUpdate:modelValue":o[0]||(o[0]=d=>r.adv.groupingTables=d)},null,8,["modelValue"])])),n("div",Vt,[n("label",Pt,b(e.$t("config.groupingThreshold")),1),U(n("input",{"onUpdate:modelValue":o[1]||(o[1]=d=>r.adv.groupingThreshold=d),class:"field__input",style:{width:"50px"},placeholder:"50"},null,512),[[I,r.adv.groupingThreshold]])])]),["MariaDB","MySQL"].includes(e.option.dbType)?(i(),h(K,{key:0},[n("section",Tt,[n("div",Ut,[At,s(m,{visible:r.timezoneSelectorVisible,"onUpdate:visible":o[3]||(o[3]=d=>r.timezoneSelectorVisible=d),placement:"bottom-start","popper-class":"!p-0",trigger:"click"},{reference:k(()=>[U(n("input",{"onUpdate:modelValue":o[2]||(o[2]=d=>r.adv.timeZone=d),class:"w-96 field__input",placeholder:"Default time zone"},null,512),[[I,r.adv.timeZone]])]),default:k(()=>[n("div",Dt,[(i(!0),h(K,null,se(r.timeZoneLists,(d,f)=>(i(),h("div",{key:f},[(i(!0),h(K,null,se(d,(w,A)=>(i(),h("div",{key:A},[w=="hr"?(i(),h("div",It)):(i(),h("div",{key:1,class:"el-select-dropdown__item min-w-[100px] bg-[var(--vscode-dropdown-background)]",onClick:L=>{r.adv.timeZone=w.value,r.timezoneSelectorVisible=!1}},b(w.label),9,Et))]))),128))]))),128))])]),_:1},8,["visible"])])]),n("section",Lt,[n("div",Ot,[Mt,U(n("input",{"onUpdate:modelValue":o[4]||(o[4]=d=>r.adv.sqlMode=d),class:"w-96 field__input",placeholder:"e.g ONLY_FULL_GROUP_BY,NO_ZERO_IN_DATE"},null,512),[[I,r.adv.sqlMode]])])])],64)):T("",!0),["MariaDB","MySQL","PostgreSQL","Redshift","Db2","Cassandra","SqlServer"].includes(e.option.dbType)?(i(),h("section",Nt,[n("div",qt,[n("label",Ht,b(e.$t("connect.hideSystemSchema")),1),s(a,{modelValue:e.option.advance.hideSystemSchema,"onUpdate:modelValue":o[5]||(o[5]=d=>e.option.advance.hideSystemSchema=d)},null,8,["modelValue"])]),n("div",Rt,[n("label",jt,b(e.$t("config.usingCustomDatabaseName")),1),s(a,{modelValue:r.adv.usingCustomDatabaseName,"onUpdate:modelValue":o[6]||(o[6]=d=>r.adv.usingCustomDatabaseName=d)},null,8,["modelValue"])])])):T("",!0),n("section",Bt,[n("div",Kt,[n("label",zt,b(e.$t("config.showedDatabases")),1),s(u,{modelValue:e.option.advance.includeDatabases,"onUpdate:modelValue":o[7]||(o[7]=d=>e.option.advance.includeDatabases=d),class:"w-80 field__input",placeholder:"e.g mysql,information_schema",clearable:!0},null,8,["modelValue"])])])])]),_:1},8,["title","model-value"])}const Jt=R($t,[["render",Ft]]),Qt={computed:{...V(Y,["option"])},created(){const e=mo();this.option.hasJava=e.hasJava,this.option.hasJdbcExt=e.hasJdbcExt}},Ye=e=>(Ho("data-v-076dd767"),e=e(),Ro(),e),Wt={key:0,class:"mb-2"},Gt={class:"mr-5 inline-block px-5 py-2 bg-secondBg"},Zt=Ye(()=>n("i",{class:"el-icon-warning mr-1",style:{color:"#E6A23C"}},null,-1)),Yt={key:1,class:"mb-2"},Xt=Ye(()=>n("div",{class:"mb-2"}," The extension connects to the database via JDBC, you must have Java installed. ",-1)),xt=Ye(()=>n("div",{class:"mr-5 inline-block px-5 py-2 bg-secondBg"},[n("i",{class:"el-icon-warning mr-1",style:{color:"#E6A23C"}}),y(" JAVA is not installed ")],-1)),el={class:"inline-block w-20"},ol=Ye(()=>n("a",{href:"https://jdk.java.net/21/"},"Open JDK",-1));function nl(e,o,t,c,r,l){const a=v("vsc-button");return i(),h("div",null,[e.option.hasJdbcExt?T("",!0):(i(),h("section",Wt,[n("div",Gt,[Zt,n("a",{onClick:o[0]||(o[0]=m=>e.$emit("installJdbc"))},"dbclient-jdbc"),y(" is not installed ")])])),e.option.hasJava?T("",!0):(i(),h("section",Yt,[Xt,xt,n("div",el,[s(a,{size:"small",onClick:o[1]||(o[1]=m=>e.$emit("installJava"))},{default:k(()=>[y("Install")]),_:1})]),y(" Or go to "),ol,y(" to download and add it to the environment variables. ")]))])}const sl=R(Qt,[["render",nl],["__scopeId","data-v-076dd767"]]),tl={computed:{...V(Y,{UI:e=>e}),...V(N,{option:e=>e})}},ll={class:"inline-block mb-4"},il=n("label",{class:"mr-5 inline-block w-28"},"CA Certificate",-1),al={class:"inline-block relative top-[0.5px]"},cl={class:"inline-block mb-4"},rl=n("label",{class:"mr-5 inline-block w-28"},"Client Cert",-1),dl={class:"inline-block relative top-[0.5px]"},ul={class:"inline-block"},pl=n("label",{class:"mr-5 inline-block w-28"},"Client Key",-1),ml={class:"inline-block relative top-[0.5px]"};function hl(e,o,t,c,r,l){const a=v("vsc-button"),m=Oe;return i(),P(m,{title:e.$t("config.sslConfig"),"model-value":e.UI.sslVisible,width:"580px",top:"10vh",center:"",onClose:o[6]||(o[6]=u=>e.UI.sslVisible=!1)},{default:k(()=>[n("div",null,[n("div",ll,[il,U(n("input",{"onUpdate:modelValue":o[0]||(o[0]=u=>e.option.caPath=u),class:"w-[330px] field__input",placeholder:"SSL CA Certificate Path"},null,512),[[I,e.option.caPath]]),n("div",al,[s(a,{class:"input_btn",icon:"codicon-ellipsis",onClick:o[1]||(o[1]=u=>e.$emit("choose","caPath"))})])]),n("div",cl,[rl,U(n("input",{"onUpdate:modelValue":o[2]||(o[2]=u=>e.option.clientCertPath=u),class:"w-[330px] field__input",placeholder:"SSL Client Certificate Path"},null,512),[[I,e.option.clientCertPath]]),n("div",dl,[s(a,{class:"input_btn",icon:"codicon-ellipsis",onClick:o[3]||(o[3]=u=>e.$emit("choose","clientCertPath"))})])]),n("div",ul,[pl,U(n("input",{"onUpdate:modelValue":o[4]||(o[4]=u=>e.option.clientKeyPath=u),class:"w-[330px] field__input",placeholder:"SSL Client Key Path"},null,512),[[I,e.option.clientKeyPath]]),n("div",ml,[s(a,{icon:"codicon-ellipsis",class:"input_btn",onClick:o[5]||(o[5]=u=>e.$emit("choose","clientKeyPath"))})])])])]),_:1},8,["title","model-value"])}const _l=R(tl,[["render",hl]]),bl={class:"mb-2 connect-input-item"},vl={class:"inline-block mr-10"},fl={class:"common_input_label"},kl=["placeholder"],gl={key:0,class:"inline-block mr-10"},yl={class:"common_input_label"},$l=["placeholder"],me=ge({__name:"UsernameAndPassword",props:{required:{type:Boolean,default:!0},requiredPassword:{type:Boolean,default:!1},withPassword:{type:Boolean,default:!0}},setup(e){const o=N();return(t,c)=>{const r=v("RedMark");return i(),h("section",bl,[n("div",vl,[n("label",fl,[e.required?(i(),P(r,{key:0})):T("",!0),y(b(t.$t("config.username")),1)]),U(n("input",{"onUpdate:modelValue":c[0]||(c[0]=l=>D(o).user=l),class:"common_input_width field__input",placeholder:t.$t("config.username")},null,8,kl),[[I,D(o).user]])]),e.withPassword?(i(),h("div",gl,[n("label",yl,[e.requiredPassword?(i(),P(r,{key:0})):T("",!0),y(b(t.$t("config.password")),1)]),U(n("input",{"onUpdate:modelValue":c[1]||(c[1]=l=>D(o).password=l),class:"common_input_width field__input",placeholder:t.$t("config.password"),type:"password"},null,8,$l),[[I,D(o).password]])])):T("",!0),po(t.$slots,"default")])}}}),Sl={components:{UsernameAndPassword:me},computed:{...V(N,{option:e=>e})}},wl={class:"mb-2"},Cl={class:"inline-block mr-10"},Vl={class:"common_input_label"},Pl=n("span",null,"URL",-1),Tl={class:"mb-2"},Ul=n("label",{class:"mr-5 inline-block w-36"},"Basic Auth",-1),Al={class:"mb-2"},Dl={key:0,class:"inline-block mr-10"},Il={class:"common_input_label"};function El(e,o,t,c,r,l){const a=v("RedMark"),m=Qe,u=v("UsernameAndPassword");return i(),h("div",null,[n("section",wl,[n("div",Cl,[n("label",Vl,[s(a),Pl]),U(n("input",{"onUpdate:modelValue":o[0]||(o[0]=p=>e.option.httpAuth.url=p),class:"field__input",style:{width:"28rem"},placeholder:"Host",required:""},null,512),[[I,e.option.httpAuth.url]])])]),n("section",Tl,[Ul,s(m,{modelValue:e.option.httpAuth.authType,"onUpdate:modelValue":o[1]||(o[1]=p=>e.option.httpAuth.authType=p),label:"none"},{default:k(()=>[y("No Auth")]),_:1},8,["modelValue"]),s(m,{modelValue:e.option.httpAuth.authType,"onUpdate:modelValue":o[2]||(o[2]=p=>e.option.httpAuth.authType=p),label:"account"},{default:k(()=>[y("Account")]),_:1},8,["modelValue"]),s(m,{modelValue:e.option.httpAuth.authType,"onUpdate:modelValue":o[3]||(o[3]=p=>e.option.httpAuth.authType=p),label:"token"},{default:k(()=>[y("Token")]),_:1},8,["modelValue"])]),e.option.httpAuth.authType=="account"?(i(),P(u,{key:0})):T("",!0),n("section",Al,[e.option.httpAuth.authType=="token"?(i(),h("div",Dl,[n("label",Il,[s(a),y("Token")]),U(n("input",{"onUpdate:modelValue":o[4]||(o[4]=p=>e.option.httpAuth.basicToken=p),class:"field__input",style:{width:"40rem"},placeholder:"e.g Bearer <token>",required:""},null,512),[[I,e.option.httpAuth.basicToken]])])):T("",!0)])])}const Ll=R(Sl,[["render",El]]),Ol={computed:{...V(N,{option:e=>e})}},Ml={class:"mb-2 connect-input-item"},Nl={class:"inline-block mr-10"},ql={class:"common_input_label"},Hl={class:"inline-block mr-10"},Rl={class:"common_input_label"};function jl(e,o,t,c,r,l){const a=v("RedMark"),m=Ue;return i(),h("div",null,[n("section",Ml,[n("div",Nl,[n("label",ql,[s(a),n("span",null,b(e.$t("config.host")),1)]),U(n("input",{"onUpdate:modelValue":o[0]||(o[0]=u=>e.option.host=u),class:"common_input_width field__input",placeholder:"Host",required:""},null,512),[[I,e.option.host]])]),n("div",Hl,[n("label",Rl,[s(a),y(b(e.$t("config.port")),1)]),s(m,{modelValue:e.option.port,"onUpdate:modelValue":o[1]||(o[1]=u=>e.option.port=u),placeholder:"Port"},null,8,["modelValue"])])])])}const ve=R(Ol,[["render",jl]]),Bl={components:{HostAndPort:ve,UsernameAndPassword:me},computed:{...V(N,{option:e=>e}),rdp(){return this.option.rdpConfig||(this.option.rdpConfig={fullScreen:!1,smartSizing:!0,redirectDrives:!0,forwardComposition:!0}),this.option.rdpConfig}}},Kl={class:"mt-3 mb-5"},zl={class:"mb-2"},Fl={class:"inline-block mr-8"},Jl=n("label",{class:"mr-5"},"Full Screen",-1),Ql={class:"inline-block mr-8"},Wl=n("label",{class:"mr-5"},"Smart Sizing",-1),Gl={class:"inline-block mr-8"},Zl=n("label",{class:"mr-5"},"Redirect Drivers",-1),Yl={class:"inline-block mr-8"},Xl=n("label",{class:"mr-5"},"Forward Composition Key",-1);function xl(e,o,t,c,r,l){const a=v("HostAndPort"),m=v("UsernameAndPassword"),u=ce;return i(),h("div",Kl,[s(a),s(m),n("section",zl,[n("div",Fl,[Jl,s(u,{modelValue:l.rdp.fullScreen,"onUpdate:modelValue":o[0]||(o[0]=p=>l.rdp.fullScreen=p)},null,8,["modelValue"])]),n("div",Ql,[Wl,s(u,{modelValue:l.rdp.smartSizing,"onUpdate:modelValue":o[1]||(o[1]=p=>l.rdp.smartSizing=p)},null,8,["modelValue"])]),n("div",Gl,[Zl,s(u,{modelValue:l.rdp.redirectDrives,"onUpdate:modelValue":o[2]||(o[2]=p=>l.rdp.redirectDrives=p)},null,8,["modelValue"])]),n("div",Yl,[Xl,s(u,{modelValue:l.rdp.forwardComposition,"onUpdate:modelValue":o[3]||(o[3]=p=>l.rdp.forwardComposition=p)},null,8,["modelValue"])])])])}const ei=R(Bl,[["render",xl]]),we="https://cdn.cweijan.cn/dbclient";var Fe=(e=>(e.java="java",e.sqlite=`${we}/sqlite3.exe`,e.duckDB=`${we}/duckdb.exe`,e.snowflake=`${we}/libs/snowflake-sdk-minify.js`,e))(Fe||{}),oi=(e=>(e.psql=`${we}/dependency/postgresql/psql.exe`,e.pg_dump=`${we}/dependency/postgresql/pg_dump16.exe`,e.mysqldump=`${we}/dependency/mysql/mysqldump.exe`,e.mysql=`${we}/dependency/mysql/mysql.exe`,e))(oi||{});const Je=class Je{};Je.pg="libpq",Je.mysql=["mysql","mysql-client"];let Oo=Je;const ni={components:{UsernameAndPassword:me},props:["dependency"],computed:{...V(N,{option:e=>e}),withPassword(){return!["SNOWFLAKE_JWT","EXTERNALBROWSER"].includes(this.option.snowflake.authenticator)}},methods:{install(){this.$emit("installDependency",Fe.snowflake)}}},si={key:0,class:"mb-2"},ti=n("div",{class:"mr-5 inline-block px-5 py-2 bg-secondBg"},[n("i",{class:"el-icon-warning mr-1",style:{color:"#E6A23C"}}),y(" Snowflake lib is not installed ")],-1),li={class:"mr-5 inline-block w-36"},ii={class:"mb-2"},ai={class:"inline-block mr-10"},ci={class:"common_input_label"},ri={class:"inline-block mr-10"},di=n("label",{class:"common_input_label"},"warehouse",-1),ui={class:"mb-2"},pi={class:"inline-block mr-10"},mi=n("label",{class:"common_input_label"},"authenticator",-1),hi={key:1},_i={class:"mb-2 connect-input-item"},bi={class:"inline-block mr-10"},vi={class:"mr-5 inline-block common_input_label"},fi=["placeholder"],ki={class:"inline-block relative top-[0.5px]"},gi={class:"inline-block mr-10"},yi=n("label",{class:"mr-5 inline-block common_input_label"},"Passphrase",-1),$i=["placeholder"];function Si(e,o,t,c,r,l){const a=v("vsc-button"),m=v("RedMark"),u=We,p=Ge,d=v("UsernameAndPassword");return i(),h("div",null,[t.dependency.snowflake?T("",!0):(i(),h("section",si,[ti,n("div",li,[s(a,{size:"small",onClick:l.install},{default:k(()=>[y("Install Now")]),_:1},8,["onClick"])])])),n("section",ii,[n("div",ai,[n("label",ci,[s(m),y(b(e.$t("config.account")),1)]),U(n("input",{"onUpdate:modelValue":o[0]||(o[0]=f=>e.option.snowflake.account=f),class:"common_input_width field__input",placeholder:"Account"},null,512),[[I,e.option.snowflake.account]])]),n("div",ri,[di,U(n("input",{"onUpdate:modelValue":o[1]||(o[1]=f=>e.option.snowflake.warehouse=f),class:"common_input_width field__input",placeholder:"Warehouse"},null,512),[[I,e.option.snowflake.warehouse]])])]),n("section",ui,[n("div",pi,[mi,s(p,{modelValue:e.option.snowflake.authenticator,"onUpdate:modelValue":o[2]||(o[2]=f=>e.option.snowflake.authenticator=f),class:"common_input_width",size:"small",placeholder:"Username/password",clearable:""},{default:k(()=>[s(u,{label:"Key Pair",value:"SNOWFLAKE_JWT"}),s(u,{label:"Username/password",value:"SNOWFLAKE"}),s(u,{label:"Single sign-on(External Browser)",value:"EXTERNALBROWSER"})]),_:1},8,["modelValue"])])]),s(d,{withPassword:l.withPassword},null,8,["withPassword"]),e.option.snowflake.authenticator=="SNOWFLAKE_JWT"?(i(),h("div",hi,[n("section",_i,[n("div",bi,[n("label",vi,b(e.$t("config.privateKeyPath")),1),U(n("input",{"onUpdate:modelValue":o[3]||(o[3]=f=>e.option.snowflake.privateKeyPath=f),class:"with_icon_input_width field__input",placeholder:e.$t("config.privateKeyPath")},null,8,fi),[[I,e.option.snowflake.privateKeyPath]]),n("div",ki,[s(a,{icon:"codicon-ellipsis",size:"medium",onClick:o[4]||(o[4]=f=>e.$emit("choose","snowflakePrivateKey"))})])]),n("div",gi,[yi,U(n("input",{"onUpdate:modelValue":o[5]||(o[5]=f=>e.option.snowflake.privateKeyPass=f),class:"common_input_width field__input",placeholder:e.$t("config.passphrase"),type:"Passphrase"},null,8,$i),[[I,e.option.snowflake.privateKeyPass]])])])])):T("",!0)])}const wi=R(ni,[["render",Si]]),Ci={components:{UsernameAndPassword:me},mixins:[jo],data(){return{firstLoad:!0,staticOnly:!0}},computed:{...V(N,{option:e=>e}),...V(Y,{UI:e=>e}),jdbcTypes(){return[{value:"Hive",icon:this.getIcon("hive.svg")},{value:"Trino",icon:this.getIcon("trino.png")},{value:"PrestoDB",icon:this.getIcon("presto_dark.svg")},{value:"Db2",icon:this.getIcon("db2.png")},{value:"Oracle",icon:this.getIcon("oracle.png")},{value:"MySQL",icon:this.getIcon("mysql_dark.svg")},{value:"Cassandra",icon:this.getIcon("cassandra.svg")},{value:"PostgreSQL",icon:this.getIcon("pgsql.svg")}]},driverPath(){return this.UI.option.jdbcDrivers[this.option.jdbc.dialect]}},watch:{driverPath(e){const o=this.option.jdbc.driverPath;if(!(o&&!o.startsWith("{homedir}")))if(e)this.option.jdbc.driverPath=e;else{if(this.UI.editModel&&this.firstLoad)return this.firstLoad=!1;this.option.jdbc.driverPath=null}},"option.jdbc.dialect"(e){this.jdbcTemplate(e)}},created(){this.staticOnly=mo().staticOnly},mounted(){this.UI.editModel||(this.jdbcTemplate(this.option.jdbc.dialect),this.option.jdbc.driverPath=this.UI.option.jdbcDrivers[this.option.jdbc.dialect])},methods:{jdbcTemplate(e){switch(e){case E.HIVE:this.option.connectionUrl="jdbc:hive2://127.0.0.1:10000",this.option.jdbc.driverClass="org.apache.hive.jdbc.HiveDriver";break;case E.TRINO:this.option.connectionUrl="jdbc:trino://127.0.0.1:8080",this.option.jdbc.driverClass="io.trino.jdbc.TrinoDriver";break;case E.PRESTO:this.option.connectionUrl="jdbc:presto://127.0.0.1:8080",this.option.jdbc.driverClass="com.facebook.presto.jdbc.PrestoDriver";break;case E.CASSANDRA:this.option.connectionUrl="jdbc:cassandra://127.0.0.1:9042",this.option.jdbc.driverClass="com.dbschema.CassandraJdbcDriver";break;case E.ORACLE:this.option.connectionUrl="jdbc:oracle:thin:@tcp://127.0.0.1:1521/XE?useUnicode=true&characterEncoding=utf8",this.option.jdbc.driverClass="oracle.jdbcjdbc.driverClass.OracleDriver";break;case E.MYSQL:this.option.connectionUrl="jdbc:mysql://127.0.0.1:3306",this.option.jdbc.driverClass="com.mysql.cj.jdbcjdbc.driverClass";break;case E.PG:this.option.connectionUrl="jdbc:postgresql://127.0.0.1:5432/postgres",this.option.jdbc.driverClass="org.postgresqljdbc.driverClass";break;case E.DB2:this.option.connectionUrl="jdbc:db2://127.0.0.1:50000",this.option.jdbc.driverClass="com.ibm.db2.jcc.DB2Driver";break;default:this.option.connectionUrl="",this.option.jdbc.driverClass="";break}},getIcon(e){return e=`resources/icon/server/${e}`,this.staticOnly?`../../${e}`:e}}},xo=e=>(Ho("data-v-2d11f62b"),e=e(),Ro(),e),Vi={key:0,class:"mb-2"},Pi={class:"mr-5 inline-block px-5 py-2 bg-secondBg"},Ti=xo(()=>n("i",{class:"el-icon-warning mr-1",style:{color:"#E6A23C"}},null,-1)),Ui={class:"inline-block w-20"},Ai={class:"mb-2"},Di={class:"inline-block mr-10"},Ii={class:"font-bold common_input_label"},Ei=xo(()=>n("span",null,"JDBC URL",-1)),Li={class:"mb-2"},Oi={class:"inline-block mr-10"},Mi={class:"common_input_label"},Ni={class:"mb-2"},qi={class:"inline-block mr-10"},Hi={class:"common_input_label"},Ri={class:"inline-block mr-10"},ji={class:"common_input_label"},Bi=["src"];function Ki(e,o,t,c,r,l){const a=v("vsc-button"),m=v("RedMark"),u=We,p=Ge,d=v("UsernameAndPassword");return i(),h("div",null,[e.option.jdbc.dialect!="Oracle"&&!l.driverPath&&!e.option.jdbc.driverPath?(i(),h("section",Vi,[n("div",Pi,[Ti,y(" "+b(e.option.jdbc.dialect)+" jdbc driver is not installed ",1)]),n("div",Ui,[s(a,{size:"small",onClick:o[0]||(o[0]=f=>e.emit("downDriver",e.option.jdbc.dialect))},{default:k(()=>[y("Install")]),_:1})])])):T("",!0),n("section",Ai,[n("div",Di,[n("label",Ii,[s(m),Ei]),U(n("input",{"onUpdate:modelValue":o[1]||(o[1]=f=>e.option.connectionUrl=f),class:"field__input w-[500px]",placeholder:"e.g. jdbc:mysql://localhost:3306/test",required:""},null,512),[[I,e.option.connectionUrl]])])]),n("section",Li,[n("div",Oi,[n("label",Mi,[e.option.jdbc.dialect!="Oracle"?(i(),P(m,{key:0})):T("",!0),y(" "+b(e.$t("config.driverPath")),1)]),U(n("input",{"onUpdate:modelValue":o[2]||(o[2]=f=>e.option.jdbc.driverPath=f),class:"w-[458px] field__input",placeholder:"JDBC Driver Path"},null,512),[[I,e.option.jdbc.driverPath]]),s(a,{icon:"codicon-file",class:"ml-1",onClick:o[3]||(o[3]=f=>e.$emit("choose","driverPath","JDBC Driver","jar"))})])]),n("section",Ni,[n("div",qi,[n("label",Hi,[s(m),y(b(e.$t("config.driverName")),1)]),U(n("input",{"onUpdate:modelValue":o[4]||(o[4]=f=>e.option.jdbc.driverClass=f),class:"common_input_width field__input",placeholder:"e.g. com.mysql.cj.jdbcjdbc.driverClass"},null,512),[[I,e.option.jdbc.driverClass]])]),n("div",Ri,[n("label",ji,[s(m),y(b(e.$t("config.dialect")),1)]),s(p,{modelValue:e.option.jdbc.dialect,"onUpdate:modelValue":o[5]||(o[5]=f=>e.option.jdbc.dialect=f),class:"w-28",placeholder:"Dialect",size:"small"},{default:k(()=>[(i(!0),h(K,null,se(l.jdbcTypes,(f,w)=>(i(),P(u,{key:w,value:f.value},{default:k(()=>[n("img",{src:f.icon,class:"server-item"},null,8,Bi),y(" "+b(f.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),s(d,{required:!1})])}const zi=R(Ci,[["render",Ki],["__scopeId","data-v-2d11f62b"]]),Fi={key:0,class:"mb-2 connect-input-item inline-flex items-center"},Ji={class:"common_input_label"},en=ge({__name:"TreeFeatures",setup(e){const o=N(),t=H(()=>[{value:"event",label:De("treeFeature.event"),isSupport:()=>[E.MYSQL,E.MARIA_DB].includes(o.dbType)},{value:"type",label:De("treeFeature.type"),isSupport:()=>[E.PG].includes(o.dbType)},{value:"sequence",label:De("treeFeature.sequence"),isSupport:()=>[E.PG,E.REDSHIFT,E.SQLITE].includes(o.dbType)},{value:"foreignTable",label:De("treeFeature.foreignTable"),isSupport:()=>[E.PG].includes(o.dbType)},{value:"materializedView",label:De("treeFeature.materializedView"),isSupport:()=>[E.PG,E.ORACLE].includes(o.dbType)}].filter(c=>c.isSupport()));return(c,r)=>{const l=vo,a=Ko;return t.value.length>0?(i(),h("section",Fi,[n("label",Ji,b(c.$t("config.features")),1),s(a,{modelValue:D(o).treeFeatures,"onUpdate:modelValue":r[0]||(r[0]=m=>D(o).treeFeatures=m)},{default:k(()=>[(i(!0),h(K,null,se(t.value,m=>(i(),P(l,{label:m.label,value:m.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])])):T("",!0)}}}),Qi={components:{TreeFeatures:en},props:["dependency"],computed:{...V(N,{option:e=>e}),isDuckDB(){return this.option.dbType==E.DUCK_DB},hasDependency(){return this.isDuckDB?this.dependency.duckDB:this.dependency.sqlite}},methods:{install(){const e=this.isDuckDB?Fe.duckDB:Fe.sqlite;this.$emit("installDependency",e)},choosePath(){const e=this.isDuckDB?["duckdb","db"]:"db";this.$emit("choose","dbPath","Database File",e)}}},Wi={key:0,class:"mb-2"},Gi={class:"mr-5 inline-block px-5 py-2 bg-secondBg"},Zi=n("i",{class:"el-icon-warning mr-1",style:{color:"#E6A23C"}},null,-1),Yi={class:"inline-block w-20"},Xi=n("a",{href:"https://duckdb.org/docs/installation/index"},"DuckDB",-1),xi=n("a",{href:"https://www.sqlite.org/draft/download.html"},"SQLite",-1),ea={class:"mb-2"},oa={class:"inline-block mr-10"},na={class:"common_input_label"};function sa(e,o,t,c,r,l){const a=v("vsc-button"),m=v("RedMark"),u=v("TreeFeatures");return i(),h("div",null,[n("div",null,[l.hasDependency?T("",!0):(i(),h("section",Wi,[n("div",Gi,[Zi,y(" "+b(e.option.dbType)+" is not installed ",1)]),n("div",Yi,[s(a,{size:"small",onClick:l.install},{default:k(()=>[y("Install")]),_:1},8,["onClick"])]),l.isDuckDB?(i(),h(K,{key:0},[y(" Or go to "),Xi,y(" to download and add it to the environment variables. ")],64)):(i(),h(K,{key:1},[y(" Or go to "),xi,y(" to download and add it to the environment variables. ")],64))])),n("section",ea,[n("div",oa,[n("label",na,[s(m),y(b(e.$t("config.dbPath")),1)]),U(n("input",{"onUpdate:modelValue":o[0]||(o[0]=p=>e.option.dbPath=p),class:"w-80 field__input",placeholder:"Path"},null,512),[[I,e.option.dbPath]]),s(a,{icon:"codicon-file",class:"ml-1",size:"small",onClick:l.choosePath},null,8,["onClick"])])]),s(u)])])}const ta=R(Qi,[["render",sa]]),la={props:{required:{type:Boolean,default:!0}},computed:{...V(Y,{UI:e=>e}),...V(N,{option:e=>e})}},ia={class:"mb-2"},aa={class:"inline-block mr-10"},ca={class:"common_input_label"},ra=["placeholder"],da={class:"inline-block mr-10"};function ua(e,o,t,c,r,l){const a=v("vsc-button");return i(),h("section",ia,[n("div",aa,[n("label",ca,b(e.$t("config.database")),1),U(n("input",{"onUpdate:modelValue":o[0]||(o[0]=m=>e.option.database=m),class:"common_input_width field__input",placeholder:e.$t("config.databasePlaceholder")},null,8,ra),[[I,e.option.database]])]),n("div",da,[s(a,{size:"small",icon:"codicon-gear",onClick:o[1]||(o[1]=m=>{e.UI.advanceVisible=!0})},{default:k(()=>[y(b(e.$t("connect.advance")),1)]),_:1})])])}const Xe=R(la,[["render",ua]]),pa={components:{DatabaseAndAdvance:Xe,UsernameAndPassword:me,HostAndPort:ve},computed:{...V(N,{option:e=>e})}},ma={class:"mb-2"},ha={class:"inline-block mr-10"},_a=n("label",{class:"common_input_label"},"Instance Name",-1),ba=n("span",null," (If instance name is specified, the port config is ignored) ",-1),va={class:"mb-2"},fa={class:"inline-block mr-10"},ka=n("label",{class:"common_input_label"},"Auth Type",-1),ga={class:"inline-block mr-10"},ya=n("label",{class:"mr-5 inline-block w-18"},"Encrypt",-1),$a={key:0,class:"mb-2"},Sa={class:"inline-block mr-10"},wa={class:"common_input_label"},Ca={key:2,class:"mb-2"},Va={class:"inline-block mr-10"},Pa={class:"common_input_label"},Ta={key:0,class:"inline-block mr-10"},Ua={class:"common_input_label"},Aa={class:"inline-block mr-10"},Da=n("label",{class:"common_input_label"},"Tenant Id",-1);function Ia(e,o,t,c,r,l){const a=v("HostAndPort"),m=We,u=Ge,p=ce,d=v("RedMark"),f=v("UsernameAndPassword"),w=v("DatabaseAndAdvance");return i(),h("div",null,[s(a),n("section",ma,[n("div",ha,[_a,U(n("input",{"onUpdate:modelValue":o[0]||(o[0]=A=>e.option.sqlServer.instanceName=A),class:"common_input_width field__input",placeholder:"Connection named instance",title:"The instance name to connect to. The SQL Server Browser service must be running on the database server, and UDP port 1434 on the database server must be reachable.(no default)"},null,512),[[I,e.option.sqlServer.instanceName]])]),ba]),n("section",va,[n("div",fa,[ka,s(u,{modelValue:e.option.sqlServer.authType,"onUpdate:modelValue":o[1]||(o[1]=A=>e.option.sqlServer.authType=A),class:"common_input_width",size:"small"},{default:k(()=>[s(m,{label:"SQL Server Authentication",value:"default"}),s(m,{label:"NTLM (Windows Auth)",value:"ntlm"})]),_:1},8,["modelValue"])]),n("div",ga,[ya,s(p,{modelValue:e.option.sqlServer.encrypt,"onUpdate:modelValue":o[2]||(o[2]=A=>e.option.sqlServer.encrypt=A)},null,8,["modelValue"])])]),e.option.sqlServer.authType=="ntlm"?(i(),h("section",$a,[n("div",Sa,[n("label",wa,[s(d),y("Domain")]),U(n("input",{"onUpdate:modelValue":o[3]||(o[3]=A=>e.option.sqlServer.domain=A),class:"common_input_width field__input",placeholder:"Domain"},null,512),[[I,e.option.sqlServer.domain]])])])):T("",!0),e.option.sqlServer.authType!="azure-active-directory-service-principal-secret"?(i(),P(f,{key:1})):T("",!0),["azure-active-directory-password","azure-active-directory-service-principal-secret"].includes(e.option.sqlServer.authType)?(i(),h("section",Ca,[n("div",Va,[n("label",Pa,[s(d),y("Client Id")]),U(n("input",{"onUpdate:modelValue":o[4]||(o[4]=A=>e.option.sqlServer.azureClientId=A),class:"common_input_width field__input",placeholder:"ClientId"},null,512),[[I,e.option.sqlServer.azureClientId]])]),e.option.sqlServer.authType=="azure-active-directory-service-principal-secret"?(i(),h("div",Ta,[n("label",Ua,[s(d),y("Client Secret")]),U(n("input",{"onUpdate:modelValue":o[5]||(o[5]=A=>e.option.sqlServer.azureClientSecret=A),class:"common_input_width field__input",placeholder:"ClientSecret"},null,512),[[I,e.option.sqlServer.azureClientSecret]])])):T("",!0),n("div",Aa,[Da,U(n("input",{"onUpdate:modelValue":o[6]||(o[6]=A=>e.option.sqlServer.azureTenantId=A),class:"common_input_width field__input",placeholder:"TenantId"},null,512),[[I,e.option.sqlServer.azureTenantId]])])])):T("",!0),s(w)])}const Ea=R(pa,[["render",Ia]]),La={props:["option","ssh","visible"],data(){return{}},methods:{}},Oa={class:"mb-3"},Ma={class:"inline-flex mr-10"},Na={class:"mr-5 inline-block w-24"},qa={class:"mb-3"},Ha={class:"inline-block"},Ra=n("label",{class:"mr-5 inline-block w-24"},"Shell",-1),ja=["placeholder"],Ba=n("div",{class:"mb-3"}," SFTP Config: ",-1),Ka={class:"mb-2"},za={class:"inline-block mr-5"},Fa=n("label",{class:"mr-5 inline-block w-24"},"Root",-1),Ja={class:"inline-block"},Qa=n("label",{class:"mr-5 inline-block w-24"},"Disable SFTP",-1),Wa={class:"inline-block mr-10"},Ga={class:"mr-5 inline-block w-24"},Za={class:"inline-block"},Ya={class:"common_input_label mr-2"};function Xa(e,o,t,c,r,l){const a=Me,m=Ne,u=ce,p=Oe;return i(),P(p,{title:e.$t("connect.advance"),"model-value":t.visible,width:"650px",top:"10vh",center:"",onClose:o[6]||(o[6]=d=>e.$emit("update:model-value",!1))},{default:k(()=>[n("div",null,[n("section",Oa,[n("div",Ma,[n("label",Na,b(e.$t("config.serverType")),1),s(m,{modelValue:t.ssh.serverType,"onUpdate:modelValue":o[0]||(o[0]=d=>t.ssh.serverType=d)},{default:k(()=>[s(a,{value:"linux"},{default:k(()=>[y("Linux")]),_:1}),s(a,{value:"windows"},{default:k(()=>[y("Windows")]),_:1})]),_:1},8,["modelValue"])])]),n("section",qa,[n("div",Ha,[Ra,U(n("input",{"onUpdate:modelValue":o[1]||(o[1]=d=>t.ssh.shell=d),class:"field__input w-96",placeholder:e.$t("ssh.shell")},null,8,ja),[[I,t.ssh.shell]])])]),Ba,n("section",Ka,[n("div",za,[Fa,U(n("input",{"onUpdate:modelValue":o[2]||(o[2]=d=>t.ssh.ftpRoot=d),class:"w-36 field__input",placeholder:"/"},null,512),[[I,t.ssh.ftpRoot]])]),n("div",Ja,[Qa,s(u,{modelValue:t.ssh.disableSFTP,"onUpdate:modelValue":o[3]||(o[3]=d=>t.ssh.disableSFTP=d)},null,8,["modelValue"])])]),n("section",null,[n("div",Wa,[n("label",Ga,b(e.$t("connect.pruneSFTPRoot")),1),s(u,{modelValue:t.ssh.pruneSFTPRoot,"onUpdate:modelValue":o[4]||(o[4]=d=>t.ssh.pruneSFTPRoot=d)},null,8,["modelValue"])]),n("div",Za,[n("label",Ya,b(e.$t("connect.showHiddenFiles")),1),s(u,{modelValue:t.option.fs.showHidden,"onUpdate:modelValue":o[5]||(o[5]=d=>t.option.fs.showHidden=d)},null,8,["modelValue"])])])])]),_:1},8,["title","model-value"])}const xa=R(La,[["render",Xa]]),ec={props:["ssh","visible"],data(){return{config:{cipher:["chacha20-poly1305@openssh.com","aes128-gcm@openssh.com","aes256-gcm@openssh.com","aes128-ctr","aes192-ctr","aes256-ctr","aes256-cbc","aes192-cbc","aes128-cbc","blowfish-cbc","3des-cbc","arcfour256","arcfour128","cast128-cbc","arcfour"],serverHostKey:["ssh-ed25519","ecdsa-sha2-nistp256","ecdsa-sha2-nistp384","ecdsa-sha2-nistp521","rsa-sha2-512","rsa-sha2-256","ssh-rsa","ssh-dss"],kex:["curve25519-sha256","curve25519-sha256@libssh.org","ecdh-sha2-nistp256","ecdh-sha2-nistp384","ecdh-sha2-nistp521","diffie-hellman-group-exchange-sha256","diffie-hellman-group14-sha256","diffie-hellman-group15-sha512","diffie-hellman-group16-sha512","diffie-hellman-group17-sha512","diffie-hellman-group18-sha512","diffie-hellman-group-exchange-sha1","diffie-hellman-group14-sha1","diffie-hellman-group1-sha1(Deprecated)"]}}}},oc={class:"mb-3"},nc={class:"inline-flex mb-5"},sc=n("label",{class:"mr-5 inline-block w-20 shrink-0"},"Cipher",-1),tc={class:"inline-flex mb-5"},lc=n("label",{class:"mr-5 inline-block w-20 shrink-0"},"Server Key",-1),ic={class:"inline-flex mr-10"},ac=n("label",{class:"mr-5 inline-block w-20 shrink-0"},"Kex",-1);function cc(e,o,t,c,r,l){const a=vo,m=Ko,u=Oe;return i(),P(u,{title:e.$t("connect.algorithm"),"model-value":t.visible,width:"570px",top:"10vh",center:""},{default:k(()=>[n("div",null,[n("section",oc,[n("div",nc,[sc,s(m,{modelValue:t.ssh.algorithms.cipher,"onUpdate:modelValue":o[0]||(o[0]=p=>t.ssh.algorithms.cipher=p)},{default:k(()=>[(i(!0),h(K,null,se(r.config.cipher,p=>(i(),P(a,{key:p,label:p,value:p},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),n("div",tc,[lc,s(m,{modelValue:t.ssh.algorithms.serverHostKey,"onUpdate:modelValue":o[1]||(o[1]=p=>t.ssh.algorithms.serverHostKey=p)},{default:k(()=>[(i(!0),h(K,null,se(r.config.serverHostKey,p=>(i(),P(a,{key:p,label:p,value:p},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),n("div",ic,[ac,s(m,{modelValue:t.ssh.algorithms.kex,"onUpdate:modelValue":o[2]||(o[2]=p=>t.ssh.algorithms.kex=p)},{default:k(()=>[(i(!0),h(K,null,se(r.config.kex,p=>(i(),P(a,{key:p,label:p,value:p},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])])]),_:1},8,["title","model-value"])}const rc=R(ec,[["render",cc]]),dc={components:{AdvanceDialog:xa,AlgorithmDialog:rc},props:["tunnelMode","sshMode"],data(){return{advanceVisible:!1,algorithmVisible:!1}},computed:{...V(Y,["pkPath"]),...V(Y,{defaultAlgorithms:e=>e.option.defaultAlgorithms}),...V(N,["dbType"]),...V(N,{option:e=>e}),ssh(){const e=(this.tunnelMode?this.option.ssh:this.option.sshConnect)||this.initConfig(),{kex:o,cipher:t,serverHostKey:c}=e.algorithms,{kex:r=[],cipher:l=[],serverHostKey:a=[]}=this.defaultAlgorithms||{};return(!Array.isArray(o)||o.length==0)&&(e.algorithms.kex=[...r]),(!Array.isArray(t)||t.length==0)&&(e.algorithms.cipher=[...l]),(!Array.isArray(c)||c.length==0)&&(e.algorithms.serverHostKey=[...a]),e}},watch:{"ssh.host"(e){this.option.usingSSH=!!e}},created(){this.ssh?this.ssh.serverType||(this.ssh.serverType="linux"):this.initConfig()},methods:{initConfig(){console.log("initconfig");const e={...In,algorithms:{...En},...Ln,privateKeyPath:this.pkPath,connectTimeout:this.tunnelMode?5e3:void 0};return this.tunnelMode?this.option.ssh=e:this.option.sshConnect=e,e}}},uc={key:0,class:"mb-2 connect-input-item"},pc={class:"inline-block"},mc={class:"common_input_label"},hc={class:"mb-2 connect-input-item"},_c={class:"inline-block mr-10"},bc={class:"mr-5 inline-block common_input_label"},vc=["placeholder"],fc={class:"inline-block mr-10"},kc={class:"mr-5 inline-block common_input_label"},gc={class:"mb-2"},yc={class:"inline-block mr-10"},$c={class:"mr-5 inline-block common_input_label"},Sc=["placeholder"],wc={class:"inline-flex mr-10"},Cc={key:0,class:"inline-flex mr-10"},Vc={class:"mb-2 connect-input-item"},Pc={class:"connect-input-item mr-10"},Tc={class:"mr-5 inline-block common_input_label"},Uc={key:0,class:"inline-block mr-10 mt-2"},Ac={class:"mr-5 inline-block common_input_label"},Dc={key:1},Ic={class:"mb-2"},Ec={class:"mr-5 inline-block common_input_label"},Lc={key:2},Oc={class:"mb-2 connect-input-item"},Mc={class:"inline-block mr-10"},Nc={class:"mr-5 inline-block common_input_label"},qc=["placeholder"],Hc={class:"inline-block mr-10"},Rc=n("label",{class:"mr-5 inline-block common_input_label"},"Passphrase",-1),jc=["placeholder"];function Bc(e,o,t,c,r,l){const a=ce,m=v("RedMark"),u=Ue,p=v("vsc-button"),d=Me,f=Ne,w=v("AdvanceDialog"),A=v("AlgorithmDialog");return i(),h("div",null,[t.tunnelMode?(i(),h("section",uc,[n("div",pc,[n("label",mc,b(e.$t("connect.enable")),1),s(a,{modelValue:e.option.usingSSH,"onUpdate:modelValue":o[0]||(o[0]=L=>e.option.usingSSH=L)},null,8,["modelValue"])])])):T("",!0),n("section",hc,[n("div",_c,[n("label",bc,[s(m),y(b(e.$t("config.host")),1)]),U(n("input",{"onUpdate:modelValue":o[1]||(o[1]=L=>l.ssh.host=L),class:"common_input_width field__input",placeholder:e.$t("config.host"),required:""},null,8,vc),[[I,l.ssh.host]])]),n("div",fc,[n("label",kc,[s(m),y(b(e.$t("config.port")),1)]),s(u,{modelValue:l.ssh.port,"onUpdate:modelValue":o[2]||(o[2]=L=>l.ssh.port=L),placeholder:e.$t("config.port"),size:"small"},null,8,["modelValue","placeholder"])])]),n("section",gc,[n("div",yc,[n("label",$c,[s(m),y(b(e.$t("config.username")),1)]),U(n("input",{"onUpdate:modelValue":o[3]||(o[3]=L=>l.ssh.username=L),class:"common_input_width field__input",placeholder:e.$t("config.username"),required:""},null,8,Sc),[[I,l.ssh.username]])]),n("div",wc,[s(p,{size:"small",icon:"codicon-gear",onClick:o[4]||(o[4]=L=>{r.algorithmVisible=!0})},{default:k(()=>[y(b(e.$t("connect.algorithm")),1)]),_:1})]),t.sshMode?(i(),h("div",Cc,[s(p,{size:"small",icon:"codicon-gear",onClick:o[5]||(o[5]=L=>{r.advanceVisible=!0})},{default:k(()=>[y(b(e.$t("connect.advance")),1)]),_:1})])):T("",!0)]),n("section",Vc,[n("div",Pc,[n("label",Tc,[s(m),y("Auth")]),s(f,{modelValue:l.ssh.type,"onUpdate:modelValue":o[6]||(o[6]=L=>l.ssh.type=L),type:"relax"},{default:k(()=>[s(d,{value:"auto"},{default:k(()=>[y(b(e.$t("config.auto")),1)]),_:1}),s(d,{value:"password"},{default:k(()=>[y(b(e.$t("config.password")),1)]),_:1}),s(d,{value:"privateKey"},{default:k(()=>[y(b(e.$t("config.key")),1)]),_:1}),s(d,{value:"agent"},{default:k(()=>[y("Agent")]),_:1})]),_:1},8,["modelValue"])]),t.tunnelMode?(i(),h("div",Uc,[n("label",Ac,b(e.$t("connect.connectTimeout")),1),U(n("input",{"onUpdate:modelValue":o[7]||(o[7]=L=>l.ssh.connectTimeout=L),class:"common_input_width field__input",placeholder:"SSH connection timeout."},null,512),[[I,l.ssh.connectTimeout]])])):T("",!0)]),["password","privateKeyAndPassword","auto"].includes(l.ssh.type)?(i(),h("div",Dc,[n("section",Ic,[n("label",Ec,b(e.$t("config.password")),1),U(n("input",{"onUpdate:modelValue":o[8]||(o[8]=L=>l.ssh.password=L),class:"common_input_width field__input",placeholder:"Password",required:"",type:"password"},null,512),[[I,l.ssh.password]])])])):T("",!0),["privateKey","privateKeyAndPassword","auto"].includes(l.ssh.type)?(i(),h("div",Lc,[n("section",Oc,[n("div",Mc,[n("label",Nc,b(e.$t("config.privateKeyPath")),1),U(n("input",{"onUpdate:modelValue":o[9]||(o[9]=L=>l.ssh.privateKeyPath=L),class:"with_icon_input_width field__input",placeholder:e.$t("config.privateKeyPath")},null,8,qc),[[I,l.ssh.privateKeyPath]]),s(p,{icon:"codicon-ellipsis",class:"ml-1",onClick:o[10]||(o[10]=L=>e.$emit("choose",t.tunnelMode?"privateKey":"connectPrivateKey"))})]),n("div",Hc,[Rc,U(n("input",{"onUpdate:modelValue":o[11]||(o[11]=L=>l.ssh.passphrase=L),class:"common_input_width field__input",placeholder:e.$t("config.passphrase"),type:"Passphrase"},null,8,jc),[[I,l.ssh.passphrase]])])])])):T("",!0),s(w,{ref:"advanceDialog",modelValue:r.advanceVisible,"onUpdate:modelValue":o[12]||(o[12]=L=>r.advanceVisible=L),option:e.option,ssh:l.ssh},null,8,["modelValue","option","ssh"]),s(A,{ref:"algorithmDialog",modelValue:r.algorithmVisible,"onUpdate:modelValue":o[13]||(o[13]=L=>r.algorithmVisible=L),class:"mt-[4vh]",ssh:l.ssh},null,8,["modelValue","ssh"])])}const Kc=R(dc,[["render",Bc]]),on={minio:{s3PathStyle:!0},aws:{endPointTemplate:"s3.#region.amazonaws.com"},cos:{endPointTemplate:"cos.#region.myqcloud.com"},oss:{endPointTemplate:"#region.aliyuncs.com"},qiniu:{endPointTemplate:"s3-#region.qiniucs.com"}};function zc(e){const o=on[e.cfg??e.value]??{};return{...e,...o}}function O(e,o,t){var l;t||(t=o);let c;const r=(l=on[e])==null?void 0:l.endPointTemplate;return r&&(c=r.replace("#region",o)),{value:`${e} ${o}`,label:t,region:o,cfg:e,endPoint:c}}const nn=[{value:"openSource",label:"Common",children:[{value:"minio",label:"Minio",endPoint:"127.0.0.1",port:9e3,useSSL:!1},{value:"tebi",label:"Tebi",endPoint:"s3.sgp.tebi.io",port:443,useSSL:!0}]},{value:"aws",label:"AWS S3",children:[O("aws","us-east-1"),O("aws","us-east-2"),O("aws","us-west-1"),O("aws","us-west-2"),O("aws","ap-east-1"),O("aws","ap-southeast-3"),O("aws","ap-south-1"),O("aws","ap-northeast-3")]},{value:"oss",label:" OSS",children:[O("oss","oss-cn-beijing","2"),O("oss","oss-cn-shanghai","2"),O("oss","oss-cn-guangzhou","3"),O("oss","oss-cn-hangzhou","1"),O("oss","oss-cn-shenzhen","1"),O("oss","oss-cn-chengdu","1"),O("oss","oss-cn-nanjing","5"),O("oss","oss-cn-hongkong",""),O("oss","oss-ap-southeast-1",""),O("oss","oss-ap-northeast-2",""),O("oss","oss-ap-northeast-1",""),O("oss","oss-us-west-1","")]},{value:"cos",label:" COS",children:[O("cos","ap-beijing",""),O("cos","ap-shanghai",""),O("cos","ap-guangzhou",""),O("cos","ap-chengdu",""),O("cos","ap-chongqing",""),O("cos","ap-nanjing",""),O("cos","ap-shenzhen-fsi",""),O("cos","ap-shanghai-fsi",""),O("cos","ap-beijing-fsi",""),O("cos","ap-hongkong",""),O("cos","ap-singapore",""),O("cos","ap-seoul",""),O("cos","ap-tokyo",""),O("cos","na-siliconvalley","")]},{value:"qiniu",label:" Kodo",children:[O("qiniu","cn-south-1",""),O("qiniu","cn-east-1",""),O("qiniu","cn-north-1",""),O("qiniu","cn-east-2","-2"),O("qiniu","us-north-1",""),O("qiniu","ap-southeast-1","")]}],Fc=qn.arrayToObj(nn.flatMap(e=>e.children),"value");function Jc(e){return Fc[e]}const Qc={data(){return{options:nn}},computed:{...V(Y,{editModel:e=>e.editModel}),...V(N,{connectionOption:e=>e})},created(){this.editModel||this.changeService()},methods:{changeService(){const e=this.connectionOption.s3.serviceIds;this.changeConfig(Jc(e[2]??e[1]))},changeConfig(e){const o=zc(e);this.connectionOption.host=o.endPoint,this.connectionOption.port=o.port??443,this.connectionOption.s3.region=o.region??"us-west-1",this.connectionOption.s3.useSSL=o.useSSL??!0,this.connectionOption.s3.pathStyle=o.s3PathStyle??!1}}},Wc={class:"s3-container"},Gc={class:"mb-4 inline-block",style:{"font-size":"15px"}},Zc={class:"mb-2"},Yc={class:"inline-block mr-10"},Xc={class:"common_input_label"},xc=n("span",null,"EndPoint",-1),er={class:"inline-block mr-10"},or={class:"common_input_label"},nr={class:"mb-2"},sr={class:"inline-block mr-10"},tr={class:"common_input_label"},lr={class:"inline-block mr-10"},ir={class:"common_input_label"},ar={class:"mb-2"},cr={class:"inline-block mr-10"},rr={class:"common_input_label"},dr={class:"inline-block mr-10"},ur=n("label",{class:"mr-5 inline-block w-18"},"https",-1),pr={class:"inline-block mr-10"},mr=n("label",{class:"mr-5 inline-block w-18"},"Path Style",-1),hr={class:"mb-2"},_r={class:"inline-block"},br={class:"common_input_label"},vr={class:"mb-2"},fr={class:"mb-2"},kr=n("label",{class:"common_input_label inline-block"},"Service",-1),gr=["onClick"];function yr(e,o,t,c,r,l){const a=v("RedMark"),m=ce,u=Ns;return i(),h("div",Wc,[n("span",Gc,b(e.$t("connect.s3Notice")),1),n("section",Zc,[n("div",Yc,[n("label",Xc,[s(a),xc]),U(n("input",{"onUpdate:modelValue":o[0]||(o[0]=p=>e.connectionOption.host=p),class:"common_input_width field__input",placeholder:"EndPoint",required:""},null,512),[[I,e.connectionOption.host]])]),n("div",er,[n("label",or,[s(a),y(b(e.$t("config.port")),1)]),U(n("input",{"onUpdate:modelValue":o[1]||(o[1]=p=>e.connectionOption.port=p),class:"common_input_width field__input",placeholder:"Port",required:"",type:"number"},null,512),[[I,e.connectionOption.port]])])]),n("section",nr,[n("div",sr,[n("label",tr,[s(a),y("Access Key")]),U(n("input",{"onUpdate:modelValue":o[2]||(o[2]=p=>e.connectionOption.s3.accessKey=p),class:"common_input_width field__input",placeholder:"Access Key",required:""},null,512),[[I,e.connectionOption.s3.accessKey]])]),n("div",lr,[n("label",ir,[s(a),y("Secret Key")]),U(n("input",{"onUpdate:modelValue":o[3]||(o[3]=p=>e.connectionOption.s3.accessSecret=p),class:"common_input_width field__input",placeholder:"Secret Key",type:"password"},null,512),[[I,e.connectionOption.s3.accessSecret]])])]),n("section",ar,[n("div",cr,[n("label",rr,[s(a),y("Region ")]),U(n("input",{"onUpdate:modelValue":o[4]||(o[4]=p=>e.connectionOption.s3.region=p),class:"common_input_width field__input",placeholder:"Region",required:""},null,512),[[I,e.connectionOption.s3.region]])]),n("div",dr,[ur,s(m,{modelValue:e.connectionOption.s3.useSSL,"onUpdate:modelValue":o[5]||(o[5]=p=>e.connectionOption.s3.useSSL=p)},null,8,["modelValue"])]),n("div",pr,[mr,s(m,{modelValue:e.connectionOption.s3.pathStyle,"onUpdate:modelValue":o[6]||(o[6]=p=>e.connectionOption.s3.pathStyle=p)},null,8,["modelValue"])])]),n("section",hr,[n("div",_r,[n("label",br,b(e.$t("config.showedBuckets")),1),U(n("input",{"onUpdate:modelValue":o[7]||(o[7]=p=>e.connectionOption.s3.includeBuckets=p),class:"common_input_width field__input",placeholder:"e.g resources,files"},null,512),[[I,e.connectionOption.s3.includeBuckets]])])]),n("section",vr,[n("section",fr,[kr,s(u,{modelValue:e.connectionOption.s3.serviceIds,"onUpdate:modelValue":o[8]||(o[8]=p=>e.connectionOption.s3.serviceIds=p),options:r.options,filterable:"",size:"small",props:{expandTrigger:"hover"},style:{width:"230px"},onChange:l.changeService},{default:k(({data:p})=>[n("span",{onClick:d=>l.changeConfig(p)},b(p.label),9,gr)]),_:1},8,["modelValue","options","onChange"])])])])}const $r=R(Qc,[["render",yr]]),Sr={name:"TunnelOption",computed:{...V(Y,{UI:e=>e}),...V(N,["dbType"]),...V(N,{option:e=>e})},methods:{not(...e){return!e.includes(this.dbType)}}},wr={key:0,class:"inline-flex mr-10 items-center"},Cr=n("label",{class:"inline-block w-18 mr-3"},"SSL",-1);function Vr(e,o,t,c,r,l){const a=ce,m=v("vsc-button");return["MySQL","MariaDB","PostgreSQL","Redshift","FTP","Docker","MongoDB","Redis","Kafka","Doris"].includes(e.dbType)&&(e.dbType!="Docker"||e.option.dockerConnType=="tcp")?(i(),h("div",wr,[Cr,s(a,{modelValue:e.option.useSSL,"onUpdate:modelValue":o[0]||(o[0]=u=>e.option.useSSL=u),class:"mr-4"},null,8,["modelValue"]),e.option.useSSL?(i(),P(m,{key:0,icon:"codicon-gear",size:"small",onClick:o[1]||(o[1]=u=>e.UI.sslVisible=!0)},{default:k(()=>[y(b(e.$t("config.plain")),1)]),_:1})):T("",!0)])):T("",!0)}const qe=R(Sr,[["render",Vr]]),Pr={components:{HostAndPort:ve,SSLOption:qe},props:["hasLocalDocker"],computed:{...V(N,{option:e=>e})},methods:{openDocument(){this.$emit("sendToVscode","openPage",{page:"document",param:"/#/docker"})}}},Tr={class:"mb-2 inline-flex"},Ur={class:"mr-5 inline-block common_input_label"},Ar={class:"mb-2"},Dr={key:1,class:"mb-2"},Ir={class:"inline-block mr-10"},Er={class:"common_input_label"},Lr={key:0};function Or(e,o,t,c,r,l){const a=Me,m=Ne,u=v("HostAndPort"),p=v("SSLOption"),d=v("RedMark");return i(),h("div",{style:uo({"margin-bottom":(e.option.dockerConnType=="ssh","")})},[n("section",Tr,[n("label",Ur,b(e.$t("connect.connectionType")),1),s(m,{modelValue:e.option.dockerConnType,"onUpdate:modelValue":o[0]||(o[0]=f=>e.option.dockerConnType=f),class:"inline-block",type:"relax"},{default:k(()=>[s(a,{value:"ssh"},{default:k(()=>[y("SSH")]),_:1}),s(a,{value:"socket"},{default:k(()=>[y("Socket")]),_:1}),s(a,{value:"tcp"},{default:k(()=>[y("Tcp")]),_:1})]),_:1},8,["modelValue"])]),e.option.dockerConnType=="tcp"?(i(),h(K,{key:0},[s(u),n("section",Ar,[s(p)])],64)):e.option.dockerConnType=="socket"?(i(),h("section",Dr,[n("div",Ir,[n("label",Er,[s(d),y(b(e.$t("connect.socketPath")),1)]),U(n("input",{"onUpdate:modelValue":o[1]||(o[1]=f=>e.option.socketPath=f),class:"common_input_width field__input mr-2",placeholder:"/var/run/docker.sock"},null,512),[[I,e.option.socketPath]])]),t.hasLocalDocker?(i(),h("div",Lr,b(e.$t("connect.hasDockerNotice")),1)):T("",!0)])):T("",!0)],4)}const Mr=R(Pr,[["render",Or]]),Nr={components:{UsernameAndPassword:me,SSLOption:qe},computed:{...V(N,{option:e=>e})}},qr={class:"mb-2 connect-input-item"},Hr={class:"inline-block mr-10"},Rr={class:"common_input_label"},jr={class:"inline-block mr-10"},Br={class:"common_input_label"},Kr={class:"mb-2"},zr=n("label",{class:"mr-5 inline-block w-36"},"Auth",-1),Fr={class:"mb-2"};function Jr(e,o,t,c,r,l){const a=v("RedMark"),m=Ue,u=Qe,p=v("UsernameAndPassword"),d=v("SSLOption");return i(),h("div",null,[n("section",qr,[n("div",Hr,[n("label",Rr,[s(a),n("span",null,b(e.$t("config.host")),1)]),U(n("input",{"onUpdate:modelValue":o[0]||(o[0]=f=>e.option.host=f),class:"common_input_width field__input",placeholder:"Host",required:""},null,512),[[I,e.option.host]])]),n("div",jr,[n("label",Br,[s(a),y(b(e.$t("config.port")),1)]),s(m,{modelValue:e.option.port,"onUpdate:modelValue":o[1]||(o[1]=f=>e.option.port=f),placeholder:"Port",size:"small"},null,8,["modelValue"])])]),n("section",Kr,[zr,s(u,{modelValue:e.option.kafkaAuth,"onUpdate:modelValue":o[2]||(o[2]=f=>e.option.kafkaAuth=f),label:"none"},{default:k(()=>[y("None")]),_:1},8,["modelValue"]),s(u,{modelValue:e.option.kafkaAuth,"onUpdate:modelValue":o[3]||(o[3]=f=>e.option.kafkaAuth=f),label:"plain"},{default:k(()=>[y("Plain")]),_:1},8,["modelValue"]),s(u,{modelValue:e.option.kafkaAuth,"onUpdate:modelValue":o[4]||(o[4]=f=>e.option.kafkaAuth=f),label:"scram-sha-256"},{default:k(()=>[y("Scram-sha-256")]),_:1},8,["modelValue"]),s(u,{modelValue:e.option.kafkaAuth,"onUpdate:modelValue":o[5]||(o[5]=f=>e.option.kafkaAuth=f),label:"scram-sha-512"},{default:k(()=>[y("Scram-sha-512")]),_:1},8,["modelValue"])]),["plain","scram-sha-256","scram-sha-512"].includes(e.option.kafkaAuth)?(i(),P(p,{key:0})):T("",!0),n("section",Fr,[s(d)])])}const Qr=R(Nr,[["render",Jr]]),Wr={components:{UsernameAndPassword:me,HostAndPort:ve,SSLOption:qe},data(){return{encodings:["utf8","gbk","ascii","latin1","utf16le"]}},computed:{...V(N,{option:e=>e})}},Gr={class:"connect-input-item"},Zr={class:"inline-block mr-10"},Yr={class:"common_input_label"},Xr={class:"inline-block mr-10"},xr={class:"common_input_label"},ed={class:"mt-4"};function od(e,o,t,c,r,l){const a=v("HostAndPort"),m=v("UsernameAndPassword"),u=We,p=Ge,d=ce,f=v("SSLOption");return i(),h("div",null,[s(a),s(m),n("div",Gr,[n("div",Zr,[n("label",Yr,b(e.$t("connect.ftpEncoding")),1),s(p,{modelValue:e.option.fs.encoding,"onUpdate:modelValue":o[0]||(o[0]=w=>e.option.fs.encoding=w),class:"common_input_width",placeholder:"utf8"},{default:k(()=>[(i(!0),h(K,null,se(r.encodings,w=>(i(),P(u,{key:w,value:w},{default:k(()=>[y(b(w),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),n("div",Xr,[n("label",xr,b(e.$t("connect.showHiddenFiles")),1),s(d,{modelValue:e.option.fs.showHidden,"onUpdate:modelValue":o[1]||(o[1]=w=>e.option.fs.showHidden=w)},null,8,["modelValue"])])]),n("section",ed,[s(f)])])}const nd=R(Wr,[["render",od]]),sd={components:{HostAndPort:ve,UsernameAndPassword:me,SSLOption:qe},computed:{...V(N,{option:e=>e})}},td={class:"mb-2"},ld={class:"inline-block mr-10"},id={class:"common_input_label"},ad=["placeholder"],cd={class:"inline-block"},rd={class:"inline-block mr-10"},dd={class:"common_input_label !w-16"},ud={class:"mb-2"},pd={class:"inline-block mr-10"},md={class:"common_input_label"},hd={class:"inline-block mr-10"},_d=n("label",{class:"common_input_label !w-24"},"All Database",-1);function bd(e,o,t,c,r,l){const a=v("HostAndPort"),m=v("UsernameAndPassword"),u=v("RedMark"),p=ce,d=v("SSLOption"),f=Ue;return i(),h("div",null,[s(a),s(m,{required:!1}),n("section",td,[n("div",ld,[n("label",id,b(e.$t("config.database")),1),U(n("input",{"onUpdate:modelValue":o[0]||(o[0]=w=>e.option.database=w),class:"common_input_width field__input",placeholder:e.$t("config.databasePlaceholder")},null,8,ad),[[I,e.option.database]])]),n("div",cd,[n("div",rd,[n("label",dd,[s(u),y("Cluster")]),s(p,{modelValue:e.option.redis.cluster,"onUpdate:modelValue":o[1]||(o[1]=w=>e.option.redis.cluster=w)},null,8,["modelValue"])]),s(d)])]),n("section",ud,[n("div",pd,[n("label",md,b(e.$t("config.databaseNumber")),1),s(f,{modelValue:e.option.redis.databaseNumber,"onUpdate:modelValue":o[2]||(o[2]=w=>e.option.redis.databaseNumber=w),min:1,placeholder:"16"},null,8,["modelValue"])]),n("div",hd,[_d,s(p,{modelValue:e.option.redis.allDatabase,"onUpdate:modelValue":o[3]||(o[3]=w=>e.option.redis.allDatabase=w)},null,8,["modelValue"])])])])}const vd=R(sd,[["render",bd]]),fd={components:{SSLOption:qe,TreeFeatures:en},computed:{...V(N,["dbType"]),...V(N,{option:e=>e}),supportCustomConnect(){return Nn(this.dbType)},connectUrlExample(){switch(this.dbType){case"Oracle":return"e.g jdbc:oracle:thin:@tcp://127.0.0.1:1521/XE";case E.PG:case E.REDSHIFT:return"e.g postgresql://user:password@127.0.0.1:5432/postgres";case E.MYSQL:return"e.g mysql://user:password@127.0.0.1:3306/test";case E.MARIA_DB:return"e.g mariadb://user:password@127.0.0.1:3306/test"}return"e.g mongodb+srv://username:password@server-url/admin"}}},kd={class:"mb-2"},gd={class:"inline-block mr-10"},yd={class:"inline-block mr-5"},$d={class:"mb-2"},Sd={key:0,class:"w-full mr-10 mt-2"},wd={class:"common_input_label"},Cd=["placeholder"];function Vd(e,o,t,c,r,l){const a=v("TreeFeatures"),m=ce,u=v("SSLOption"),p=v("RedMark");return i(),h("div",null,[n("div",{style:uo({opacity:e.option.useConnectionString?.7:null})},[po(e.$slots,"default")],4),s(a),l.supportCustomConnect?(i(),h(K,{key:0},[n("section",kd,[n("div",gd,[n("label",yd,b(e.$t("connect.usingConnectString")),1),s(m,{modelValue:e.option.useConnectionString,"onUpdate:modelValue":o[0]||(o[0]=d=>e.option.useConnectionString=d),class:"mr-2"},null,8,["modelValue"])]),s(u)]),n("section",$d,[e.option.useConnectionString?(i(),h("div",Sd,[n("label",wd,[s(p),y(b(e.$t("connect.connectString")),1)]),U(n("input",{"onUpdate:modelValue":o[1]||(o[1]=d=>e.option.connectionUrl=d),class:"w-4/6 field__input",placeholder:l.connectUrlExample},null,8,Cd),[[I,e.option.connectionUrl]])])):T("",!0)])],64)):(i(),P(u,{key:1}))])}const ko=R(fd,[["render",Vd]]),Pd={components:{ConnectionString:ko,HostAndPort:ve,UsernameAndPassword:me},computed:{...V(N,{option:e=>e})}},Td={class:"mb-2 inline-block"},Ud={class:"mb-2"},Ad={class:"inline-block mr-10"},Dd={class:"common_input_label"};function Id(e,o,t,c,r,l){const a=v("HostAndPort"),m=v("UsernameAndPassword"),u=v("ConnectionString");return i(),h("div",null,[s(u,null,{default:k(()=>[n("span",Td,b(e.$t("connect.mongoNotice")),1),s(a),s(m,{required:!1}),n("section",Ud,[n("div",Ad,[n("label",Dd,b(e.$t("config.mongoAuthSource")),1),U(n("input",{"onUpdate:modelValue":o[0]||(o[0]=p=>e.option.mongoAuthSource=p),class:"common_input_width field__input",placeholder:"admin"},null,512),[[I,e.option.mongoAuthSource]])])])]),_:1})])}const Ed=R(Pd,[["render",Id]]),Ld={components:{DatabaseAndAdvance:Xe,HostAndPort:ve,UsernameAndPassword:me,ConnectionString:ko},computed:{...V(N,{option:e=>e})}},Od={class:"mb-2"},Md={class:"inline-block mr-10"},Nd={class:"common_input_label"};function qd(e,o,t,c,r,l){const a=v("HostAndPort"),m=v("UsernameAndPassword"),u=v("DatabaseAndAdvance"),p=v("vsc-button"),d=v("ConnectionString");return i(),P(d,null,{default:k(()=>[s(a),s(m),s(u),n("section",Od,[n("div",Md,[n("label",Nd,b(e.$t("connect.socketPath")),1),U(n("input",{"onUpdate:modelValue":o[0]||(o[0]=f=>e.option.socketPath=f),class:"common_input_width field__input !mr-10",placeholder:"e.g. /var/run/mysqld/mysqld.sock"},null,512),[[I,e.option.socketPath]]),s(p,{icon:"codicon-tools",onClick:o[1]||(o[1]=f=>e.option.socketPath="/var/run/mysqld/mysqld.sock")},{default:k(()=>[y(b(e.$t("connect.use")),1)]),_:1})])])]),_:1})}const Hd=R(Ld,[["render",qd]]),Rd={components:{DatabaseAndAdvance:Xe,HostAndPort:ve,UsernameAndPassword:me},computed:{...V(N,{option:e=>e})}},jd={class:"mb-2"},Bd={class:"inline-block mr-10"},Kd={class:"mr-2 inline-block w-36"},zd={class:"inline-block common_input_width"},Fd={class:"inline-block mr-5"},Jd={class:"inline-block w-36"};function Qd(e,o,t,c,r,l){const a=v("HostAndPort"),m=v("UsernameAndPassword"),u=Qe,p=ce,d=v("DatabaseAndAdvance");return i(),h("div",null,[s(a),s(m),n("section",jd,[n("div",Bd,[n("label",Kd,b(e.$t("connect.protocol")),1),n("div",zd,[s(u,{modelValue:e.option.clickhouse.protocol,"onUpdate:modelValue":o[0]||(o[0]=f=>e.option.clickhouse.protocol=f),label:"http"},{default:k(()=>[y("http")]),_:1},8,["modelValue"]),s(u,{modelValue:e.option.clickhouse.protocol,"onUpdate:modelValue":o[1]||(o[1]=f=>e.option.clickhouse.protocol=f),label:"https"},{default:k(()=>[y("https")]),_:1},8,["modelValue"])])]),n("div",Fd,[n("label",Jd,b(e.$t("connect.coLatestVersion")),1),s(p,{modelValue:e.option.clickhouse.latestVersion,"onUpdate:modelValue":o[2]||(o[2]=f=>e.option.clickhouse.latestVersion=f)},null,8,["modelValue"])])]),s(d)])}const Wd=R(Rd,[["render",Qd]]),Gd={data(){return{panels:[{id:"Main",i18n:"connect.main",icon:"codicon-gear"},{id:"SSH",icon:"codicon-remote",enable:()=>this.option.usingSSH},{id:"Socks",i18n:"connect.socksProxy",icon:"codicon-symbol-class yellow",enable:()=>this.option.useSocksProxy,hidden:()=>this.dbType=="Docker"&&this.option.dockerConnType=="socket"},{id:"HTTP",i18n:"connect.httpProxy",icon:"codicon-note blue",enable:()=>this.option.useHTTPProxy,hidden:()=>this.dbType=="Docker"&&this.option.dockerConnType=="socket"}]}},computed:{...V(Y,{UI:e=>e,platform:e=>e.option.platform}),...V(N,["dbType"]),...V(N,{option:e=>e}),computedPanels(){return this.panels.filter(e=>{var o;return((o=e==null?void 0:e.hidden)==null?void 0:o.call(e))!=!0})},supportTunnel(){return!["SQLite","DuckDB"].includes(this.dbType)}}},Zd={key:0,class:"mt-3 flex"},Yd={class:"block mr-3"},Xd={class:"flex"},xd=["onClick"],eu={key:1,class:"relative ml-1 top-[2.5px] yellow"};function ou(e,o,t,c,r,l){return l.supportTunnel?(i(),h("section",Zd,[n("label",Yd,b(e.$t("config.plain")),1),n("ul",Xd,[(i(!0),h(K,null,se(l.computedPanels,(a,m)=>{var u;return i(),h("li",{key:m,class:J(["tab__item mb-2",{"tab__item--active":e.UI.activePanel==a.id}]),onClick:p=>e.UI.activePanel=a.id},[a.icon?(i(),h("i",{key:0,type:"icon",class:J(a.icon),style:{position:"relative",top:"3px"}},null,2)):T("",!0),y(" "+b(a.i18n?e.$t(a.i18n):a.id)+" ",1),(u=a.enable)!=null&&u.call(a)?(i(),h("span",eu,"*")):T("",!0)],10,xd)}),128))])])):T("",!0)}const nu=R(Gd,[["render",ou],["__scopeId","data-v-ce32c009"]]),su={name:"ServiceSelector",components:{TunnelSelector:nu},data(){return{staticOnly:!1,moreSelectorVisible:!1}},computed:{...V(Y,{UI:e=>e,platform:e=>e.option.platform}),...V(N,["dbType"]),...V(N,{connectionOption:e=>e}),supportServersList(){return[[{value:"MySQL",icon:"resources/icon/server/mysql_dark.svg"},{value:"MariaDB",icon:"resources/icon/server/mariadb.svg"},{value:"PostgreSQL",icon:"resources/icon/server/pgsql.svg"},"|",{value:"SQLite",icon:"resources/icon/server/sqlite.svg"},{value:"SqlServer",label:"SQL Server",icon:"resources/icon/server/mssql.svg"},"|",{value:"Db2",icon:"resources/icon/server/db2.svg"},{value:"Oracle",icon:"resources/icon/server/oracle.png"},"|",{value:"Cassandra",icon:"resources/icon/server/cassandra.svg"},{value:"ClickHouse",icon:"resources/icon/server/clickhouse.svg"}].map(this.convertIcon),[{value:"SSH",icon:"resources/icon/server/gnu.svg"},{value:"Docker",icon:"resources/icon/server/docker.svg"},"|",{value:"Redis",icon:"resources/icon/server/redis.png"},{value:"ElasticSearch",icon:"resources/icon/server/elasticsearch.svg"},{value:"MongoDB",icon:"resources/icon/server/mongo.svg"},"|",{label:"S3",value:"S3",icon:"resources/icon/server/s3.png"},{value:"FTP",icon:"resources/icon/server/ftp.png"},"|",{label:"Kafka",value:"Kafka",icon:"resources/icon/server/kafka.png"},{label:"RabbitMQ",value:"RabbitMQ",icon:"resources/icon/server/rabbitmq.svg"},{value:"JDBC",icon:"resources/icon/server/java.png"},"|","more"].map(this.convertIcon)]},moreServers(){return[{value:"Redshift",icon:"resources/icon/server/redshift.svg"},{value:"Snowflake",icon:"resources/icon/server/snowflake.svg"},"|",{value:"DuckDB",icon:"resources/icon/server/duckdb.png"},{label:"libSQL(Turso)",value:"libSQL",icon:"resources/icon/server/turso.svg"},"|",{value:"",icon:"resources/icon/server/dm.png"},{value:"TDengine",label:"TDengine",icon:"resources/icon/server/tdengine.svg"},{value:"Doris",label:"Apache Doris",icon:"resources/icon/server/doris.png"},"|",{value:"RDP",icon:"resources/icon/server/rdp.png"},{value:"Loki",icon:"resources/icon/server/loki.png"},{value:"Neo4j",icon:"resources/icon/server/neo4j.png"},{value:"Zookeeper",icon:"resources/icon/server/zookeeper.png"}].map(this.convertIcon).filter(e=>e.value!="RDP"||this.isWin)},moreServerIcon(){return this.isMoreServer?this.moreServers.find(e=>e.value==this.dbType).icon:(this.staticOnly?"../../":"")+"resources/icon/server/more.png"},isWin(){return this.platform=="win32"},isMoreServer(){return this.moreServers.some(e=>e.value==this.dbType)}},created(){this.staticOnly=mo().staticOnly},methods:{convertIcon(e){return typeof e=="string"?e:{...e,icon:this.staticOnly?"../../"+e.icon:e.icon}}}},tu={class:"mb-2 pt-2 border-t border-border lg:w-max"},lu={class:"block"},iu={key:0,class:"tab__item px-1 py-[5px] xl:py-2 divider"},au={class:"pl-2 py-1"},cu=["value","onClick"],ru=["src"],du={class:"tab__item px-1 py-[5px] xl:py-2"},uu=["src"],pu={key:0},mu={key:1},hu=["onClick"],_u=["src"];function bu(e,o,t,c,r,l){const a=_o,m=v("TunnelSelector");return i(),h("section",tu,[n("label",lu,b(e.$t("config.serverType")),1),(i(!0),h(K,null,se(l.supportServersList,(u,p)=>(i(),h("ul",{key:p,class:"tab"},[(i(!0),h(K,null,se(u,(d,f)=>(i(),h(K,{key:f},[d=="|"?(i(),h("li",iu,"|")):d=="more"?(i(),h("li",{key:1,class:J(["tab__item px-1 py-[5px] xl:py-2 divider",{"tab__item--active":l.isMoreServer}])},[s(a,{visible:r.moreSelectorVisible,"onUpdate:visible":o[0]||(o[0]=w=>r.moreSelectorVisible=w),placement:"bottom","popper-class":"!p-0",trigger:"hover"},{reference:k(()=>[n("span",du,[n("img",{src:l.moreServerIcon,class:"server-item"},null,8,uu),l.isMoreServer?(i(),h("span",pu,b(e.dbType),1)):(i(),h("span",mu,b(e.$t("config.more")),1))])]),default:k(()=>[n("div",au,[(i(!0),h(K,null,se(l.moreServers,(w,A)=>(i(),h("div",{key:A,value:w.value,class:"tab__item p-1",onClick:L=>{r.moreSelectorVisible=!1,e.connectionOption.dbType=w.value}},[w=="|"?(i(),h("div",{key:A,class:"border-t-[1px] border-[--border-color] divider"})):(i(),h("img",{key:1,src:w.icon,class:"server-item"},null,8,ru)),y(b(w.label||w.value),1)],8,cu))),128))])]),_:1},8,["visible"])],2)):(i(),h("li",{key:2,class:J(["tab__item px-2 py-[5px] xl:py-2",{"tab__item--active":(d.value||d)==e.dbType}]),onClick:w=>e.connectionOption.dbType=d.value||d},[d.icon?(i(),h("img",{key:0,src:d.icon,class:"server-item"},null,8,_u)):T("",!0),y(" "+b(d.label||d.value||d),1)],10,hu))],64))),128))]))),128)),s(m)])}const vu=R(su,[["render",bu],["__scopeId","data-v-65ddc8c3"]]),fu={computed:{...V(Y,{UI:e=>e}),...V(Y,{visible:"connectAdvanceVisible"}),...V(N,{option:e=>e})}},ku={class:"mb-4"},gu={class:"inline-block mr-3"},yu={class:"mr-4"},$u={class:"mb-2"},Su={class:"inline-flex mr-10 items-center"},wu={class:"mr-4"},Cu={class:"inline-block"},Vu={class:"inline-block w-24"};function Pu(e,o,t,c,r,l){const a=ce,m=Me,u=Ne,p=Oe;return i(),P(p,{title:e.$t("connect.advance"),"model-value":e.visible,width:"500px",top:"10vh",center:"",onClose:o[5]||(o[5]=d=>e.UI.connectAdvanceVisible=!1)},{default:k(()=>[n("section",ku,[n("div",gu,[n("label",yu,b(e.$t("connect.readOnly")),1),s(a,{modelValue:e.option.readonly,"onUpdate:modelValue":o[0]||(o[0]=d=>e.option.readonly=d)},null,8,["modelValue"])])]),n("section",$u,[n("div",Su,[n("label",wu,b(e.$t("connect.savePassword")),1),s(u,{modelValue:e.option.savePassword,"onUpdate:modelValue":o[3]||(o[3]=d=>e.option.savePassword=d),class:"!inline-flex"},{default:k(()=>[s(m,{modelValue:e.option.savePassword,"onUpdate:modelValue":o[1]||(o[1]=d=>e.option.savePassword=d),value:"Forever"},{default:k(()=>[y(b(e.$t("connect.savePasswordForever")),1)]),_:1},8,["modelValue"]),s(m,{modelValue:e.option.savePassword,"onUpdate:modelValue":o[2]||(o[2]=d=>e.option.savePassword=d),value:"Never"},{default:k(()=>[y(b(e.$t("connect.savePasswordNever")),1)]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),n("div",Cu,[n("label",Vu,b(e.$t("connect.connectTimeout")),1),U(n("input",{"onUpdate:modelValue":o[4]||(o[4]=d=>e.option.connectTimeout=d),class:"w-20 field__input",placeholder:"5000",required:""},null,512),[[I,e.option.connectTimeout]])])])]),_:1},8,["title","model-value"])}const Tu=R(fu,[["render",Pu]]),Uu={name:"ConnectOption",components:{ConnectAdvanceDialog:Tu},data(){return{groupSelectorVisible:!1}},computed:{...V(Y,["isPay"]),...V(Y,{UI:e=>e,groups:e=>e.option.groups}),...V(N,{connectionOption:e=>e})}},Au={class:"connect-input-item mb-3 group-selection"},Du={class:"inline-block mr-3"},Iu={class:"mr-5 inline-block w-9"},Eu={class:"inline-block mr-3"},Lu={class:"mr-5 inline-block w-9"},Ou={class:"max-h-[300px]"},Mu=["onClick"],Nu={class:"inline-block mr-5"},qu={class:"inline-flex items-center"},Hu={class:"mr-5"},Ru={key:0,class:"w-full",style:{"font-size":"15px",margin:"8px 0px 0px 0"}},ju=["innerHTML"],Bu={class:"red"},Ku={class:"red"};function zu(e,o,t,c,r,l){const a=bo,m=_o,u=v("vsc-button"),p=Me,d=ho,f=Ne,w=v("ConnectAdvanceDialog");return i(),h("section",Au,[n("div",Du,[n("label",Iu,b(e.$t("connect.name")),1),s(a,{modelValue:e.connectionOption.name,"onUpdate:modelValue":o[0]||(o[0]=A=>e.connectionOption.name=A),class:"field__input w-32 lg:w-36",placeholder:e.$t("connect.connectionName"),clearable:!0},null,8,["modelValue","placeholder"])]),n("div",Eu,[n("label",Lu,b(e.$t("connect.group")),1),s(m,{visible:r.groupSelectorVisible,"onUpdate:visible":o[3]||(o[3]=A=>r.groupSelectorVisible=A),placement:"bottom","popper-class":"!p-0",trigger:"click"},{reference:k(()=>[s(a,{modelValue:e.connectionOption.group,"onUpdate:modelValue":o[1]||(o[1]=A=>e.connectionOption.group=A),class:"field__input w-32",placeholder:e.$t("connect.groupPlaceholder"),clearable:!0,onInput:o[2]||(o[2]=A=>{r.groupSelectorVisible=!1})},null,8,["modelValue","placeholder"])]),default:k(()=>[n("div",Ou,[(i(!0),h(K,null,se(e.groups,A=>(i(),h("div",{key:A,class:"el-select-dropdown__item min-w-[100px] bg-[var(--vscode-dropdown-background)]",onClick:L=>{e.connectionOption.group=A,r.groupSelectorVisible=!1}},b(A),9,Mu))),128))])]),_:1},8,["visible"])]),n("div",Nu,[s(u,{size:"small",onClick:o[4]||(o[4]=A=>{e.UI.connectAdvanceVisible=!0})},{default:k(()=>[y(b(e.$t("connect.advance")),1)]),_:1})]),n("div",qu,[n("label",Hu,b(e.$t("connect.scope")),1),s(f,{modelValue:e.connectionOption.global,"onUpdate:modelValue":o[7]||(o[7]=A=>e.connectionOption.global=A)},{default:k(()=>[s(p,{modelValue:e.connectionOption.global,"onUpdate:modelValue":o[5]||(o[5]=A=>e.connectionOption.global=A),value:!0},{default:k(()=>[y(b(e.$t("connect.global")),1)]),_:1},8,["modelValue"]),s(p,{modelValue:e.connectionOption.global,"onUpdate:modelValue":o[6]||(o[6]=A=>e.connectionOption.global=A),disabled:!e.isPay,value:!1},{default:k(()=>[y(b(e.$t("connect.current")),1)]),_:1},8,["modelValue","disabled"]),s(d,{value:"Premium Only",style:{left:"-40px",top:"-5px"},hidden:e.isPay},null,8,["hidden"])]),_:1},8,["modelValue"])]),e.isPay?T("",!0):(i(),h("h1",Ru,[n("span",{innerHTML:e.$t("pay.connectNotice")},null,8,ju),y(" Database "),n("span",Bu,b(e.UI.option.connectionCount.sql)+"/3",1),y(" , NoSQL "),n("span",Ku,b(e.UI.option.connectionCount.noSQL)+"/3",1)])),s(w)])}const Fu=R(Uu,[["render",zu]]),Ju={name:"ConnectResult",computed:{...V(Y,{UI:e=>e,connect:e=>e.connect}),...V(N,["dbType"]),...V(N,{connectionOption:e=>e})}},Qu={key:0,class:"p-3 mb-2 panel error"},Wu={class:"panel__text"},Gu={class:"common_input_label"},Zu=["textContent"],Yu={key:1,class:"p-3 mb-2 panel success"},Xu={class:"panel__text"},xu={class:"mr-5 inline-block w-36"},ep=["innerHTML"];function op(e,o,t,c,r,l){return i(),h("section",null,[e.connect.error?(i(),h("blockquote",Qu,[n("section",Wu,[n("div",Gu,b(e.$t("connect.error")),1),n("span",{textContent:b(e.connect.errorMessage)},null,8,Zu)])])):T("",!0),e.connect.success?(i(),h("blockquote",Yu,[n("section",Xu,[n("div",xu,b(e.$t("connect.success")),1),n("span",{innerHTML:e.connect.successMessage},null,8,ep)])])):T("",!0)])}const np=R(Ju,[["render",op],["__scopeId","data-v-5e2eb491"]]),ao=Y(),$=N();function sp(e){if(!ao.editModel)switch(ao.activePanel="Main",An($,Bo,"dbType"),$.user=null,e){case E.MYSQL:case E.MARIA_DB:$.user="root",$.port=3306;break;case E.DORIS:$.user="root",$.port=9030;break;case E.PG:$.user="postgres",$.port=5432,$.database="postgres";break;case E.REDSHIFT:$.user="awsuser",$.port=5439,$.database="dev";break;case E.SQLITE:case E.DUCK_DB:$.usingSSH=!1,$.useSocksProxy=!1,$.useSSL=!1;break;case E.SQLServer:$.user="sa",$.port=1433,$.database="master",$.useSSL=!1,$.sqlServer.encrypt=!0;break;case E.ORACLE:$.port=1521,$.user="system",$.database="XE",$.advance.includeDatabases="system";break;case E.DB2:$.port=5e4,$.database="db2inst1";break;case E.CASSANDRA:$.port=9042,$.database="system_schema";break;case E.CLICKHOUSE:$.host="127.0.0.1",$.password="",$.user="default",$.port=8123,$.database="default",$.clickhouse.protocol="http",$.clickhouse.latestVersion=!0;break;case E.SNOWFLAKE:$.snowflake.authenticator="SNOWFLAKE";break;case E.DM:$.port=5236,$.user="SYSDBA";break;case E.libSQL:$.httpAuth.authType="token",$.httpAuth.url="https://[database]-[account].turso.io";break;case E.TDengine:$.user="root",$.password="taosdata",$.httpAuth.authType="account",$.httpAuth.url="http://127.0.0.1:6041";break;case E.JDBC:$.jdbc.dialect=E.HIVE;break;case E.DOCKER:$.port=2375,$.dockerConnType=ao.option.hasLocalDocker?"socket":"ssh";break;case E.REDIS:$.port=6379,$.database="0";break;case E.ES:$.httpAuth.authType="none",$.httpAuth.url="http://127.0.0.1:9200";break;case E.MONGO_DB:$.port=27017;break;case E.S3:$.s3.serviceIds=["openSource","minio"];break;case E.FTP:$.port=21,$.user="anonymous",$.useSSL=!1,$.fs.encoding="utf8";break;case E.KAFKA:$.port=9092,$.kafkaAuth="plain";break;case E.RabbitMQ:$.user="guest",$.password="guest",$.httpAuth.authType="account",$.httpAuth.url="http://127.0.0.1:15672";break;case E.NEO4J:$.port=7687,$.user="neo4j",$.database="neo4j";break;case E.RDP:return $.port=3389;case E.ZOOKEEPER:return $.port=2181;case E.LOKI:return $.httpAuth.url="http://127.0.0.1:3100"}}const tp={name:"Connect",components:{ConnectionString:ko,HttpConnection:Ll,ConnectResult:np,ConnectOption:Fu,MySQL:Hd,DatabaseAndAdvance:Xe,UsernameAndPassword:me,Redis:vd,HostAndPort:ve,ClickHouse:Wd,MongoDB:Ed,HTTPProxy:yt,Snowflake:wi,SQLite:ta,SQLServer:Ea,SSH:Kc,Socks:nt,FTP:nd,JDBCGuide:sl,JDBC:zi,Kafka:Qr,S3:$r,Docker:Mr,AdvanceDialog:Jt,Rdp:ei,SSLDialog:_l,ServiceSelector:vu},mixins:[jo],computed:{...V(Y,["isPay","connect","option"]),...V(Y,{UI:e=>e,connect:e=>e.connect}),...V(N,["dbType"]),...V(N,{connectionOption:e=>e,rawOption:e=>Dn(e)})},watch:{"connectionOption.dbType"(e){sp(e)}},mounted(){this.on("config",({node:e,mode:o})=>{this.UI.editModel=!0,this.connectionOption.$patch(o=="edit"?e:{...e,key:void 0,sort:void 0})}).on("connect",({group:e})=>{this.UI.editModel=!1,this.connectionOption.group=e}).on("choose",({event:e,path:o})=>{switch(e){case"dbPath":this.connectionOption.dbPath=o;break;case"connectPrivateKey":this.connectionOption.sshConnect.privateKeyPath=o;break;case"snowflakePrivateKey":this.connectionOption.snowflake.privateKeyPath=o;break;case"caPath":this.connectionOption.caPath=o;break;case"privateKey":this.connectionOption.ssh.privateKeyPath=o;break;default:this.connectionOption[e]=o,console.log(this.connectionOption);break}this.$forceUpdate()}).on("user",e=>{this.UI.user=e}).on("prefer",e=>{e&&(this.connectionOption.dbType=e)}).on("option",e=>{console.log("option",e),this.UI.option=e,this.UI.userInit=!0}).on("error",e=>{this.UI.connect.loading=!1,this.UI.connect.success=!1,this.UI.connect.error=!0,this.UI.connect.errorMessage=e}).on("success",e=>{this.UI.connect.loading=!1,this.UI.connect.error=!1,this.UI.connect.success=!0,this.UI.connect.successMessage=e.message,this.connectionOption.connectionKey=e.connectionKey,this.connectionOption.key=e.key,this.connectionOption.sort=e.sort,this.connectionOption.isGlobal=this.connectionOption.global}),this.emit("init"),window.onkeydown=e=>{var c,r;const o=e.key=="Enter",t=()=>e.preventDefault();if(o){if(this.UI.sslVisible)return t(),this.UI.sslVisible=!1;if(this.UI.advanceVisible)return t(),this.UI.advanceVisible=!1;if((r=(c=this.$refs.ssh)==null?void 0:c.$data)!=null&&r.advanceVisible)return t(),this.$refs.ssh.$data.advanceVisible=!1;if(e.target.tagName=="INPUT")return t(),this.tryConnect()}}},methods:{installDependency(e){this.emit("installDependency",e)},saveConnect(){this.emit("connecting",{connectionOption:this.rawOption,saveOnly:!0})},tryConnect(){this.UI.connect.error=!1,this.UI.connect.loading=!0,this.emit("connecting",{connectionOption:this.rawOption,saveOnly:this.dbType=="RDP"})},onContextmenu(e){const o=e.target;if(!(!o||!(o instanceof HTMLInputElement)||!o.select))return Tn({items:[{label:"Copy",onClick:()=>document.execCommand("copy")},{label:"Paste",onClick:()=>document.execCommand("paste")}],event:e,minWidth:230}),!1},choose(e,o,t){let c={};o&&t&&(Array.isArray(t)?c[o]=[...t]:c[o]=[t]),c["All Files"]=["*"],this.emit("choose",{event:e,filters:c})},sendToVscode(e,o){this.emit(e,o)},close(){this.emit("close")},installJava(){this.emit("installJava")},installJdbc(){this.emit("installJdbc")}}},lp={class:"connect-container max-lg:px-5"},ip={class:"py-4 text-2xl",style:{display:"inline-block"}},ap={class:"connect-bar"};function cp(e,o,t,c,r,l){const a=v("ConnectResult"),m=v("ConnectOption"),u=v("ServiceSelector"),p=v("HttpConnection"),d=v("SQLite"),f=v("Snowflake"),w=v("JDBCGuide"),A=v("JDBC"),L=v("S3"),te=v("Docker"),oe=v("SSH"),W=v("Kafka"),le=v("SQLServer"),X=v("FTP"),ue=v("Rdp"),x=v("MongoDB"),j=v("ClickHouse"),ee=v("HostAndPort"),ne=v("Redis"),re=v("MySQL"),fe=v("UsernameAndPassword"),ye=v("DatabaseAndAdvance"),C=v("ConnectionString"),q=v("Socks"),M=v("HTTPProxy"),B=v("vsc-button"),Q=v("AdvanceDialog"),z=v("SSLDialog");return i(),h("div",{class:"root-container flex mx-auto",onContextmenu:o[1]||(o[1]=Ve(ie=>l.onContextmenu(ie),["prevent"]))},[n("div",lp,[n("section",null,[n("img",{src:"icon.png",alt:"",class:"connect-logo",onClick:o[0]||(o[0]=ie=>e.emit("openSite"))}),n("h1",ip,b(e.$t("connect.title")),1)]),s(a),s(m),s(u),e.UI.activePanel=="Main"?(i(),h(K,{key:0},[["Loki","libSQL","TDengine","RabbitMQ","ElasticSearch"].includes(e.dbType)?(i(),P(p,{key:0})):["SQLite","DuckDB"].includes(e.dbType)?(i(),P(d,{key:1,dependency:e.option.dependency,onInstallDependency:l.installDependency,onChoose:l.choose},null,8,["dependency","onInstallDependency","onChoose"])):e.dbType=="Snowflake"?(i(),P(f,{key:2,dependency:e.option.dependency,onInstallDependency:l.installDependency,onChoose:l.choose},null,8,["dependency","onInstallDependency","onChoose"])):e.dbType=="JDBC"?(i(),h(K,{key:3},[s(w,{onInstallJdbc:l.installJdbc,onInstallJava:l.installJava},null,8,["onInstallJdbc","onInstallJava"]),s(A,{onChoose:l.choose},null,8,["onChoose"])],64)):e.dbType=="S3"?(i(),P(L,{key:4})):e.dbType=="Docker"?(i(),h(K,{key:5},[s(te,{hasLocalDocker:e.option.hasLocalDocker,onSendToVscode:l.sendToVscode},null,8,["hasLocalDocker","onSendToVscode"]),e.connectionOption.dockerConnType=="ssh"?(i(),P(oe,{key:0,onChoose:l.choose},null,8,["onChoose"])):T("",!0)],64)):e.dbType=="SSH"?(i(),P(oe,{key:6,ref:"ssh",sshMode:!0,onChoose:l.choose},null,8,["onChoose"])):e.dbType=="Kafka"?(i(),P(W,{key:7})):e.dbType=="SqlServer"?(i(),P(le,{key:8})):e.dbType=="FTP"?(i(),P(X,{key:9})):e.dbType=="RDP"?(i(),P(ue,{key:10})):e.dbType=="MongoDB"?(i(),P(x,{key:11})):e.dbType=="ClickHouse"?(i(),P(j,{key:12})):e.dbType=="Zookeeper"?(i(),P(ee,{key:13})):e.dbType=="Redis"?(i(),P(ne,{key:14})):["MariaDB","MySQL"].includes(e.dbType)?(i(),P(re,{key:15})):(i(),h(K,{key:16},[["Oracle","Db2","Cassandra"].includes(e.dbType)?(i(),P(w,{key:0,onInstallJdbc:l.installJdbc,onInstallJava:l.installJava},null,8,["onInstallJdbc","onInstallJava"])):T("",!0),s(C,null,{default:k(()=>[s(ee),s(fe),s(ye)]),_:1})],64))],64)):T("",!0),e.UI.activePanel=="SSH"?(i(),P(oe,{key:1,tunnelMode:!0,onChoose:l.choose},null,8,["onChoose"])):T("",!0),e.UI.activePanel=="Socks"?(i(),P(q,{key:2})):T("",!0),e.UI.activePanel=="HTTP"?(i(),P(M,{key:3})):T("",!0),n("div",ap,[s(B,{icon:"codicon-save",size:"small",onClick:l.saveConnect},{default:k(()=>[y(b(e.$t("connect.save")),1)]),_:1},8,["onClick"]),e.dbType!="RDP"?(i(),P(B,{key:0,icon:"codicon-add",size:"small",loading:e.connect.loading,onClick:l.tryConnect},{default:k(()=>[y(b(e.$t("connect.connecting")),1)]),_:1},8,["loading","onClick"])):T("",!0),s(B,{icon:"codicon-close",type:"secondary",onClick:l.close},{default:k(()=>[y(b(e.$t("common.close")),1)]),_:1},8,["onClick"])])]),s(Q,{ref:"advanceDialog",onSendToVscode:l.sendToVscode},null,8,["onSendToVscode"]),s(z,{ref:"sslDialog",onChoose:l.choose,onSendToVscode:l.sendToVscode},null,8,["onChoose","onSendToVscode"])],32)}const Mp=R(tp,[["render",cp],["__scopeId","data-v-00c3afa5"]]);export{Mp as default};
