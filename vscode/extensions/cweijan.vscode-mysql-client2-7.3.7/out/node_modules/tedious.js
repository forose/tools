"use strict";var O=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var it=O((so,rp)=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.default=void 0;var PA=(1<<16)*(1<<16),tp=1/PA,FA=Buffer.from([254,255,255,255,255,255,255,255]),np=Buffer.alloc(0),oo=class{constructor(e,r,o){this.initialSize=e,this.encoding=r||"ucs2",this.doubleSizeGrowth=o||!1,this.buffer=Buffer.alloc(this.initialSize,0),this.compositeBuffer=np,this.position=0}get data(){return this.newBuffer(0),this.compositeBuffer}copyFrom(e){let r=e.length;this.makeRoomFor(r),e.copy(this.buffer,this.position),this.position+=r}makeRoomFor(e){if(this.buffer.length-this.position<e)if(this.doubleSizeGrowth){let r=Math.max(128,this.buffer.length*2);for(;r<e;)r*=2;this.newBuffer(r)}else this.newBuffer(e)}newBuffer(e){let r=this.buffer.slice(0,this.position);this.compositeBuffer=Buffer.concat([this.compositeBuffer,r]),this.buffer=e===0?np:Buffer.alloc(e,0),this.position=0}writeUInt8(e){this.makeRoomFor(1),this.buffer.writeUInt8(e,this.position),this.position+=1}writeUInt16LE(e){this.makeRoomFor(2),this.buffer.writeUInt16LE(e,this.position),this.position+=2}writeUShort(e){this.writeUInt16LE(e)}writeUInt16BE(e){this.makeRoomFor(2),this.buffer.writeUInt16BE(e,this.position),this.position+=2}writeUInt24LE(e){this.makeRoomFor(3),this.buffer[this.position+2]=e>>>16&255,this.buffer[this.position+1]=e>>>8&255,this.buffer[this.position]=e&255,this.position+=3}writeUInt32LE(e){this.makeRoomFor(4),this.buffer.writeUInt32LE(e,this.position),this.position+=4}writeBigInt64LE(e){this.makeRoomFor(8),this.buffer.writeBigInt64LE(e,this.position),this.position+=8}writeInt64LE(e){this.writeBigInt64LE(BigInt(e))}writeUInt64LE(e){this.writeBigUInt64LE(BigInt(e))}writeBigUInt64LE(e){this.makeRoomFor(8),this.buffer.writeBigUInt64LE(e,this.position),this.position+=8}writeUInt32BE(e){this.makeRoomFor(4),this.buffer.writeUInt32BE(e,this.position),this.position+=4}writeUInt40LE(e){this.writeInt32LE(e&-1),this.writeUInt8(Math.floor(e*tp))}writeInt8(e){this.makeRoomFor(1),this.buffer.writeInt8(e,this.position),this.position+=1}writeInt16LE(e){this.makeRoomFor(2),this.buffer.writeInt16LE(e,this.position),this.position+=2}writeInt16BE(e){this.makeRoomFor(2),this.buffer.writeInt16BE(e,this.position),this.position+=2}writeInt32LE(e){this.makeRoomFor(4),this.buffer.writeInt32LE(e,this.position),this.position+=4}writeInt32BE(e){this.makeRoomFor(4),this.buffer.writeInt32BE(e,this.position),this.position+=4}writeFloatLE(e){this.makeRoomFor(4),this.buffer.writeFloatLE(e,this.position),this.position+=4}writeDoubleLE(e){this.makeRoomFor(8),this.buffer.writeDoubleLE(e,this.position),this.position+=8}writeString(e,r){r==null&&(r=this.encoding);let o=Buffer.byteLength(e,r);this.makeRoomFor(o),this.buffer.write(e,this.position,r),this.position+=o}writeBVarchar(e,r){this.writeUInt8(e.length),this.writeString(e,r)}writeUsVarchar(e,r){this.writeUInt16LE(e.length),this.writeString(e,r)}writeUsVarbyte(e,r){r==null&&(r=this.encoding);let o;e instanceof Buffer?o=e.length:(e=e.toString(),o=Buffer.byteLength(e,r)),this.writeUInt16LE(o),e instanceof Buffer?this.writeBuffer(e):(this.makeRoomFor(o),this.buffer.write(e,this.position,r),this.position+=o)}writePLPBody(e,r){r==null&&(r=this.encoding);let o;e instanceof Buffer?o=e.length:(e=e.toString(),o=Buffer.byteLength(e,r)),this.writeBuffer(FA),o>0&&(this.writeUInt32LE(o),e instanceof Buffer?this.writeBuffer(e):(this.makeRoomFor(o),this.buffer.write(e,this.position,r),this.position+=o)),this.writeUInt32LE(0)}writeBuffer(e){let r=e.length;this.makeRoomFor(r),e.copy(this.buffer,this.position),this.position+=r}writeMoney(e){this.writeInt32LE(Math.floor(e*tp)),this.writeInt32LE(e&-1)}},xA=oo;so.default=xA;rp.exports=oo});var We=O(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.Token=W.TYPE=W.SSPIToken=W.RowToken=W.RoutingEnvChangeToken=W.RollbackTransactionEnvChangeToken=W.ReturnValueToken=W.ReturnStatusToken=W.ResetConnectionEnvChangeToken=W.PacketSizeEnvChangeToken=W.OrderToken=W.NBCRowToken=W.LoginAckToken=W.LanguageEnvChangeToken=W.InfoMessageToken=W.FedAuthInfoToken=W.FeatureExtAckToken=W.ErrorMessageToken=W.DoneToken=W.DoneProcToken=W.DoneInProcToken=W.DatabaseMirroringPartnerEnvChangeToken=W.DatabaseEnvChangeToken=W.CommitTransactionEnvChangeToken=W.CollationChangeToken=W.ColMetadataToken=W.CharsetEnvChangeToken=W.BeginTransactionEnvChangeToken=void 0;var UA={ALTMETADATA:136,ALTROW:211,COLMETADATA:129,COLINFO:165,DONE:253,DONEPROC:254,DONEINPROC:255,ENVCHANGE:227,ERROR:170,FEATUREEXTACK:174,FEDAUTHINFO:238,INFO:171,LOGINACK:173,NBCROW:210,OFFSET:120,ORDER:169,RETURNSTATUS:121,RETURNVALUE:172,ROW:209,SSPI:237,TABNAME:164};W.TYPE=UA;var me=class{constructor(e,r){this.name=e,this.handlerName=r}};W.Token=me;var Vu=class extends me{constructor(e){super("COLMETADATA","onColMetadata"),this.columns=e}};W.ColMetadataToken=Vu;var Hu=class extends me{constructor({more:e,sqlError:r,attention:o,serverError:l,rowCount:c,curCmd:h}){super("DONE","onDone"),this.more=e,this.sqlError=r,this.attention=o,this.serverError=l,this.rowCount=c,this.curCmd=h}};W.DoneToken=Hu;var Wu=class extends me{constructor({more:e,sqlError:r,attention:o,serverError:l,rowCount:c,curCmd:h}){super("DONEINPROC","onDoneInProc"),this.more=e,this.sqlError=r,this.attention=o,this.serverError=l,this.rowCount=c,this.curCmd=h}};W.DoneInProcToken=Wu;var Gu=class extends me{constructor({more:e,sqlError:r,attention:o,serverError:l,rowCount:c,curCmd:h}){super("DONEPROC","onDoneProc"),this.more=e,this.sqlError=r,this.attention=o,this.serverError=l,this.rowCount=c,this.curCmd=h}};W.DoneProcToken=Gu;var $u=class extends me{constructor(e,r){super("ENVCHANGE","onDatabaseChange"),this.type="DATABASE",this.newValue=e,this.oldValue=r}};W.DatabaseEnvChangeToken=$u;var ju=class extends me{constructor(e,r){super("ENVCHANGE","onLanguageChange"),this.type="LANGUAGE",this.newValue=e,this.oldValue=r}};W.LanguageEnvChangeToken=ju;var Ku=class extends me{constructor(e,r){super("ENVCHANGE","onCharsetChange"),this.type="CHARSET",this.newValue=e,this.oldValue=r}};W.CharsetEnvChangeToken=Ku;var zu=class extends me{constructor(e,r){super("ENVCHANGE","onPacketSizeChange"),this.type="PACKET_SIZE",this.newValue=e,this.oldValue=r}};W.PacketSizeEnvChangeToken=zu;var Zu=class extends me{constructor(e,r){super("ENVCHANGE","onBeginTransaction"),this.type="BEGIN_TXN",this.newValue=e,this.oldValue=r}};W.BeginTransactionEnvChangeToken=Zu;var Xu=class extends me{constructor(e,r){super("ENVCHANGE","onCommitTransaction"),this.type="COMMIT_TXN",this.newValue=e,this.oldValue=r}};W.CommitTransactionEnvChangeToken=Xu;var Ju=class extends me{constructor(e,r){super("ENVCHANGE","onRollbackTransaction"),this.type="ROLLBACK_TXN",this.newValue=e,this.oldValue=r}};W.RollbackTransactionEnvChangeToken=Ju;var Qu=class extends me{constructor(e,r){super("ENVCHANGE","onDatabaseMirroringPartner"),this.type="DATABASE_MIRRORING_PARTNER",this.newValue=e,this.oldValue=r}};W.DatabaseMirroringPartnerEnvChangeToken=Qu;var el=class extends me{constructor(e,r){super("ENVCHANGE","onResetConnection"),this.type="RESET_CONNECTION",this.newValue=e,this.oldValue=r}};W.ResetConnectionEnvChangeToken=el;var tl=class extends me{constructor(e,r){super("ENVCHANGE","onSqlCollationChange"),this.type="SQL_COLLATION",this.newValue=e,this.oldValue=r}};W.CollationChangeToken=tl;var nl=class extends me{constructor(e,r){super("ENVCHANGE","onRoutingChange"),this.type="ROUTING_CHANGE",this.newValue=e,this.oldValue=r}};W.RoutingEnvChangeToken=nl;var rl=class extends me{constructor(e,r){super("FEATUREEXTACK","onFeatureExtAck"),this.fedAuth=e,this.utf8Support=r}};W.FeatureExtAckToken=rl;var il=class extends me{constructor(e,r){super("FEDAUTHINFO","onFedAuthInfo"),this.spn=e,this.stsurl=r}};W.FedAuthInfoToken=il;var ol=class extends me{constructor({number:e,state:r,class:o,message:l,serverName:c,procName:h,lineNumber:g}){super("INFO","onInfoMessage"),this.number=e,this.state=r,this.class=o,this.message=l,this.serverName=c,this.procName=h,this.lineNumber=g}};W.InfoMessageToken=ol;var sl=class extends me{constructor({number:e,state:r,class:o,message:l,serverName:c,procName:h,lineNumber:g}){super("ERROR","onErrorMessage"),this.number=e,this.state=r,this.class=o,this.message=l,this.serverName=c,this.procName=h,this.lineNumber=g}};W.ErrorMessageToken=sl;var al=class extends me{constructor({interface:e,tdsVersion:r,progName:o,progVersion:l}){super("LOGINACK","onLoginAck"),this.interface=e,this.tdsVersion=r,this.progName=o,this.progVersion=l}};W.LoginAckToken=al;var ul=class extends me{constructor(e){super("NBCROW","onRow"),this.columns=e}};W.NBCRowToken=ul;var ll=class extends me{constructor(e){super("ORDER","onOrder"),this.orderColumns=e}};W.OrderToken=ll;var cl=class extends me{constructor(e){super("RETURNSTATUS","onReturnStatus"),this.value=e}};W.ReturnStatusToken=cl;var fl=class extends me{constructor({paramOrdinal:e,paramName:r,metadata:o,value:l}){super("RETURNVALUE","onReturnValue"),this.paramOrdinal=e,this.paramName=r,this.metadata=o,this.value=l}};W.ReturnValueToken=fl;var hl=class extends me{constructor(e){super("ROW","onRow"),this.columns=e}};W.RowToken=hl;var dl=class extends me{constructor(e,r){super("SSPICHALLENGE","onSSPI"),this.ntlmpacket=e,this.ntlmpacketBuffer=r}};W.SSPIToken=dl});var ml=O((uo,op)=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.default=void 0;var kA=require("events"),ip=BA(it()),qA=require("stream"),_l=We();function BA(t){return t&&t.__esModule?t:{default:t}}var pl={nullable:1<<0,caseSen:1<<1,updateableReadWrite:1<<2,updateableUnknown:1<<3,identity:1<<4,computed:1<<5,fixedLenCLRType:1<<8,sparseColumnSet:1<<10,hidden:1<<13,key:1<<14,nullableUnknown:1<<15},YA={FINAL:0,MORE:1,ERROR:2,INXACT:4,COUNT:16,ATTN:32,SRVERROR:256},VA=Buffer.from([_l.TYPE.ROW]),HA=Buffer.from([16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),WA=Buffer.from([0]),gl=class extends qA.Transform{constructor(e){super({writableObjectMode:!0}),this.bulkLoad=e,this.mainOptions=e.options,this.columns=e.columns,this.columnMetadataWritten=!1}_transform(e,r,o){this.columnMetadataWritten||(this.push(this.bulkLoad.getColMetaData()),this.columnMetadataWritten=!0),this.push(VA);for(let l=0;l<this.columns.length;l++){let c=this.columns[l],h=Array.isArray(e)?e[l]:e[c.objName];if(!this.bulkLoad.firstRowWritten)try{h=c.type.validate(h,c.collation)}catch(m){return o(m)}let g={length:c.length,scale:c.scale,precision:c.precision,value:h};if(c.type.name==="Text"||c.type.name==="Image"||c.type.name==="NText"){if(h==null){this.push(WA);continue}this.push(HA)}this.push(c.type.generateParameterLength(g,this.mainOptions));for(let m of c.type.generateParameterData(g,this.mainOptions))this.push(m)}process.nextTick(o)}_flush(e){this.push(this.bulkLoad.createDoneToken()),process.nextTick(e)}},ao=class extends kA.EventEmitter{constructor(e,r,o,{checkConstraints:l=!1,fireTriggers:c=!1,keepNulls:h=!1,lockTable:g=!1,order:m={}},T){if(typeof l!="boolean")throw new TypeError('The "options.checkConstraints" property must be of type boolean.');if(typeof c!="boolean")throw new TypeError('The "options.fireTriggers" property must be of type boolean.');if(typeof h!="boolean")throw new TypeError('The "options.keepNulls" property must be of type boolean.');if(typeof g!="boolean")throw new TypeError('The "options.lockTable" property must be of type boolean.');if(typeof m!="object"||m===null)throw new TypeError('The "options.order" property must be of type object.');for(let[N,A]of Object.entries(m))if(A!=="ASC"&&A!=="DESC")throw new TypeError('The value of the "'+N+'" key in the "options.order" object must be either "ASC" or "DESC".');super(),this.error=void 0,this.canceled=!1,this.executionStarted=!1,this.collation=r,this.table=e,this.options=o,this.callback=T,this.columns=[],this.columnsByName={},this.firstRowWritten=!1,this.streamingMode=!1,this.rowToPacketTransform=new gl(this),this.bulkOptions={checkConstraints:l,fireTriggers:c,keepNulls:h,lockTable:g,order:m}}addColumn(e,r,{output:o=!1,length:l,precision:c,scale:h,objName:g=e,nullable:m=!0}){if(this.firstRowWritten)throw new Error("Columns cannot be added to bulk insert after the first row has been written.");if(this.executionStarted)throw new Error("Columns cannot be added to bulk insert after execution has started.");let T={type:r,name:e,value:null,output:o,length:l,precision:c,scale:h,objName:g,nullable:m,collation:this.collation};(r.id&48)===32&&T.length==null&&r.resolveLength&&(T.length=r.resolveLength(T)),r.resolvePrecision&&T.precision==null&&(T.precision=r.resolvePrecision(T)),r.resolveScale&&T.scale==null&&(T.scale=r.resolveScale(T)),this.columns.push(T),this.columnsByName[e]=T}getOptionsSql(){let e=[];if(this.bulkOptions.checkConstraints&&e.push("CHECK_CONSTRAINTS"),this.bulkOptions.fireTriggers&&e.push("FIRE_TRIGGERS"),this.bulkOptions.keepNulls&&e.push("KEEP_NULLS"),this.bulkOptions.lockTable&&e.push("TABLOCK"),this.bulkOptions.order){let r=[];for(let[o,l]of Object.entries(this.bulkOptions.order))r.push(`${o} ${l}`);r.length&&e.push(`ORDER (${r.join(", ")})`)}return e.length>0?` WITH (${e.join(",")})`:""}getBulkInsertSql(){let e="insert bulk "+this.table+"(";for(let r=0,o=this.columns.length;r<o;r++){let l=this.columns[r];r!==0&&(e+=", "),e+="["+l.name+"] "+l.type.declaration(l)}return e+=")",e+=this.getOptionsSql(),e}getTableCreationSql(){let e="CREATE TABLE "+this.table+`(
`;for(let r=0,o=this.columns.length;r<o;r++){let l=this.columns[r];r!==0&&(e+=`,
`),e+="["+l.name+"] "+l.type.declaration(l),l.nullable!==void 0&&(e+=" "+(l.nullable?"NULL":"NOT NULL"))}return e+=`
)`,e}getColMetaData(){let e=new ip.default(100,null,!0);e.writeUInt8(_l.TYPE.COLMETADATA),e.writeUInt16LE(this.columns.length);for(let r=0,o=this.columns.length;r<o;r++){let l=this.columns[r];this.options.tdsVersion<"7_2"?e.writeUInt16LE(0):e.writeUInt32LE(0);let c=pl.updateableReadWrite;l.nullable?c|=pl.nullable:l.nullable===void 0&&this.options.tdsVersion>="7_2"&&(c|=pl.nullableUnknown),e.writeUInt16LE(c),e.writeBuffer(l.type.generateTypeInfo(l,this.options)),l.type.hasTableName&&e.writeUsVarchar(this.table,"ucs2"),e.writeBVarchar(l.name,"ucs2")}return e.data}setTimeout(e){this.timeout=e}createDoneToken(){let e=new ip.default(this.options.tdsVersion<"7_2"?9:13);e.writeUInt8(_l.TYPE.DONE);let r=YA.FINAL;return e.writeUInt16LE(r),e.writeUInt16LE(0),e.writeUInt32LE(0),this.options.tdsVersion>="7_2"&&e.writeUInt32LE(0),e.data}cancel(){this.canceled||(this.canceled=!0,this.emit("cancel"))}},GA=ao;uo.default=GA;op.exports=ao});var ap=O((JY,sp)=>{sp.exports={}});var cp=O((co,lp)=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.default=void 0;var $A=require("events"),jA=KA(require("util"));function up(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(up=function(o){return o?r:e})(t)}function KA(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=up(e);if(r&&r.has(t))return r.get(t);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(c!=="default"&&Object.prototype.hasOwnProperty.call(t,c)){var h=l?Object.getOwnPropertyDescriptor(t,c):null;h&&(h.get||h.set)?Object.defineProperty(o,c,h):o[c]=t[c]}return o.default=t,r&&r.set(t,o),o}var lo=class extends $A.EventEmitter{constructor({data:e=!1,payload:r=!1,packet:o=!1,token:l=!1}={}){super(),this.options={data:e,payload:r,packet:o,token:l},this.indent="  "}packet(e,r){this.haveListeners()&&this.options.packet&&(this.log(""),this.log(e),this.log(r.headerToString(this.indent)))}data(e){this.haveListeners()&&this.options.data&&this.log(e.dataToString(this.indent))}payload(e){this.haveListeners()&&this.options.payload&&this.log(e())}token(e){this.haveListeners()&&this.options.token&&this.log(jA.inspect(e,{showHidden:!1,depth:5,colors:!0}))}haveListeners(){return this.listeners("debug").length>0}log(e){this.emit("debug",e)}},zA=lo;co.default=zA;lp.exports=lo});var ho=O(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.default=void 0;var El=class extends Error{constructor(){super("The operation was aborted"),this.code="ABORT_ERR",this.name="AbortError"}};fo.default=El});var dp=O(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.sendInParallel=hp;go.sendMessage=JA;var ZA=_o(require("dgram")),fp=_o(require("net")),XA=_o(require("node:url")),po=_o(ho());function _o(t){return t&&t.__esModule?t:{default:t}}async function hp(t,e,r,o){if(o.aborted)throw new po.default;return await new Promise((l,c)=>{let h=[],g=0,m=R=>{g++,g===t.length&&(o.removeEventListener("abort",N),A(),c(R))},T=R=>{o.removeEventListener("abort",N),A(),l(R)},N=()=>{A(),c(new po.default)},A=()=>{for(let R of h)R.removeListener("error",m),R.removeListener("message",T),R.close()};o.addEventListener("abort",N,{once:!0});for(let R=0;R<t.length;R++){let F=t[R].family===6?"udp6":"udp4",P=ZA.default.createSocket(F);h.push(P),P.on("error",m),P.on("message",T),P.send(r,0,r.length,e,t[R].address)}})}async function JA(t,e,r,o,l){if(o.aborted)throw new po.default;let c;return fp.default.isIP(t)?c=[{address:t,family:fp.default.isIPv6(t)?6:4}]:c=await new Promise((h,g)=>{let m=()=>{g(new po.default)};o.addEventListener("abort",m),r(XA.default.domainToASCII(t),{all:!0},(T,N)=>{o.removeEventListener("abort",m),T?g(T):h(N)})}),await hp(c,e,l,o)}});var yl=O((tV,pp)=>{var{EventEmitter:QA}=require("events"),mo=class{constructor(){this.eventEmitter=new QA,this.onabort=null,this.aborted=!1,this.reason=void 0}toString(){return"[object AbortSignal]"}get[Symbol.toStringTag](){return"AbortSignal"}removeEventListener(e,r){this.eventEmitter.removeListener(e,r)}addEventListener(e,r){this.eventEmitter.on(e,r)}dispatchEvent(e){let r={type:e,target:this},o=`on${e}`;typeof this[o]=="function"&&this[o](r),this.eventEmitter.emit(e,r)}throwIfAborted(){if(this.aborted)throw this.reason}static abort(e){let r=new Xr;return r.abort(),r.signal}static timeout(e){let r=new Xr;return setTimeout(()=>r.abort(new Error("TimeoutError")),e),r.signal}},Xr=class{constructor(){this.signal=new mo}abort(e){this.signal.aborted||(this.signal.aborted=!0,e?this.signal.reason=e:this.signal.reason=new Error("AbortError"),this.signal.dispatchEvent("abort"))}toString(){return"[object AbortController]"}get[Symbol.toStringTag](){return"AbortController"}};pp.exports={AbortController:Xr,AbortSignal:mo}});var _p=O(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.default=void 0;var wl=class extends Error{constructor(){super("The operation was aborted due to timeout"),this.code="TIMEOUT_ERR",this.name="TimeoutError"}};Eo.default=wl});var gp=O(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.withTimeout=rI;var eI=yl(),tI=nI(_p());function nI(t){return t&&t.__esModule?t:{default:t}}async function rI(t,e,r){let o=new eI.AbortController,l=()=>{o.abort()},c=setTimeout(l,t);r?.addEventListener("abort",l,{once:!0});try{return await e(o.signal)}catch(h){throw h instanceof Error&&h.name==="AbortError"&&!(r&&r.aborted)?new tI.default:h}finally{r?.removeEventListener("abort",l),clearTimeout(c)}}});var yp=O(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.instanceLookup=hI;yo.parseBrowserResponse=Ep;var iI=mp(require("dns")),oI=mp(ho()),sI=dp(),aI=gp();function mp(t){return t&&t.__esModule?t:{default:t}}var uI=1434,lI=2*1e3,cI=3,fI=3;async function hI(t){let e=t.server;if(typeof e!="string")throw new TypeError('Invalid arguments: "server" must be a string');let r=t.instanceName;if(typeof r!="string")throw new TypeError('Invalid arguments: "instanceName" must be a string');let o=t.timeout===void 0?lI:t.timeout;if(typeof o!="number")throw new TypeError('Invalid arguments: "timeout" must be a number');let l=t.retries===void 0?cI:t.retries;if(typeof l!="number")throw new TypeError('Invalid arguments: "retries" must be a number');if(t.lookup!==void 0&&typeof t.lookup!="function")throw new TypeError('Invalid arguments: "lookup" must be a function');let c=t.lookup??iI.default.lookup;if(t.port!==void 0&&typeof t.port!="number")throw new TypeError('Invalid arguments: "port" must be a number');let h=t.port??uI,g=t.signal;if(g.aborted)throw new oI.default;let m;for(let A=0;A<=l;A++)try{m=await(0,aI.withTimeout)(o,async R=>{let F=Buffer.from([2]);return await(0,sI.sendMessage)(t.server,h,c,R,F)},g)}catch(R){if(!g.aborted&&R instanceof Error&&R.name==="TimeoutError")continue;throw R}if(!m)throw new Error("Failed to get response from SQL Server Browser on "+e);let T=m.toString("ascii",fI),N=Ep(T,r);if(!N)throw new Error("Port for "+r+" not found in "+t.server);return N}function Ep(t,e){let r,o=t.split(";;");for(let l=0,c=o.length;l<c;l++){let g=o[l].split(";");for(let m=0,T=g.length;m<T;m+=2){let N=g[m],A=g[m+1];if(N==="tcp"&&r)return parseInt(A,10);N==="InstanceName"&&(A.toUpperCase()===e.toUpperCase()?r=!0:r=!1)}}}});var wp=O(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.TransientErrorLookup=void 0;var Tl=class{isTransientError(e){return[4060,10928,10929,40197,40501,40613].indexOf(e)!==-1}};wo.TransientErrorLookup=Tl});var rr=O(vo=>{(function(){"use strict";var t={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function e(h){return o(c(h),arguments)}function r(h,g){return e.apply(null,[h].concat(g||[]))}function o(h,g){var m=1,T=h.length,N,A="",R,F,P,y,U,S,L,I;for(R=0;R<T;R++)if(typeof h[R]=="string")A+=h[R];else if(typeof h[R]=="object"){if(P=h[R],P.keys)for(N=g[m],F=0;F<P.keys.length;F++){if(N==null)throw new Error(e('[sprintf] Cannot access property "%s" of undefined value "%s"',P.keys[F],P.keys[F-1]));N=N[P.keys[F]]}else P.param_no?N=g[P.param_no]:N=g[m++];if(t.not_type.test(P.type)&&t.not_primitive.test(P.type)&&N instanceof Function&&(N=N()),t.numeric_arg.test(P.type)&&typeof N!="number"&&isNaN(N))throw new TypeError(e("[sprintf] expecting number but found %T",N));switch(t.number.test(P.type)&&(L=N>=0),P.type){case"b":N=parseInt(N,10).toString(2);break;case"c":N=String.fromCharCode(parseInt(N,10));break;case"d":case"i":N=parseInt(N,10);break;case"j":N=JSON.stringify(N,null,P.width?parseInt(P.width):0);break;case"e":N=P.precision?parseFloat(N).toExponential(P.precision):parseFloat(N).toExponential();break;case"f":N=P.precision?parseFloat(N).toFixed(P.precision):parseFloat(N);break;case"g":N=P.precision?String(Number(N.toPrecision(P.precision))):parseFloat(N);break;case"o":N=(parseInt(N,10)>>>0).toString(8);break;case"s":N=String(N),N=P.precision?N.substring(0,P.precision):N;break;case"t":N=String(!!N),N=P.precision?N.substring(0,P.precision):N;break;case"T":N=Object.prototype.toString.call(N).slice(8,-1).toLowerCase(),N=P.precision?N.substring(0,P.precision):N;break;case"u":N=parseInt(N,10)>>>0;break;case"v":N=N.valueOf(),N=P.precision?N.substring(0,P.precision):N;break;case"x":N=(parseInt(N,10)>>>0).toString(16);break;case"X":N=(parseInt(N,10)>>>0).toString(16).toUpperCase();break}t.json.test(P.type)?A+=N:(t.number.test(P.type)&&(!L||P.sign)?(I=L?"+":"-",N=N.toString().replace(t.sign,"")):I="",U=P.pad_char?P.pad_char==="0"?"0":P.pad_char.charAt(1):" ",S=P.width-(I+N).length,y=P.width&&S>0?U.repeat(S):"",A+=P.align?I+N+y:U==="0"?I+y+N:y+I+N)}return A}var l=Object.create(null);function c(h){if(l[h])return l[h];for(var g=h,m,T=[],N=0;g;){if((m=t.text.exec(g))!==null)T.push(m[0]);else if((m=t.modulo.exec(g))!==null)T.push("%");else if((m=t.placeholder.exec(g))!==null){if(m[2]){N|=1;var A=[],R=m[2],F=[];if((F=t.key.exec(R))!==null)for(A.push(F[1]);(R=R.substring(F[0].length))!=="";)if((F=t.key_access.exec(R))!==null)A.push(F[1]);else if((F=t.index_access.exec(R))!==null)A.push(F[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");m[2]=A}else N|=2;if(N===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");T.push({placeholder:m[0],param_no:m[1],keys:m[2],sign:m[3],pad_char:m[4],align:m[5],width:m[6],precision:m[7],type:m[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");g=g.substring(m[0].length)}return l[h]=T}typeof vo<"u"&&(vo.sprintf=e,vo.vsprintf=r),typeof window<"u"&&(window.sprintf=e,window.vsprintf=r,typeof define=="function"&&define.amd&&define(function(){return{sprintf:e,vsprintf:r}}))})()});var Jr=O(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.TYPE=mt.Packet=mt.OFFSET=mt.HEADER_LENGTH=void 0;mt.isPacketComplete=mI;mt.packetLength=EI;var Sl=rr(),To=8;mt.HEADER_LENGTH=To;var Nl={SQL_BATCH:1,RPC_REQUEST:3,TABULAR_RESULT:4,ATTENTION:6,BULK_LOAD:7,TRANSACTION_MANAGER:14,LOGIN7:16,NTLMAUTH_PKT:17,PRELOGIN:18,FEDAUTH_TOKEN:8};mt.TYPE=Nl;var vp={};for(let t in Nl)vp[Nl[t]]=t;var Ut={NORMAL:0,EOM:1,IGNORE:2,RESETCONNECTION:8,RESETCONNECTIONSKIPTRAN:16},Ee={Type:0,Status:1,Length:2,SPID:4,PacketID:6,Window:7};mt.OFFSET=Ee;var dI=0,pI=1,_I=0,gI=`
`,Ol=class{constructor(e){if(e instanceof Buffer)this.buffer=e;else{let r=e;this.buffer=Buffer.alloc(To,0),this.buffer.writeUInt8(r,Ee.Type),this.buffer.writeUInt8(Ut.NORMAL,Ee.Status),this.buffer.writeUInt16BE(dI,Ee.SPID),this.buffer.writeUInt8(pI,Ee.PacketID),this.buffer.writeUInt8(_I,Ee.Window),this.setLength()}}setLength(){this.buffer.writeUInt16BE(this.buffer.length,Ee.Length)}length(){return this.buffer.readUInt16BE(Ee.Length)}resetConnection(e){let r=this.buffer.readUInt8(Ee.Status);e?r|=Ut.RESETCONNECTION:r&=255-Ut.RESETCONNECTION,this.buffer.writeUInt8(r,Ee.Status)}last(e){let r=this.buffer.readUInt8(Ee.Status);return arguments.length>0&&(e?r|=Ut.EOM:r&=255-Ut.EOM,this.buffer.writeUInt8(r,Ee.Status)),this.isLast()}ignore(e){let r=this.buffer.readUInt8(Ee.Status);e?r|=Ut.IGNORE:r&=255-Ut.IGNORE,this.buffer.writeUInt8(r,Ee.Status)}isLast(){return!!(this.buffer.readUInt8(Ee.Status)&Ut.EOM)}packetId(e){return e&&this.buffer.writeUInt8(e%256,Ee.PacketID),this.buffer.readUInt8(Ee.PacketID)}addData(e){return this.buffer=Buffer.concat([this.buffer,e]),this.setLength(),this}data(){return this.buffer.slice(To)}type(){return this.buffer.readUInt8(Ee.Type)}statusAsString(){let e=this.buffer.readUInt8(Ee.Status),r=[];for(let o in Ut){let l=Ut[o];e&l?r.push(o):r.push(void 0)}return r.join(" ").trim()}headerToString(e=""){let r=(0,Sl.sprintf)("type:0x%02X(%s), status:0x%02X(%s), length:0x%04X, spid:0x%04X, packetId:0x%02X, window:0x%02X",this.buffer.readUInt8(Ee.Type),vp[this.buffer.readUInt8(Ee.Type)],this.buffer.readUInt8(Ee.Status),this.statusAsString(),this.buffer.readUInt16BE(Ee.Length),this.buffer.readUInt16BE(Ee.SPID),this.buffer.readUInt8(Ee.PacketID),this.buffer.readUInt8(Ee.Window));return e+r}dataToString(e=""){let c=this.data(),h="",g="";for(let m=0;m<c.length;m++)m%32===0&&(h+=e,h+=(0,Sl.sprintf)("%04X  ",m)),c[m]<32||c[m]>126?(g+=".",(m+1)%8===0&&(m+1)%32!==0&&(g+=" ")):g+=String.fromCharCode(c[m]),c[m]!=null&&(h+=(0,Sl.sprintf)("%02X",c[m])),(m+1)%4===0&&(m+1)%32!==0&&(h+=" "),(m+1)%32===0&&(h+="  "+g,g="",m<c.length-1&&(h+=gI));return g.length&&(h+="  "+g),h}toString(e=""){return this.headerToString(e)+`
`+this.dataToString(e+e)}payloadString(){return""}};mt.Packet=Ol;function mI(t){return t.length<To?!1:t.length>=t.readUInt16BE(Ee.Length)}function EI(t){return t.readUInt16BE(Ee.Length)}});var Op=O((Oo,Np)=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.default=void 0;var yI=rr(),ir=wI(it());function wI(t){return t&&t.__esModule?t:{default:t}}var or=20,ot={VERSION:0,ENCRYPTION:1,INSTOPT:2,THREADID:3,MARS:4,FEDAUTHREQUIRED:6,TERMINATOR:255},So={OFF:0,ON:1,NOT_SUP:2,REQ:3},Tp={};for(let t in So){let e=So[t];Tp[e]=t}var Al={OFF:0,ON:1},Sp={};for(let t in Al){let e=Al[t];Sp[e]=t}var No=class{constructor(e={encrypt:!1,version:{major:0,minor:0,build:0,subbuild:0}}){e instanceof Buffer?(this.data=e,this.options={encrypt:!1,version:{major:0,minor:0,build:0,subbuild:0}}):(this.options=e,this.createOptions()),this.extractOptions()}createOptions(){let e=[this.createVersionOption(),this.createEncryptionOption(),this.createInstanceOption(),this.createThreadIdOption(),this.createMarsOption(),this.createFedAuthOption()],r=0;for(let c=0,h=e.length;c<h;c++){let g=e[c];r+=5+g.data.length}r++,this.data=Buffer.alloc(r,0);let o=0,l=5*e.length+1;for(let c=0,h=e.length;c<h;c++){let g=e[c];this.data.writeUInt8(g.token,o+0),this.data.writeUInt16BE(l,o+1),this.data.writeUInt16BE(g.data.length,o+3),o+=5,g.data.copy(this.data,l),l+=g.data.length}this.data.writeUInt8(ot.TERMINATOR,o)}createVersionOption(){let e=new ir.default(or);return e.writeUInt8(this.options.version.major),e.writeUInt8(this.options.version.minor),e.writeUInt16BE(this.options.version.build),e.writeUInt16BE(this.options.version.subbuild),{token:ot.VERSION,data:e.data}}createEncryptionOption(){let e=new ir.default(or);return this.options.encrypt?e.writeUInt8(So.ON):e.writeUInt8(So.NOT_SUP),{token:ot.ENCRYPTION,data:e.data}}createInstanceOption(){let e=new ir.default(or);return e.writeUInt8(0),{token:ot.INSTOPT,data:e.data}}createThreadIdOption(){let e=new ir.default(or);return e.writeUInt32BE(0),{token:ot.THREADID,data:e.data}}createMarsOption(){let e=new ir.default(or);return e.writeUInt8(Al.OFF),{token:ot.MARS,data:e.data}}createFedAuthOption(){let e=new ir.default(or);return e.writeUInt8(1),{token:ot.FEDAUTHREQUIRED,data:e.data}}extractOptions(){let e=0;for(;this.data[e]!==ot.TERMINATOR;){let r=this.data.readUInt16BE(e+1),o=this.data.readUInt16BE(e+3);switch(this.data[e]){case ot.VERSION:this.extractVersion(r);break;case ot.ENCRYPTION:this.extractEncryption(r);break;case ot.INSTOPT:this.extractInstance(r);break;case ot.THREADID:o>0&&this.extractThreadId(r);break;case ot.MARS:this.extractMars(r);break;case ot.FEDAUTHREQUIRED:this.extractFedAuth(r);break}e+=5,r+=o}}extractVersion(e){this.version={major:this.data.readUInt8(e+0),minor:this.data.readUInt8(e+1),build:this.data.readUInt16BE(e+2),subbuild:this.data.readUInt16BE(e+4)}}extractEncryption(e){this.encryption=this.data.readUInt8(e),this.encryptionString=Tp[this.encryption]}extractInstance(e){this.instance=this.data.readUInt8(e)}extractThreadId(e){this.threadId=this.data.readUInt32BE(e)}extractMars(e){this.mars=this.data.readUInt8(e),this.marsString=Sp[this.mars]}extractFedAuth(e){this.fedAuthRequired=this.data.readUInt8(e)}toString(e=""){return e+"PreLogin - "+(0,yI.sprintf)("version:%d.%d.%d.%d, encryption:0x%02X(%s), instopt:0x%02X, threadId:0x%08X, mars:0x%02X(%s)",this.version.major,this.version.minor,this.version.build,this.version.subbuild,this.encryption?this.encryption:0,this.encryptionString?this.encryptionString:"",this.instance?this.instance:0,this.threadId?this.threadId:0,this.mars?this.mars:0,this.marsString?this.marsString:"")}},vI=No;Oo.default=vI;Np.exports=No});var Qr=O(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.versionsByValue=sr.versions=void 0;var Il={"7_1":1895825409,"7_2":1913192450,"7_3_A":1930035203,"7_3_B":1930100739,"7_4":1946157060,"8_0":134217728};sr.versions=Il;var Ap={};sr.versionsByValue=Ap;for(let t in Il)Ap[Il[t]]=t});var bp=O((Do,Ip)=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.default=void 0;var Ao=rr(),TI=Qr(),cn={ENDIAN_LITTLE:0,ENDIAN_BIG:1,CHARSET_ASCII:0,CHARSET_EBCDIC:2,FLOAT_IEEE_754:0,FLOAT_VAX:4,FLOAT_ND5000:8,BCP_DUMPLOAD_ON:0,BCP_DUMPLOAD_OFF:16,USE_DB_ON:0,USE_DB_OFF:32,INIT_DB_WARN:0,INIT_DB_FATAL:64,SET_LANG_WARN_OFF:0,SET_LANG_WARN_ON:128},ei={INIT_LANG_WARN:0,INIT_LANG_FATAL:1,ODBC_OFF:0,ODBC_ON:2,F_TRAN_BOUNDARY:4,F_CACHE_CONNECT:8,USER_NORMAL:0,USER_SERVER:16,USER_REMUSER:32,USER_SQLREPL:64,INTEGRATED_SECURITY_OFF:0,INTEGRATED_SECURITY_ON:128},Io={SQL_DFLT:0,SQL_TSQL:8,OLEDB_OFF:0,OLEDB_ON:16,READ_WRITE_INTENT:0,READ_ONLY_INTENT:32},bl={CHANGE_PASSWORD_NO:0,CHANGE_PASSWORD_YES:1,BINARY_XML:2,SPAWN_USER_INSTANCE:4,UNKNOWN_COLLATION_HANDLING:8,EXTENSION_USED:16},en={FEATURE_ID:2,LIBRARY_SECURITYTOKEN:1,LIBRARY_ADAL:2,FEDAUTH_YES_ECHO:1,FEDAUTH_NO_ECHO:0,ADAL_WORKFLOW_USER_PASS:1,ADAL_WORKFLOW_INTEGRATED:2},SI=255,bo=class{constructor({tdsVersion:e,packetSize:r,clientProgVer:o,clientPid:l,connectionId:c,clientTimeZone:h,clientLcid:g}){this.tdsVersion=e,this.packetSize=r,this.clientProgVer=o,this.clientPid=l,this.connectionId=c,this.clientTimeZone=h,this.clientLcid=g,this.readOnlyIntent=!1,this.initDbFatal=!1,this.fedAuth=void 0,this.userName=void 0,this.password=void 0,this.serverName=void 0,this.appName=void 0,this.hostname=void 0,this.libraryName=void 0,this.language=void 0,this.database=void 0,this.clientId=void 0,this.sspi=void 0,this.attachDbFile=void 0,this.changePassword=void 0}toBuffer(){let e=Buffer.alloc(94),r=[e],o=0,l=e.length;if(o=e.writeUInt32LE(0,o),o=e.writeUInt32LE(this.tdsVersion,o),o=e.writeUInt32LE(this.packetSize,o),o=e.writeUInt32LE(this.clientProgVer,o),o=e.writeUInt32LE(this.clientPid,o),o=e.writeUInt32LE(this.connectionId,o),o=e.writeUInt8(this.buildOptionFlags1(),o),o=e.writeUInt8(this.buildOptionFlags2(),o),o=e.writeUInt8(this.buildTypeFlags(),o),o=e.writeUInt8(this.buildOptionFlags3(),o),o=e.writeInt32LE(this.clientTimeZone,o),o=e.writeUInt32LE(this.clientLcid,o),o=e.writeUInt16LE(l,o),this.hostname){let m=Buffer.from(this.hostname,"ucs2");o=e.writeUInt16LE(m.length/2,o),l+=m.length,r.push(m)}else o=e.writeUInt16LE(l,o);if(o=e.writeUInt16LE(l,o),this.userName){let m=Buffer.from(this.userName,"ucs2");o=e.writeUInt16LE(m.length/2,o),l+=m.length,r.push(m)}else o=e.writeUInt16LE(0,o);if(o=e.writeUInt16LE(l,o),this.password){let m=Buffer.from(this.password,"ucs2");o=e.writeUInt16LE(m.length/2,o),l+=m.length,r.push(this.scramblePassword(m))}else o=e.writeUInt16LE(0,o);if(o=e.writeUInt16LE(l,o),this.appName){let m=Buffer.from(this.appName,"ucs2");o=e.writeUInt16LE(m.length/2,o),l+=m.length,r.push(m)}else o=e.writeUInt16LE(0,o);if(o=e.writeUInt16LE(l,o),this.serverName){let m=Buffer.from(this.serverName,"ucs2");o=e.writeUInt16LE(m.length/2,o),l+=m.length,r.push(m)}else o=e.writeUInt16LE(0,o);o=e.writeUInt16LE(l,o);let c=this.buildFeatureExt();o=e.writeUInt16LE(4,o);let h=Buffer.alloc(4);if(h.writeUInt32LE(l+=4,0),l+=c.length,r.push(h,c),o=e.writeUInt16LE(l,o),this.libraryName){let m=Buffer.from(this.libraryName,"ucs2");o=e.writeUInt16LE(m.length/2,o),l+=m.length,r.push(m)}else o=e.writeUInt16LE(0,o);if(o=e.writeUInt16LE(l,o),this.language){let m=Buffer.from(this.language,"ucs2");o=e.writeUInt16LE(m.length/2,o),l+=m.length,r.push(m)}else o=e.writeUInt16LE(0,o);if(o=e.writeUInt16LE(l,o),this.database){let m=Buffer.from(this.database,"ucs2");o=e.writeUInt16LE(m.length/2,o),l+=m.length,r.push(m)}else o=e.writeUInt16LE(0,o);if(this.clientId&&this.clientId.copy(e,o,0,6),o+=6,o=e.writeUInt16LE(l,o),this.sspi?(this.sspi.length>65535?o=e.writeUInt16LE(65535,o):o=e.writeUInt16LE(this.sspi.length,o),r.push(this.sspi)):o=e.writeUInt16LE(0,o),o=e.writeUInt16LE(l,o),this.attachDbFile){let m=Buffer.from(this.attachDbFile,"ucs2");o=e.writeUInt16LE(m.length/2,o),l+=m.length,r.push(m)}else o=e.writeUInt16LE(0,o);if(o=e.writeUInt16LE(l,o),this.changePassword){let m=Buffer.from(this.changePassword,"ucs2");o=e.writeUInt16LE(m.length/2,o),l+=m.length,r.push(m)}else o=e.writeUInt16LE(0,o);this.sspi&&this.sspi.length>65535?e.writeUInt32LE(this.sspi.length,o):e.writeUInt32LE(0,o);let g=Buffer.concat(r);return g.writeUInt32LE(g.length,0),g}buildOptionFlags1(){let e=cn.ENDIAN_LITTLE|cn.CHARSET_ASCII|cn.FLOAT_IEEE_754|cn.BCP_DUMPLOAD_OFF|cn.USE_DB_OFF|cn.SET_LANG_WARN_ON;return this.initDbFatal?e|=cn.INIT_DB_FATAL:e|=cn.INIT_DB_WARN,e}buildFeatureExt(){let e=[],r=this.fedAuth;if(r)switch(r.type){case"ADAL":let o=Buffer.alloc(7);o.writeUInt8(en.FEATURE_ID,0),o.writeUInt32LE(2,1),o.writeUInt8(en.LIBRARY_ADAL<<1|(r.echo?en.FEDAUTH_YES_ECHO:en.FEDAUTH_NO_ECHO),5),o.writeUInt8(r.workflow==="integrated"?2:en.ADAL_WORKFLOW_USER_PASS,6),e.push(o);break;case"SECURITYTOKEN":let l=Buffer.from(r.fedAuthToken,"ucs2"),c=Buffer.alloc(10),h=0;h=c.writeUInt8(en.FEATURE_ID,h),h=c.writeUInt32LE(l.length+4+1,h),h=c.writeUInt8(en.LIBRARY_SECURITYTOKEN<<1|(r.echo?en.FEDAUTH_YES_ECHO:en.FEDAUTH_NO_ECHO),h),c.writeInt32LE(l.length,h),e.push(c),e.push(l);break}if(this.tdsVersion>=TI.versions["7_4"]){let c=Buffer.alloc(6);c.writeUInt8(10,0),c.writeUInt32LE(1,1),c.writeUInt8(1,5),e.push(c)}return e.push(Buffer.from([SI])),Buffer.concat(e)}buildOptionFlags2(){let e=ei.INIT_LANG_WARN|ei.ODBC_OFF|ei.USER_NORMAL;return this.sspi?e|=ei.INTEGRATED_SECURITY_ON:e|=ei.INTEGRATED_SECURITY_OFF,e}buildTypeFlags(){let e=Io.SQL_DFLT|Io.OLEDB_OFF;return this.readOnlyIntent?e|=Io.READ_ONLY_INTENT:e|=Io.READ_WRITE_INTENT,e}buildOptionFlags3(){return bl.CHANGE_PASSWORD_NO|bl.UNKNOWN_COLLATION_HANDLING|bl.EXTENSION_USED}scramblePassword(e){for(let r=0,o=e.length;r<o;r++){let l=e[r],c=l&15,h=l>>4;l=c<<4|h,l=l^165,e[r]=l}return e}toString(e=""){return e+"Login7 - "+(0,Ao.sprintf)("TDS:0x%08X, PacketSize:0x%08X, ClientProgVer:0x%08X, ClientPID:0x%08X, ConnectionID:0x%08X",this.tdsVersion,this.packetSize,this.clientProgVer,this.clientPid,this.connectionId)+`
`+e+"         "+(0,Ao.sprintf)("Flags1:0x%02X, Flags2:0x%02X, TypeFlags:0x%02X, Flags3:0x%02X, ClientTimezone:%d, ClientLCID:0x%08X",this.buildOptionFlags1(),this.buildOptionFlags2(),this.buildTypeFlags(),this.buildOptionFlags3(),this.clientTimeZone,this.clientLcid)+`
`+e+"         "+(0,Ao.sprintf)("Hostname:'%s', Username:'%s', Password:'%s', AppName:'%s', ServerName:'%s', LibraryName:'%s'",this.hostname,this.userName,this.password,this.appName,this.serverName,this.libraryName)+`
`+e+"         "+(0,Ao.sprintf)("Language:'%s', Database:'%s', SSPI:'%s', AttachDbFile:'%s', ChangePassword:'%s'",this.language,this.database,this.sspi,this.attachDbFile,this.changePassword)}},NI=bo;Do.default=NI;Ip.exports=bo});var Dp=O((lV,Ro)=>{(function(){"use strict";var t=typeof window=="object"?window:{},e=!t.JS_MD4_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;e&&(t=global);var r=!t.JS_MD4_NO_COMMON_JS&&typeof Ro=="object"&&Ro.exports,o=typeof define=="function"&&define.amd,l=!t.JS_MD4_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),h=[128,32768,8388608,-2147483648],g=[0,8,16,24],m=["hex","array","digest","buffer","arrayBuffer"],T=[],N;if(l){var A=new ArrayBuffer(68);N=new Uint8Array(A),T=new Uint32Array(A)}var R=function(S){return function(L){return new y(!0).update(L)[S]()}},F=function(){var S=R("hex");e&&(S=P(S)),S.create=function(){return new y},S.update=function(D){return S.create().update(D)};for(var L=0;L<m.length;++L){var I=m[L];S[I]=R(I)}return S},P=function(S){var L=require("crypto"),I=require("buffer").Buffer,D=function(p){if(typeof p=="string")return L.createHash("md4").update(p,"utf8").digest("hex");if(l&&p instanceof ArrayBuffer)p=new Uint8Array(p);else if(p.length===void 0)return S(p);return L.createHash("md4").update(new I(p)).digest("hex")};return D};function y(S){if(S)T[0]=T[16]=T[1]=T[2]=T[3]=T[4]=T[5]=T[6]=T[7]=T[8]=T[9]=T[10]=T[11]=T[12]=T[13]=T[14]=T[15]=0,this.blocks=T,this.buffer8=N;else if(l){var L=new ArrayBuffer(68);this.buffer8=new Uint8Array(L),this.blocks=new Uint32Array(L)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=0,this.finalized=this.hashed=!1,this.first=!0}y.prototype.update=function(S){if(!this.finalized){var L=typeof S!="string";L&&l&&S instanceof ArrayBuffer&&(S=new Uint8Array(S));for(var I,D=0,p,J=S.length||0,Y=this.blocks,G=this.buffer8;D<J;){if(this.hashed&&(this.hashed=!1,Y[0]=Y[16],Y[16]=Y[1]=Y[2]=Y[3]=Y[4]=Y[5]=Y[6]=Y[7]=Y[8]=Y[9]=Y[10]=Y[11]=Y[12]=Y[13]=Y[14]=Y[15]=0),L)if(l)for(p=this.start;D<J&&p<64;++D)G[p++]=S[D];else for(p=this.start;D<J&&p<64;++D)Y[p>>2]|=S[D]<<g[p++&3];else if(l)for(p=this.start;D<J&&p<64;++D)I=S.charCodeAt(D),I<128?G[p++]=I:I<2048?(G[p++]=192|I>>6,G[p++]=128|I&63):I<55296||I>=57344?(G[p++]=224|I>>12,G[p++]=128|I>>6&63,G[p++]=128|I&63):(I=65536+((I&1023)<<10|S.charCodeAt(++D)&1023),G[p++]=240|I>>18,G[p++]=128|I>>12&63,G[p++]=128|I>>6&63,G[p++]=128|I&63);else for(p=this.start;D<J&&p<64;++D)I=S.charCodeAt(D),I<128?Y[p>>2]|=I<<g[p++&3]:I<2048?(Y[p>>2]|=(192|I>>6)<<g[p++&3],Y[p>>2]|=(128|I&63)<<g[p++&3]):I<55296||I>=57344?(Y[p>>2]|=(224|I>>12)<<g[p++&3],Y[p>>2]|=(128|I>>6&63)<<g[p++&3],Y[p>>2]|=(128|I&63)<<g[p++&3]):(I=65536+((I&1023)<<10|S.charCodeAt(++D)&1023),Y[p>>2]|=(240|I>>18)<<g[p++&3],Y[p>>2]|=(128|I>>12&63)<<g[p++&3],Y[p>>2]|=(128|I>>6&63)<<g[p++&3],Y[p>>2]|=(128|I&63)<<g[p++&3]);this.lastByteIndex=p,this.bytes+=p-this.start,p>=64?(this.start=p-64,this.hash(),this.hashed=!0):this.start=p}return this}},y.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var S=this.blocks,L=this.lastByteIndex;S[L>>2]|=h[L&3],L>=56&&(this.hashed||this.hash(),S[0]=S[16],S[16]=S[1]=S[2]=S[3]=S[4]=S[5]=S[6]=S[7]=S[8]=S[9]=S[10]=S[11]=S[12]=S[13]=S[14]=S[15]=0),S[14]=this.bytes<<3,this.hash()}},y.prototype.hash=function(){var S,L,I,D,p,J,Y,G,q=this.blocks;this.first?(S=q[0]-1,S=S<<3|S>>>29,D=(S&4023233417|~S&2562383102)+q[1]+271733878,D=D<<7|D>>>25,I=(D&S|~D&4023233417)+q[2]-1732584194,I=I<<11|I>>>21,L=(I&D|~I&S)+q[3]-271733879,L=L<<19|L>>>13):(S=this.h0,L=this.h1,I=this.h2,D=this.h3,S+=(L&I|~L&D)+q[0],S=S<<3|S>>>29,D+=(S&L|~S&I)+q[1],D=D<<7|D>>>25,I+=(D&S|~D&L)+q[2],I=I<<11|I>>>21,L+=(I&D|~I&S)+q[3],L=L<<19|L>>>13),S+=(L&I|~L&D)+q[4],S=S<<3|S>>>29,D+=(S&L|~S&I)+q[5],D=D<<7|D>>>25,I+=(D&S|~D&L)+q[6],I=I<<11|I>>>21,L+=(I&D|~I&S)+q[7],L=L<<19|L>>>13,S+=(L&I|~L&D)+q[8],S=S<<3|S>>>29,D+=(S&L|~S&I)+q[9],D=D<<7|D>>>25,I+=(D&S|~D&L)+q[10],I=I<<11|I>>>21,L+=(I&D|~I&S)+q[11],L=L<<19|L>>>13,S+=(L&I|~L&D)+q[12],S=S<<3|S>>>29,D+=(S&L|~S&I)+q[13],D=D<<7|D>>>25,I+=(D&S|~D&L)+q[14],I=I<<11|I>>>21,L+=(I&D|~I&S)+q[15],L=L<<19|L>>>13,J=L&I,S+=(J|L&D|I&D)+q[0]+1518500249,S=S<<3|S>>>29,p=S&L,D+=(p|S&I|J)+q[4]+1518500249,D=D<<5|D>>>27,G=D&S,I+=(G|D&L|p)+q[8]+1518500249,I=I<<9|I>>>23,Y=I&D,L+=(Y|I&S|G)+q[12]+1518500249,L=L<<13|L>>>19,J=L&I,S+=(J|L&D|Y)+q[1]+1518500249,S=S<<3|S>>>29,p=S&L,D+=(p|S&I|J)+q[5]+1518500249,D=D<<5|D>>>27,G=D&S,I+=(G|D&L|p)+q[9]+1518500249,I=I<<9|I>>>23,Y=I&D,L+=(Y|I&S|G)+q[13]+1518500249,L=L<<13|L>>>19,J=L&I,S+=(J|L&D|Y)+q[2]+1518500249,S=S<<3|S>>>29,p=S&L,D+=(p|S&I|J)+q[6]+1518500249,D=D<<5|D>>>27,G=D&S,I+=(G|D&L|p)+q[10]+1518500249,I=I<<9|I>>>23,Y=I&D,L+=(Y|I&S|G)+q[14]+1518500249,L=L<<13|L>>>19,J=L&I,S+=(J|L&D|Y)+q[3]+1518500249,S=S<<3|S>>>29,p=S&L,D+=(p|S&I|J)+q[7]+1518500249,D=D<<5|D>>>27,G=D&S,I+=(G|D&L|p)+q[11]+1518500249,I=I<<9|I>>>23,L+=(I&D|I&S|G)+q[15]+1518500249,L=L<<13|L>>>19,J=L^I,S+=(J^D)+q[0]+1859775393,S=S<<3|S>>>29,D+=(J^S)+q[8]+1859775393,D=D<<9|D>>>23,G=D^S,I+=(G^L)+q[4]+1859775393,I=I<<11|I>>>21,L+=(G^I)+q[12]+1859775393,L=L<<15|L>>>17,J=L^I,S+=(J^D)+q[2]+1859775393,S=S<<3|S>>>29,D+=(J^S)+q[10]+1859775393,D=D<<9|D>>>23,G=D^S,I+=(G^L)+q[6]+1859775393,I=I<<11|I>>>21,L+=(G^I)+q[14]+1859775393,L=L<<15|L>>>17,J=L^I,S+=(J^D)+q[1]+1859775393,S=S<<3|S>>>29,D+=(J^S)+q[9]+1859775393,D=D<<9|D>>>23,G=D^S,I+=(G^L)+q[5]+1859775393,I=I<<11|I>>>21,L+=(G^I)+q[13]+1859775393,L=L<<15|L>>>17,J=L^I,S+=(J^D)+q[3]+1859775393,S=S<<3|S>>>29,D+=(J^S)+q[11]+1859775393,D=D<<9|D>>>23,G=D^S,I+=(G^L)+q[7]+1859775393,I=I<<11|I>>>21,L+=(G^I)+q[15]+1859775393,L=L<<15|L>>>17,this.first?(this.h0=S+1732584193<<0,this.h1=L-271733879<<0,this.h2=I-1732584194<<0,this.h3=D+271733878<<0,this.first=!1):(this.h0=this.h0+S<<0,this.h1=this.h1+L<<0,this.h2=this.h2+I<<0,this.h3=this.h3+D<<0)},y.prototype.hex=function(){this.finalize();var S=this.h0,L=this.h1,I=this.h2,D=this.h3;return c[S>>4&15]+c[S&15]+c[S>>12&15]+c[S>>8&15]+c[S>>20&15]+c[S>>16&15]+c[S>>28&15]+c[S>>24&15]+c[L>>4&15]+c[L&15]+c[L>>12&15]+c[L>>8&15]+c[L>>20&15]+c[L>>16&15]+c[L>>28&15]+c[L>>24&15]+c[I>>4&15]+c[I&15]+c[I>>12&15]+c[I>>8&15]+c[I>>20&15]+c[I>>16&15]+c[I>>28&15]+c[I>>24&15]+c[D>>4&15]+c[D&15]+c[D>>12&15]+c[D>>8&15]+c[D>>20&15]+c[D>>16&15]+c[D>>28&15]+c[D>>24&15]},y.prototype.toString=y.prototype.hex,y.prototype.digest=function(){this.finalize();var S=this.h0,L=this.h1,I=this.h2,D=this.h3;return[S&255,S>>8&255,S>>16&255,S>>24&255,L&255,L>>8&255,L>>16&255,L>>24&255,I&255,I>>8&255,I>>16&255,I>>24&255,D&255,D>>8&255,D>>16&255,D>>24&255]},y.prototype.array=y.prototype.digest,y.prototype.arrayBuffer=function(){this.finalize();var S=new ArrayBuffer(16),L=new Uint32Array(S);return L[0]=this.h0,L[1]=this.h1,L[2]=this.h2,L[3]=this.h3,S},y.prototype.buffer=y.prototype.arrayBuffer;var U=F();r?Ro.exports=U:(t.md4=U,o&&define(function(){return U}))})()});var Mp=O((Co,Cp)=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.default=void 0;var OI=Lp(it()),AI=bI(require("crypto")),II=Lp(Dp());function Rp(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(Rp=function(o){return o?r:e})(t)}function bI(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=Rp(e);if(r&&r.has(t))return r.get(t);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(c!=="default"&&Object.prototype.hasOwnProperty.call(t,c)){var h=l?Object.getOwnPropertyDescriptor(t,c):null;h&&(h.get||h.set)?Object.defineProperty(o,c,h):o[c]=t[c]}return o.default=t,r&&r.set(t,o),o}function Lp(t){return t&&t.__esModule?t:{default:t}}var Lo=class{constructor(e){this.data=this.createResponse(e)}toString(e=""){return e+"NTLM Auth"}createResponse(e){let r=this.createClientNonce(),o=24,l=16,c=e.domain,h=e.userName,g=e.password,m=e.ntlmpacket,T=m.target,N=m.nonce,A=64+c.length*2+h.length*2+o+l+8+8+8+4+T.length+4,R=new OI.default(A);R.position=0,R.writeString("NTLMSSP\0","utf8"),R.writeUInt32LE(3);let F=64,P=F,y=P+c.length*2,U=y+h.length*2,S=U+o;R.writeUInt16LE(o),R.writeUInt16LE(o),R.writeUInt32LE(U),R.writeUInt16LE(l),R.writeUInt16LE(l),R.writeUInt32LE(S),R.writeUInt16LE(c.length*2),R.writeUInt16LE(c.length*2),R.writeUInt32LE(P),R.writeUInt16LE(h.length*2),R.writeUInt16LE(h.length*2),R.writeUInt32LE(y),R.writeUInt16LE(0),R.writeUInt16LE(0),R.writeUInt32LE(F),R.writeUInt16LE(0),R.writeUInt16LE(0),R.writeUInt32LE(F),R.writeUInt16LE(33281),R.writeUInt16LE(8),R.writeString(c,"ucs2"),R.writeString(h,"ucs2");let L=this.lmv2Response(c,h,g,N,r);R.copyFrom(L);let I=new Date().getTime(),D=this.ntlmv2Response(c,h,g,N,T,r,I);R.copyFrom(D),R.writeUInt32LE(257),R.writeUInt32LE(0);let p=this.createTimestamp(I);return R.copyFrom(p),R.copyFrom(r),R.writeUInt32LE(0),R.copyFrom(T),R.writeUInt32LE(0),R.data}createClientNonce(){let e=Buffer.alloc(8,0),r=0;for(;r<8;)e.writeUInt8(Math.ceil(Math.random()*255),r),r++;return e}ntlmv2Response(e,r,o,l,c,h,g){let m=this.createTimestamp(g),T=this.ntv2Hash(e,r,o),N=40+c.length,A=Buffer.alloc(N,0);return l.copy(A,0,0,8),A.writeUInt32LE(257,8),A.writeUInt32LE(0,12),m.copy(A,16,0,8),h.copy(A,24,0,8),A.writeUInt32LE(0,32),c.copy(A,36,0,c.length),A.writeUInt32LE(0,36+c.length),this.hmacMD5(A,T)}createTimestamp(e){let r=(BigInt(e)+BigInt(11644473600))*BigInt(1e7),o=Number(r&BigInt(4294967295)),l=Number(r>>BigInt(32)&BigInt(4294967295)),c=Buffer.alloc(8);return c.writeUInt32LE(o,0),c.writeUInt32LE(l,4),c}lmv2Response(e,r,o,l,c){let h=this.ntv2Hash(e,r,o),g=Buffer.alloc(l.length+c.length,0);l.copy(g),c.copy(g,l.length,0,c.length);let m=this.hmacMD5(g,h),T=Buffer.alloc(m.length+c.length,0);return m.copy(T),c.copy(T,m.length,0,c.length),T}ntv2Hash(e,r,o){let l=this.ntHash(o),c=Buffer.from(r.toUpperCase()+e.toUpperCase(),"ucs2");return this.hmacMD5(c,l)}ntHash(e){let r=Buffer.from(e,"ucs2");return Buffer.from(II.default.arrayBuffer(r))}hmacMD5(e,r){return AI.createHmac("MD5",r).update(e).digest()}},DI=Lo;Co.default=DI;Cp.exports=Lo});var ur=O(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.RequestError=ar.ConnectionError=void 0;var Dl=class extends Error{constructor(e,r){super(e),this.code=r}};ar.ConnectionError=Dl;var Rl=class extends Error{constructor(e,r){super(e),this.code=r}};ar.RequestError=Rl});var Pp=O(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.SQLServerStatementColumnEncryptionSetting=kt.SQLServerEncryptionType=kt.DescribeParameterEncryptionResultSet2=kt.DescribeParameterEncryptionResultSet1=void 0;var RI=function(t){return t[t.Deterministic=1]="Deterministic",t[t.Randomized=2]="Randomized",t[t.PlainText=0]="PlainText",t}({});kt.SQLServerEncryptionType=RI;var LI=function(t){return t[t.KeyOrdinal=0]="KeyOrdinal",t[t.DbId=1]="DbId",t[t.KeyId=2]="KeyId",t[t.KeyVersion=3]="KeyVersion",t[t.KeyMdVersion=4]="KeyMdVersion",t[t.EncryptedKey=5]="EncryptedKey",t[t.ProviderName=6]="ProviderName",t[t.KeyPath=7]="KeyPath",t[t.KeyEncryptionAlgorithm=8]="KeyEncryptionAlgorithm",t}({});kt.DescribeParameterEncryptionResultSet1=LI;var CI=function(t){return t[t.ParameterOrdinal=0]="ParameterOrdinal",t[t.ParameterName=1]="ParameterName",t[t.ColumnEncryptionAlgorithm=2]="ColumnEncryptionAlgorithm",t[t.ColumnEncrytionType=3]="ColumnEncrytionType",t[t.ColumnEncryptionKeyOrdinal=4]="ColumnEncryptionKeyOrdinal",t[t.NormalizationRuleVersion=5]="NormalizationRuleVersion",t}({});kt.DescribeParameterEncryptionResultSet2=CI;var MI=function(t){return t[t.UseConnectionSetting=0]="UseConnectionSetting",t[t.Enabled=1]="Enabled",t[t.ResultSetOnly=2]="ResultSetOnly",t[t.Disabled=3]="Disabled",t}({});kt.SQLServerStatementColumnEncryptionSetting=MI});var Fo=O((Po,Fp)=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.default=void 0;var PI=require("events"),FI=ur(),xI=Pp(),Mo=class extends PI.EventEmitter{on(e,r){return super.on(e,r)}emit(e,...r){return super.emit(e,...r)}constructor(e,r,o){super(),this.sqlTextOrProcedure=e,this.parameters=[],this.parametersByName={},this.preparing=!1,this.handle=void 0,this.canceled=!1,this.paused=!1,this.error=void 0,this.connection=void 0,this.timeout=void 0,this.userCallback=r,this.statementColumnEncryptionSetting=o&&o.statementColumnEncryptionSetting||xI.SQLServerStatementColumnEncryptionSetting.UseConnectionSetting,this.cryptoMetadataLoaded=!1,this.callback=function(l,c,h){this.preparing?(this.preparing=!1,l?this.emit("error",l):this.emit("prepared")):(this.userCallback(l,c,h),this.emit("requestCompleted"))}}addParameter(e,r,o,l){let{output:c=!1,length:h,precision:g,scale:m}=l??{},T={type:r,name:e,value:o,output:c,length:h,precision:g,scale:m};this.parameters.push(T),this.parametersByName[e]=T}addOutputParameter(e,r,o,l){this.addParameter(e,r,o,{...l,output:!0})}makeParamsParameter(e){let r="";for(let o=0,l=e.length;o<l;o++){let c=e[o];r.length>0&&(r+=", "),r+="@"+c.name+" ",r+=c.type.declaration(c),c.output&&(r+=" OUTPUT")}return r}validateParameters(e){for(let r=0,o=this.parameters.length;r<o;r++){let l=this.parameters[r];try{l.value=l.type.validate(l.value,e)}catch(c){throw new FI.RequestError("Validation failed for parameter '"+l.name+"'. "+c.message,"EPARAM")}}}pause(){this.paused||(this.emit("pause"),this.paused=!0)}resume(){!this.paused||(this.paused=!1,this.emit("resume"))}cancel(){this.canceled||(this.canceled=!0,this.emit("cancel"))}setTimeout(e){this.timeout=e}},UI=Mo;Po.default=UI;Fp.exports=Mo});var xo=O(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.writeToTrackingBuffer=YI;var kI={QUERY_NOTIFICATIONS:1,TXN_DESCRIPTOR:2,TRACE_ACTIVITY:3},qI=4+8,BI=4+2+qI;function YI(t,e,r){t.writeUInt32LE(0),t.writeUInt32LE(BI),t.writeUInt16LE(kI.TXN_DESCRIPTOR),t.writeBuffer(e),t.writeUInt32LE(r);let o=t.data;return o.writeUInt32LE(o.length,0),t}});var kp=O((ko,Up)=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.default=void 0;var xp=HI(it()),VI=xo();function HI(t){return t&&t.__esModule?t:{default:t}}var WI={BY_REF_VALUE:1,DEFAULT_VALUE:2},Uo=class{constructor(e,r,o,l,c){this.procedure=e,this.parameters=r,this.options=l,this.txnDescriptor=o,this.collation=c}[Symbol.iterator](){return this.generateData()}*generateData(){let e=new xp.default(500);this.options.tdsVersion>="7_2"&&(0,VI.writeToTrackingBuffer)(e,this.txnDescriptor,1),typeof this.procedure=="string"?e.writeUsVarchar(this.procedure):(e.writeUShort(65535),e.writeUShort(this.procedure));let r=0;e.writeUInt16LE(r),yield e.data;let o=this.parameters.length;for(let l=0;l<o;l++)yield*this.generateParameterData(this.parameters[l])}toString(e=""){return e+("RPC Request - "+this.procedure)}*generateParameterData(e){let r=new xp.default(3+Buffer.byteLength(e.name,"ucs-2")+1);e.name?r.writeBVarchar("@"+e.name):r.writeBVarchar("");let o=0;e.output&&(o|=WI.BY_REF_VALUE),r.writeUInt8(o),yield r.data;let l={value:e.value},c=e.type;(c.id&48)===32&&(e.length?l.length=e.length:c.resolveLength&&(l.length=c.resolveLength(e))),e.precision?l.precision=e.precision:c.resolvePrecision&&(l.precision=c.resolvePrecision(e)),e.scale?l.scale=e.scale:c.resolveScale&&(l.scale=c.resolveScale(e)),this.collation&&(l.collation=this.collation),yield c.generateTypeInfo(l,this.options),yield c.generateParameterLength(l,this.options),yield*c.generateParameterData(l,this.options)}},GI=Uo;ko.default=GI;Up.exports=Uo});var Bp=O((Bo,qp)=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.default=void 0;var $I=KI(it()),jI=xo();function KI(t){return t&&t.__esModule?t:{default:t}}var qo=class{constructor(e,r,o){this.sqlText=e,this.txnDescriptor=r,this.options=o}*[Symbol.iterator](){if(this.options.tdsVersion>="7_2"){let e=new $I.default(18,"ucs2"),r=1;(0,jI.writeToTrackingBuffer)(e,this.txnDescriptor,r),yield e.data}yield Buffer.from(this.sqlText,"ucs2")}toString(e=""){return e+("SQL Batch - "+this.sqlText)}},zI=qo;Bo.default=zI;qp.exports=qo});var Vp=O((dV,Yp)=>{"use strict";var ZI=require("stream").Duplex,Yo=Symbol("Callback"),Dn=Symbol("Other"),Vo=class extends ZI{constructor(e){super(e),this[Yo]=null,this[Dn]=null}_read(){let e=this[Yo];e&&(this[Yo]=null,e())}_write(e,r,o){this[Dn][Yo]=o,this[Dn].push(e)}_final(e){this[Dn].on("end",e),this[Dn].push(null)}},Cl=class{constructor(e){this.socket1=new Vo(e),this.socket2=new Vo(e),this.socket1[Dn]=this.socket2,this.socket2[Dn]=this.socket1}};Yp.exports=Cl});var Go=O((Wo,Hp)=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.default=void 0;var XI=require("stream"),Ho=class extends XI.PassThrough{constructor({type:e,resetConnection:r=!1}){super(),this.type=e,this.resetConnection=r,this.ignore=!1}},JI=Ho;Wo.default=JI;Hp.exports=Ho});var Ie=O((pV,Wp)=>{"use strict";Wp.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var e_=O((ri,ni)=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});var Zp=new WeakMap,Ml=new WeakMap;function Se(t){let e=Zp.get(t);return console.assert(e!=null,"'this' is expected an Event object, but got",t),e}function Gp(t){if(t.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener);return}!t.event.cancelable||(t.canceled=!0,typeof t.event.preventDefault=="function"&&t.event.preventDefault())}function lr(t,e){Zp.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(e);for(let o=0;o<r.length;++o){let l=r[o];l in this||Object.defineProperty(this,l,Xp(l))}}lr.prototype={get type(){return Se(this).event.type},get target(){return Se(this).eventTarget},get currentTarget(){return Se(this).currentTarget},composedPath(){let t=Se(this).currentTarget;return t==null?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return Se(this).eventPhase},stopPropagation(){let t=Se(this);t.stopped=!0,typeof t.event.stopPropagation=="function"&&t.event.stopPropagation()},stopImmediatePropagation(){let t=Se(this);t.stopped=!0,t.immediateStopped=!0,typeof t.event.stopImmediatePropagation=="function"&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(Se(this).event.bubbles)},get cancelable(){return Boolean(Se(this).event.cancelable)},preventDefault(){Gp(Se(this))},get defaultPrevented(){return Se(this).canceled},get composed(){return Boolean(Se(this).event.composed)},get timeStamp(){return Se(this).timeStamp},get srcElement(){return Se(this).eventTarget},get cancelBubble(){return Se(this).stopped},set cancelBubble(t){if(!t)return;let e=Se(this);e.stopped=!0,typeof e.event.cancelBubble=="boolean"&&(e.event.cancelBubble=!0)},get returnValue(){return!Se(this).canceled},set returnValue(t){t||Gp(Se(this))},initEvent(){}};Object.defineProperty(lr.prototype,"constructor",{value:lr,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(lr.prototype,window.Event.prototype),Ml.set(window.Event.prototype,lr));function Xp(t){return{get(){return Se(this).event[t]},set(e){Se(this).event[t]=e},configurable:!0,enumerable:!0}}function QI(t){return{value(){let e=Se(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function eb(t,e){let r=Object.keys(e);if(r.length===0)return t;function o(l,c){t.call(this,l,c)}o.prototype=Object.create(t.prototype,{constructor:{value:o,configurable:!0,writable:!0}});for(let l=0;l<r.length;++l){let c=r[l];if(!(c in t.prototype)){let g=typeof Object.getOwnPropertyDescriptor(e,c).value=="function";Object.defineProperty(o.prototype,c,g?QI(c):Xp(c))}}return o}function Jp(t){if(t==null||t===Object.prototype)return lr;let e=Ml.get(t);return e==null&&(e=eb(Jp(Object.getPrototypeOf(t)),t),Ml.set(t,e)),e}function tb(t,e){let r=Jp(Object.getPrototypeOf(e));return new r(t,e)}function nb(t){return Se(t).immediateStopped}function rb(t,e){Se(t).eventPhase=e}function ib(t,e){Se(t).currentTarget=e}function $p(t,e){Se(t).passiveListener=e}var Qp=new WeakMap,jp=1,Kp=2,$o=3;function jo(t){return t!==null&&typeof t=="object"}function ti(t){let e=Qp.get(t);if(e==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function ob(t){return{get(){let r=ti(this).get(t);for(;r!=null;){if(r.listenerType===$o)return r.listener;r=r.next}return null},set(e){typeof e!="function"&&!jo(e)&&(e=null);let r=ti(this),o=null,l=r.get(t);for(;l!=null;)l.listenerType===$o?o!==null?o.next=l.next:l.next!==null?r.set(t,l.next):r.delete(t):o=l,l=l.next;if(e!==null){let c={listener:e,listenerType:$o,passive:!1,once:!1,next:null};o===null?r.set(t,c):o.next=c}},configurable:!0,enumerable:!0}}function Pl(t,e){Object.defineProperty(t,`on${e}`,ob(e))}function zp(t){function e(){At.call(this)}e.prototype=Object.create(At.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let r=0;r<t.length;++r)Pl(e.prototype,t[r]);return e}function At(){if(this instanceof At){Qp.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return zp(arguments[0]);if(arguments.length>0){let t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return zp(t)}throw new TypeError("Cannot call a class as a function")}At.prototype={addEventListener(t,e,r){if(e==null)return;if(typeof e!="function"&&!jo(e))throw new TypeError("'listener' should be a function or an object.");let o=ti(this),l=jo(r),h=Boolean(l?r.capture:r)?jp:Kp,g={listener:e,listenerType:h,passive:l&&Boolean(r.passive),once:l&&Boolean(r.once),next:null},m=o.get(t);if(m===void 0){o.set(t,g);return}let T=null;for(;m!=null;){if(m.listener===e&&m.listenerType===h)return;T=m,m=m.next}T.next=g},removeEventListener(t,e,r){if(e==null)return;let o=ti(this),c=(jo(r)?Boolean(r.capture):Boolean(r))?jp:Kp,h=null,g=o.get(t);for(;g!=null;){if(g.listener===e&&g.listenerType===c){h!==null?h.next=g.next:g.next!==null?o.set(t,g.next):o.delete(t);return}h=g,g=g.next}},dispatchEvent(t){if(t==null||typeof t.type!="string")throw new TypeError('"event.type" should be a string.');let e=ti(this),r=t.type,o=e.get(r);if(o==null)return!0;let l=tb(this,t),c=null;for(;o!=null;){if(o.once?c!==null?c.next=o.next:o.next!==null?e.set(r,o.next):e.delete(r):c=o,$p(l,o.passive?o.listener:null),typeof o.listener=="function")try{o.listener.call(this,l)}catch(h){typeof console<"u"&&typeof console.error=="function"&&console.error(h)}else o.listenerType!==$o&&typeof o.listener.handleEvent=="function"&&o.listener.handleEvent(l);if(nb(l))break;o=o.next}return $p(l,null),rb(l,0),ib(l,null),!l.defaultPrevented}};Object.defineProperty(At.prototype,"constructor",{value:At,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(At.prototype,window.EventTarget.prototype);ri.defineEventAttribute=Pl;ri.EventTarget=At;ri.default=At;ni.exports=At;ni.exports.EventTarget=ni.exports.default=At;ni.exports.defineEventAttribute=Pl});var cr=O((oi,ii)=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});var Fl=e_(),fn=class extends Fl.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=Ko.get(this);if(typeof e!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}};Fl.defineEventAttribute(fn.prototype,"abort");function sb(){let t=Object.create(fn.prototype);return Fl.EventTarget.call(t),Ko.set(t,!1),t}function ab(t){Ko.get(t)===!1&&(Ko.set(t,!0),t.dispatchEvent({type:"abort"}))}var Ko=new WeakMap;Object.defineProperties(fn.prototype,{aborted:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(fn.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var hn=class{constructor(){n_.set(this,sb())}get signal(){return t_(this)}abort(){ab(t_(this))}},n_=new WeakMap;function t_(t){let e=n_.get(t);if(e==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${t===null?"null":typeof t}`);return e}Object.defineProperties(hn.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(hn.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});oi.AbortController=hn;oi.AbortSignal=fn;oi.default=hn;ii.exports=hn;ii.exports.AbortController=ii.exports.default=hn;ii.exports.AbortSignal=fn});var Ge=O((_V,Ul)=>{"use strict";var ub=require("buffer"),{kResistStopPropagation:lb,SymbolDispose:cb}=Ie(),fb=globalThis.AbortSignal||cr().AbortSignal,hb=globalThis.AbortController||cr().AbortController,db=Object.getPrototypeOf(async function(){}).constructor,r_=globalThis.Blob||ub.Blob,pb=typeof r_<"u"?function(e){return e instanceof r_}:function(e){return!1},i_=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new ERR_INVALID_ARG_TYPE(e,"AbortSignal",t)},_b=(t,e)=>{if(typeof t!="function")throw new ERR_INVALID_ARG_TYPE(e,"Function",t)},xl=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let o=0;o<e.length;o++)r+=`    ${e[o].stack}
`;super(r),this.name="AggregateError",this.errors=e}};Ul.exports={AggregateError:xl,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((o,l)=>{t=o,e=l}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((o,...l)=>o?r(o):e(...l))})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,o]){let l=e.shift();return o==="f"?l.toFixed(6):o==="j"?JSON.stringify(l):o==="s"&&typeof l=="object"?`${l.constructor!==Object?l.constructor.name:""} {}`.trim():l.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction(t){return t instanceof db},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:pb,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",e);i_(e,"signal"),_b(r,"listener");let o;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[lb]:!0}),o=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[cb](){var l;(l=o)===null||l===void 0||l()}}},AbortSignalAny:fb.any||function(e){if(e.length===1)return e[0];let r=new hb,o=()=>r.abort();return e.forEach(l=>{i_(l,"signals"),l.addEventListener("abort",o,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(l=>l.removeEventListener("abort",o))},{once:!0}),r.signal}};Ul.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var tt=O((gV,a_)=>{"use strict";var{format:gb,inspect:zo,AggregateError:mb}=Ge(),Eb=globalThis.AggregateError||mb,yb=Symbol("kIsNodeError"),wb=["string","function","number","object","Function","Object","boolean","bigint","symbol"],vb=/^([A-Z][a-z0-9]*)+$/,Tb="__node_internal_",Zo={};function Rn(t,e){if(!t)throw new Zo.ERR_INTERNAL_ASSERTION(e)}function o_(t){let e="",r=t.length,o=t[0]==="-"?1:0;for(;r>=o+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Sb(t,e,r){if(typeof e=="function")return Rn(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let o=(e.match(/%[dfijoOs]/g)||[]).length;return Rn(o===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${o}).`),r.length===0?e:gb(e,...r)}function Ye(t,e,r){r||(r=Error);class o extends r{constructor(...c){super(Sb(t,e,c))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(o.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),o.prototype.code=t,o.prototype[yb]=!0,Zo[t]=o}function s_(t){let e=Tb+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Nb(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new Eb([e,t],e.message);return r.code=e.code,r}return t||e}var kl=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Zo.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};Ye("ERR_ASSERTION","%s",Error);Ye("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Rn(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let o="The ";t.endsWith(" argument")?o+=`${t} `:o+=`"${t}" ${t.includes(".")?"property":"argument"} `,o+="must be ";let l=[],c=[],h=[];for(let m of e)Rn(typeof m=="string","All expected entries have to be of type string"),wb.includes(m)?l.push(m.toLowerCase()):vb.test(m)?c.push(m):(Rn(m!=="object",'The value "object" should be written as "Object"'),h.push(m));if(c.length>0){let m=l.indexOf("object");m!==-1&&(l.splice(l,m,1),c.push("Object"))}if(l.length>0){switch(l.length){case 1:o+=`of type ${l[0]}`;break;case 2:o+=`one of type ${l[0]} or ${l[1]}`;break;default:{let m=l.pop();o+=`one of type ${l.join(", ")}, or ${m}`}}(c.length>0||h.length>0)&&(o+=" or ")}if(c.length>0){switch(c.length){case 1:o+=`an instance of ${c[0]}`;break;case 2:o+=`an instance of ${c[0]} or ${c[1]}`;break;default:{let m=c.pop();o+=`an instance of ${c.join(", ")}, or ${m}`}}h.length>0&&(o+=" or ")}switch(h.length){case 0:break;case 1:h[0].toLowerCase()!==h[0]&&(o+="an "),o+=`${h[0]}`;break;case 2:o+=`one of ${h[0]} or ${h[1]}`;break;default:{let m=h.pop();o+=`one of ${h.join(", ")}, or ${m}`}}if(r==null)o+=`. Received ${r}`;else if(typeof r=="function"&&r.name)o+=`. Received function ${r.name}`;else if(typeof r=="object"){var g;if((g=r.constructor)!==null&&g!==void 0&&g.name)o+=`. Received an instance of ${r.constructor.name}`;else{let m=zo(r,{depth:-1});o+=`. Received ${m}`}}else{let m=zo(r,{colors:!1});m.length>25&&(m=`${m.slice(0,25)}...`),o+=`. Received type ${typeof r} (${m})`}return o},TypeError);Ye("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let o=zo(e);return o.length>128&&(o=o.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${o}`},TypeError);Ye("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var o;let l=r!=null&&(o=r.constructor)!==null&&o!==void 0&&o.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${l}.`},TypeError);Ye("ERR_MISSING_ARGS",(...t)=>{Rn(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(o=>`"${o}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let o=t.pop();e+=`The ${t.join(", ")}, and ${o} arguments`}break}return`${e} must be specified`},TypeError);Ye("ERR_OUT_OF_RANGE",(t,e,r)=>{Rn(e,'Missing "range" argument');let o;return Number.isInteger(r)&&Math.abs(r)>2**32?o=o_(String(r)):typeof r=="bigint"?(o=String(r),(r>2n**32n||r<-(2n**32n))&&(o=o_(o)),o+="n"):o=zo(r),`The value of "${t}" is out of range. It must be ${e}. Received ${o}`},RangeError);Ye("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Ye("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Ye("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Ye("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Ye("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Ye("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ye("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Ye("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Ye("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Ye("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Ye("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);a_.exports={AbortError:kl,aggregateTwoErrors:s_(Nb),hideStackFrames:s_,codes:Zo}});var hr=O((mV,m_)=>{"use strict";var{ArrayIsArray:Bl,ArrayPrototypeIncludes:f_,ArrayPrototypeJoin:h_,ArrayPrototypeMap:Ob,NumberIsInteger:Yl,NumberIsNaN:Ab,NumberMAX_SAFE_INTEGER:Ib,NumberMIN_SAFE_INTEGER:bb,NumberParseInt:Db,ObjectPrototypeHasOwnProperty:Rb,RegExpPrototypeExec:d_,String:Lb,StringPrototypeToUpperCase:Cb,StringPrototypeTrim:Mb}=Ie(),{hideStackFrames:Et,codes:{ERR_SOCKET_BAD_PORT:Pb,ERR_INVALID_ARG_TYPE:$e,ERR_INVALID_ARG_VALUE:fr,ERR_OUT_OF_RANGE:Ln,ERR_UNKNOWN_SIGNAL:u_}}=tt(),{normalizeEncoding:Fb}=Ge(),{isAsyncFunction:xb,isArrayBufferView:Ub}=Ge().types,l_={};function kb(t){return t===(t|0)}function qb(t){return t===t>>>0}var Bb=/^[0-7]+$/,Yb="must be a 32-bit unsigned integer or an octal string";function Vb(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(d_(Bb,t)===null)throw new fr(e,t,Yb);t=Db(t,8)}return p_(t,e),t}var Hb=Et((t,e,r=bb,o=Ib)=>{if(typeof t!="number")throw new $e(e,"number",t);if(!Yl(t))throw new Ln(e,"an integer",t);if(t<r||t>o)throw new Ln(e,`>= ${r} && <= ${o}`,t)}),Wb=Et((t,e,r=-2147483648,o=2147483647)=>{if(typeof t!="number")throw new $e(e,"number",t);if(!Yl(t))throw new Ln(e,"an integer",t);if(t<r||t>o)throw new Ln(e,`>= ${r} && <= ${o}`,t)}),p_=Et((t,e,r=!1)=>{if(typeof t!="number")throw new $e(e,"number",t);if(!Yl(t))throw new Ln(e,"an integer",t);let o=r?1:0,l=4294967295;if(t<o||t>l)throw new Ln(e,`>= ${o} && <= ${l}`,t)});function Vl(t,e){if(typeof t!="string")throw new $e(e,"string",t)}function Gb(t,e,r=void 0,o){if(typeof t!="number")throw new $e(e,"number",t);if(r!=null&&t<r||o!=null&&t>o||(r!=null||o!=null)&&Ab(t))throw new Ln(e,`${r!=null?`>= ${r}`:""}${r!=null&&o!=null?" && ":""}${o!=null?`<= ${o}`:""}`,t)}var $b=Et((t,e,r)=>{if(!f_(r,t)){let l="must be one of: "+h_(Ob(r,c=>typeof c=="string"?`'${c}'`:Lb(c)),", ");throw new fr(e,t,l)}});function __(t,e){if(typeof t!="boolean")throw new $e(e,"boolean",t)}function ql(t,e,r){return t==null||!Rb(t,e)?r:t[e]}var jb=Et((t,e,r=null)=>{let o=ql(r,"allowArray",!1),l=ql(r,"allowFunction",!1);if(!ql(r,"nullable",!1)&&t===null||!o&&Bl(t)||typeof t!="object"&&(!l||typeof t!="function"))throw new $e(e,"Object",t)}),Kb=Et((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new $e(e,"a dictionary",t)}),Xo=Et((t,e,r=0)=>{if(!Bl(t))throw new $e(e,"Array",t);if(t.length<r){let o=`must be longer than ${r}`;throw new fr(e,t,o)}});function zb(t,e){Xo(t,e);for(let r=0;r<t.length;r++)Vl(t[r],`${e}[${r}]`)}function Zb(t,e){Xo(t,e);for(let r=0;r<t.length;r++)__(t[r],`${e}[${r}]`)}function Xb(t,e){Xo(t,e);for(let r=0;r<t.length;r++){let o=t[r],l=`${e}[${r}]`;if(o==null)throw new $e(l,"AbortSignal",o);g_(o,l)}}function Jb(t,e="signal"){if(Vl(t,e),l_[t]===void 0)throw l_[Cb(t)]!==void 0?new u_(t+" (signals must use all capital letters)"):new u_(t)}var Qb=Et((t,e="buffer")=>{if(!Ub(t))throw new $e(e,["Buffer","TypedArray","DataView"],t)});function eD(t,e){let r=Fb(e),o=t.length;if(r==="hex"&&o%2!==0)throw new fr("encoding",e,`is invalid for data of length ${o}`)}function tD(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Mb(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Pb(e,t,r);return t|0}var g_=Et((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new $e(e,"AbortSignal",t)}),nD=Et((t,e)=>{if(typeof t!="function")throw new $e(e,"Function",t)}),rD=Et((t,e)=>{if(typeof t!="function"||xb(t))throw new $e(e,"Function",t)}),iD=Et((t,e)=>{if(t!==void 0)throw new $e(e,"undefined",t)});function oD(t,e,r){if(!f_(r,t))throw new $e(e,`('${h_(r,"|")}')`,t)}var sD=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function c_(t,e){if(typeof t>"u"||!d_(sD,t))throw new fr(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function aD(t){if(typeof t=="string")return c_(t,"hints"),t;if(Bl(t)){let e=t.length,r="";if(e===0)return r;for(let o=0;o<e;o++){let l=t[o];c_(l,"hints"),r+=l,o!==e-1&&(r+=", ")}return r}throw new fr("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}m_.exports={isInt32:kb,isUint32:qb,parseFileMode:Vb,validateArray:Xo,validateStringArray:zb,validateBooleanArray:Zb,validateAbortSignalArray:Xb,validateBoolean:__,validateBuffer:Qb,validateDictionary:Kb,validateEncoding:eD,validateFunction:nD,validateInt32:Wb,validateInteger:Hb,validateNumber:Gb,validateObject:jb,validateOneOf:$b,validatePlainFunction:rD,validatePort:tD,validateSignalName:Jb,validateString:Vl,validateUint32:p_,validateUndefined:iD,validateUnion:oD,validateAbortSignal:g_,validateLinkHeaderValue:aD}});var dn=O((EV,E_)=>{E_.exports=global.process});var Bt=O((yV,M_)=>{"use strict";var{SymbolAsyncIterator:y_,SymbolIterator:w_,SymbolFor:Cn}=Ie(),v_=Cn("nodejs.stream.destroyed"),T_=Cn("nodejs.stream.errored"),Hl=Cn("nodejs.stream.readable"),Wl=Cn("nodejs.stream.writable"),S_=Cn("nodejs.stream.disturbed"),uD=Cn("nodejs.webstream.isClosedPromise"),lD=Cn("nodejs.webstream.controllerErrorFunction");function Jo(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Qo(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function cD(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function qt(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function N_(t){return!!(t&&!qt(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function O_(t){return!!(t&&!qt(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function A_(t){return!!(t&&!qt(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function fD(t){return N_(t)||O_(t)||A_(t)}function hD(t,e){return t==null?!1:e===!0?typeof t[y_]=="function":e===!1?typeof t[w_]=="function":typeof t[y_]=="function"||typeof t[w_]=="function"}function es(t){if(!qt(t))return null;let e=t._writableState,r=t._readableState,o=e||r;return!!(t.destroyed||t[v_]||o!=null&&o.destroyed)}function I_(t){if(!Qo(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function dD(t,e){if(!Qo(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function pD(t){if(!Jo(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function b_(t,e){if(!Jo(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function D_(t){return t&&t[Hl]!=null?t[Hl]:typeof t?.readable!="boolean"?null:es(t)?!1:Jo(t)&&t.readable&&!b_(t)}function R_(t){return t&&t[Wl]!=null?t[Wl]:typeof t?.writable!="boolean"?null:es(t)?!1:Qo(t)&&t.writable&&!I_(t)}function _D(t,e){return qt(t)?es(t)?!0:!(e?.readable!==!1&&D_(t)||e?.writable!==!1&&R_(t)):null}function gD(t){var e,r;return qt(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function mD(t){var e,r;return qt(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function ED(t){if(!qt(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&L_(t)?t._closed:null}function L_(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function C_(t){return typeof t._sent100=="boolean"&&L_(t)}function yD(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function wD(t){if(!qt(t))return null;let e=t._writableState,r=t._readableState,o=e||r;return!o&&C_(t)||!!(o&&o.autoDestroy&&o.emitClose&&o.closed===!1)}function vD(t){var e;return!!(t&&((e=t[S_])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function TD(t){var e,r,o,l,c,h,g,m,T,N;return!!(t&&((e=(r=(o=(l=(c=(h=t[T_])!==null&&h!==void 0?h:t.readableErrored)!==null&&c!==void 0?c:t.writableErrored)!==null&&l!==void 0?l:(g=t._readableState)===null||g===void 0?void 0:g.errorEmitted)!==null&&o!==void 0?o:(m=t._writableState)===null||m===void 0?void 0:m.errorEmitted)!==null&&r!==void 0?r:(T=t._readableState)===null||T===void 0?void 0:T.errored)!==null&&e!==void 0?e:(N=t._writableState)===null||N===void 0?void 0:N.errored))}M_.exports={isDestroyed:es,kIsDestroyed:v_,isDisturbed:vD,kIsDisturbed:S_,isErrored:TD,kIsErrored:T_,isReadable:D_,kIsReadable:Hl,kIsClosedPromise:uD,kControllerErrorFunction:lD,kIsWritable:Wl,isClosed:ED,isDuplexNodeStream:cD,isFinished:_D,isIterable:hD,isReadableNodeStream:Jo,isReadableStream:N_,isReadableEnded:pD,isReadableFinished:b_,isReadableErrored:mD,isNodeStream:qt,isWebStream:fD,isWritable:R_,isWritableNodeStream:Qo,isWritableStream:O_,isWritableEnded:I_,isWritableFinished:dD,isWritableErrored:gD,isServerRequest:yD,isServerResponse:C_,willEmitClose:wD,isTransformStream:A_}});var tn=O((wV,zl)=>{var pn=dn(),{AbortError:V_,codes:SD}=tt(),{ERR_INVALID_ARG_TYPE:ND,ERR_STREAM_PREMATURE_CLOSE:P_}=SD,{kEmptyObject:$l,once:jl}=Ge(),{validateAbortSignal:OD,validateFunction:AD,validateObject:ID,validateBoolean:bD}=hr(),{Promise:DD,PromisePrototypeThen:RD,SymbolDispose:H_}=Ie(),{isClosed:LD,isReadable:F_,isReadableNodeStream:Gl,isReadableStream:CD,isReadableFinished:x_,isReadableErrored:U_,isWritable:k_,isWritableNodeStream:q_,isWritableStream:MD,isWritableFinished:B_,isWritableErrored:Y_,isNodeStream:PD,willEmitClose:FD,kIsClosedPromise:xD}=Bt(),dr;function UD(t){return t.setHeader&&typeof t.abort=="function"}var Kl=()=>{};function W_(t,e,r){var o,l;if(arguments.length===2?(r=e,e=$l):e==null?e=$l:ID(e,"options"),AD(r,"callback"),OD(e.signal,"options.signal"),r=jl(r),CD(t)||MD(t))return kD(t,e,r);if(!PD(t))throw new ND("stream",["ReadableStream","WritableStream","Stream"],t);let c=(o=e.readable)!==null&&o!==void 0?o:Gl(t),h=(l=e.writable)!==null&&l!==void 0?l:q_(t),g=t._writableState,m=t._readableState,T=()=>{t.writable||R()},N=FD(t)&&Gl(t)===c&&q_(t)===h,A=B_(t,!1),R=()=>{A=!0,t.destroyed&&(N=!1),!(N&&(!t.readable||c))&&(!c||F)&&r.call(t)},F=x_(t,!1),P=()=>{F=!0,t.destroyed&&(N=!1),!(N&&(!t.writable||h))&&(!h||A)&&r.call(t)},y=p=>{r.call(t,p)},U=LD(t),S=()=>{U=!0;let p=Y_(t)||U_(t);if(p&&typeof p!="boolean")return r.call(t,p);if(c&&!F&&Gl(t,!0)&&!x_(t,!1))return r.call(t,new P_);if(h&&!A&&!B_(t,!1))return r.call(t,new P_);r.call(t)},L=()=>{U=!0;let p=Y_(t)||U_(t);if(p&&typeof p!="boolean")return r.call(t,p);r.call(t)},I=()=>{t.req.on("finish",R)};UD(t)?(t.on("complete",R),N||t.on("abort",S),t.req?I():t.on("request",I)):h&&!g&&(t.on("end",T),t.on("close",T)),!N&&typeof t.aborted=="boolean"&&t.on("aborted",S),t.on("end",P),t.on("finish",R),e.error!==!1&&t.on("error",y),t.on("close",S),U?pn.nextTick(S):g!=null&&g.errorEmitted||m!=null&&m.errorEmitted?N||pn.nextTick(L):(!c&&(!N||F_(t))&&(A||k_(t)===!1)||!h&&(!N||k_(t))&&(F||F_(t)===!1)||m&&t.req&&t.aborted)&&pn.nextTick(L);let D=()=>{r=Kl,t.removeListener("aborted",S),t.removeListener("complete",R),t.removeListener("abort",S),t.removeListener("request",I),t.req&&t.req.removeListener("finish",R),t.removeListener("end",T),t.removeListener("close",T),t.removeListener("finish",R),t.removeListener("end",P),t.removeListener("error",y),t.removeListener("close",S)};if(e.signal&&!U){let p=()=>{let J=r;D(),J.call(t,new V_(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)pn.nextTick(p);else{dr=dr||Ge().addAbortListener;let J=dr(e.signal,p),Y=r;r=jl((...G)=>{J[H_](),Y.apply(t,G)})}}return D}function kD(t,e,r){let o=!1,l=Kl;if(e.signal)if(l=()=>{o=!0,r.call(t,new V_(void 0,{cause:e.signal.reason}))},e.signal.aborted)pn.nextTick(l);else{dr=dr||Ge().addAbortListener;let h=dr(e.signal,l),g=r;r=jl((...m)=>{h[H_](),g.apply(t,m)})}let c=(...h)=>{o||pn.nextTick(()=>r.apply(t,h))};return RD(t[xD].promise,c,c),Kl}function qD(t,e){var r;let o=!1;return e===null&&(e=$l),(r=e)!==null&&r!==void 0&&r.cleanup&&(bD(e.cleanup,"cleanup"),o=e.cleanup),new DD((l,c)=>{let h=W_(t,e,g=>{o&&h(),g?c(g):l()})})}zl.exports=W_;zl.exports.finished=qD});var Mn=O((vV,J_)=>{"use strict";var Yt=dn(),{aggregateTwoErrors:BD,codes:{ERR_MULTIPLE_CALLBACK:YD},AbortError:VD}=tt(),{Symbol:j_}=Ie(),{kIsDestroyed:HD,isDestroyed:WD,isFinished:GD,isServerRequest:$D}=Bt(),K_=j_("kDestroy"),Zl=j_("kConstruct");function z_(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function jD(t,e){let r=this._readableState,o=this._writableState,l=o||r;return o!=null&&o.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(z_(t,o,r),o&&(o.destroyed=!0),r&&(r.destroyed=!0),l.constructed?G_(this,t,e):this.once(K_,function(c){G_(this,BD(c,t),e)}),this)}function G_(t,e,r){let o=!1;function l(c){if(o)return;o=!0;let h=t._readableState,g=t._writableState;z_(c,g,h),g&&(g.closed=!0),h&&(h.closed=!0),typeof r=="function"&&r(c),c?Yt.nextTick(KD,t,c):Yt.nextTick(Z_,t)}try{t._destroy(e||null,l)}catch(c){l(c)}}function KD(t,e){Xl(t,e),Z_(t)}function Z_(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function Xl(t,e){let r=t._readableState,o=t._writableState;o!=null&&o.errorEmitted||r!=null&&r.errorEmitted||(o&&(o.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function zD(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function Jl(t,e,r){let o=t._readableState,l=t._writableState;if(l!=null&&l.destroyed||o!=null&&o.destroyed)return this;o!=null&&o.autoDestroy||l!=null&&l.autoDestroy?t.destroy(e):e&&(e.stack,l&&!l.errored&&(l.errored=e),o&&!o.errored&&(o.errored=e),r?Yt.nextTick(Xl,t,e):Xl(t,e))}function ZD(t,e){if(typeof t._construct!="function")return;let r=t._readableState,o=t._writableState;r&&(r.constructed=!1),o&&(o.constructed=!1),t.once(Zl,e),!(t.listenerCount(Zl)>1)&&Yt.nextTick(XD,t)}function XD(t){let e=!1;function r(o){if(e){Jl(t,o??new YD);return}e=!0;let l=t._readableState,c=t._writableState,h=c||l;l&&(l.constructed=!0),c&&(c.constructed=!0),h.destroyed?t.emit(K_,o):o?Jl(t,o,!0):Yt.nextTick(JD,t)}try{t._construct(o=>{Yt.nextTick(r,o)})}catch(o){Yt.nextTick(r,o)}}function JD(t){t.emit(Zl)}function $_(t){return t?.setHeader&&typeof t.abort=="function"}function X_(t){t.emit("close")}function QD(t,e){t.emit("error",e),Yt.nextTick(X_,t)}function eR(t,e){!t||WD(t)||(!e&&!GD(t)&&(e=new VD),$D(t)?(t.socket=null,t.destroy(e)):$_(t)?t.abort():$_(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Yt.nextTick(QD,t,e):Yt.nextTick(X_,t),t.destroyed||(t[HD]=!0))}J_.exports={construct:ZD,destroyer:eR,destroy:jD,undestroy:zD,errorOrDestroy:Jl}});var rs=O((TV,e0)=>{"use strict";var{ArrayIsArray:tR,ObjectSetPrototypeOf:Q_}=Ie(),{EventEmitter:ts}=require("events");function ns(t){ts.call(this,t)}Q_(ns.prototype,ts.prototype);Q_(ns,ts);ns.prototype.pipe=function(t,e){let r=this;function o(N){t.writable&&t.write(N)===!1&&r.pause&&r.pause()}r.on("data",o);function l(){r.readable&&r.resume&&r.resume()}t.on("drain",l),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",h),r.on("close",g));let c=!1;function h(){c||(c=!0,t.end())}function g(){c||(c=!0,typeof t.destroy=="function"&&t.destroy())}function m(N){T(),ts.listenerCount(this,"error")===0&&this.emit("error",N)}Ql(r,"error",m),Ql(t,"error",m);function T(){r.removeListener("data",o),t.removeListener("drain",l),r.removeListener("end",h),r.removeListener("close",g),r.removeListener("error",m),t.removeListener("error",m),r.removeListener("end",T),r.removeListener("close",T),t.removeListener("close",T)}return r.on("end",T),r.on("close",T),t.on("close",T),t.emit("pipe",r),t};function Ql(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):tR(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}e0.exports={Stream:ns,prependListener:Ql}});var si=O((SV,is)=>{"use strict";var{SymbolDispose:nR}=Ie(),{AbortError:t0,codes:rR}=tt(),{isNodeStream:n0,isWebStream:iR,kControllerErrorFunction:oR}=Bt(),sR=tn(),{ERR_INVALID_ARG_TYPE:r0}=rR,ec,aR=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new r0(e,"AbortSignal",t)};is.exports.addAbortSignal=function(e,r){if(aR(e,"signal"),!n0(r)&&!iR(r))throw new r0("stream",["ReadableStream","WritableStream","Stream"],r);return is.exports.addAbortSignalNoValidate(e,r)};is.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=n0(e)?()=>{e.destroy(new t0(void 0,{cause:t.reason}))}:()=>{e[oR](new t0(void 0,{cause:t.reason}))};if(t.aborted)r();else{ec=ec||Ge().addAbortListener;let o=ec(t,r);sR(e,o[nR])}return e}});var s0=O((OV,o0)=>{"use strict";var{StringPrototypeSlice:i0,SymbolIterator:uR,TypedArrayPrototypeSet:os,Uint8Array:lR}=Ie(),{Buffer:tc}=require("buffer"),{inspect:cR}=Ge();o0.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,o=""+r.data;for(;(r=r.next)!==null;)o+=e+r.data;return o}concat(e){if(this.length===0)return tc.alloc(0);let r=tc.allocUnsafe(e>>>0),o=this.head,l=0;for(;o;)os(r,o.data,l),l+=o.data.length,o=o.next;return r}consume(e,r){let o=this.head.data;if(e<o.length){let l=o.slice(0,e);return this.head.data=o.slice(e),l}return e===o.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[uR](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",o=this.head,l=0;do{let c=o.data;if(e>c.length)r+=c,e-=c.length;else{e===c.length?(r+=c,++l,o.next?this.head=o.next:this.head=this.tail=null):(r+=i0(c,0,e),this.head=o,o.data=i0(c,e));break}++l}while((o=o.next)!==null);return this.length-=l,r}_getBuffer(e){let r=tc.allocUnsafe(e),o=e,l=this.head,c=0;do{let h=l.data;if(e>h.length)os(r,h,o-e),e-=h.length;else{e===h.length?(os(r,h,o-e),++c,l.next?this.head=l.next:this.head=this.tail=null):(os(r,new lR(h.buffer,h.byteOffset,e),o-e),this.head=l,l.data=h.slice(e));break}++c}while((l=l.next)!==null);return this.length-=c,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return cR(this,{...r,depth:0,customInspect:!1})}}});var ai=O((AV,c0)=>{"use strict";var{MathFloor:fR,NumberIsInteger:hR}=Ie(),{validateInteger:dR}=hr(),{ERR_INVALID_ARG_VALUE:pR}=tt().codes,a0=16*1024,u0=16;function _R(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function l0(t){return t?u0:a0}function gR(t,e){dR(e,"value",0),t?u0=e:a0=e}function mR(t,e,r,o){let l=_R(e,o,r);if(l!=null){if(!hR(l)||l<0){let c=o?`options.${r}`:"options.highWaterMark";throw new pR(c,l)}return fR(l)}return l0(t.objectMode)}c0.exports={getHighWaterMark:mR,getDefaultHighWaterMark:l0,setDefaultHighWaterMark:gR}});var nc=O((IV,p0)=>{"use strict";var f0=dn(),{PromisePrototypeThen:ER,SymbolAsyncIterator:h0,SymbolIterator:d0}=Ie(),{Buffer:yR}=require("buffer"),{ERR_INVALID_ARG_TYPE:wR,ERR_STREAM_NULL_VALUES:vR}=tt().codes;function TR(t,e,r){let o;if(typeof e=="string"||e instanceof yR)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let l;if(e&&e[h0])l=!0,o=e[h0]();else if(e&&e[d0])l=!1,o=e[d0]();else throw new wR("iterable",["Iterable"],e);let c=new t({objectMode:!0,highWaterMark:1,...r}),h=!1;c._read=function(){h||(h=!0,m())},c._destroy=function(T,N){ER(g(T),()=>f0.nextTick(N,T),A=>f0.nextTick(N,A||T))};async function g(T){let N=T!=null,A=typeof o.throw=="function";if(N&&A){let{value:R,done:F}=await o.throw(T);if(await R,F)return}if(typeof o.return=="function"){let{value:R}=await o.return();await R}}async function m(){for(;;){try{let{value:T,done:N}=l?await o.next():o.next();if(N)c.push(null);else{let A=T&&typeof T.then=="function"?await T:T;if(A===null)throw h=!1,new vR;if(c.push(A))continue;h=!1}}catch(T){c.destroy(T)}break}}return c}p0.exports=TR});var li=O((bV,C0)=>{var It=dn(),{ArrayPrototypeIndexOf:SR,NumberIsInteger:NR,NumberIsNaN:OR,NumberParseInt:AR,ObjectDefineProperties:cc,ObjectKeys:IR,ObjectSetPrototypeOf:m0,Promise:E0,SafeSet:bR,SymbolAsyncDispose:DR,SymbolAsyncIterator:RR,Symbol:LR}=Ie();C0.exports=te;te.ReadableState=ls;var{EventEmitter:CR}=require("events"),{Stream:_n,prependListener:MR}=rs(),{Buffer:rc}=require("buffer"),{addAbortSignal:PR}=si(),y0=tn(),se=Ge().debuglog("stream",t=>{se=t}),FR=s0(),gr=Mn(),{getHighWaterMark:xR,getDefaultHighWaterMark:UR}=ai(),{aggregateTwoErrors:_0,codes:{ERR_INVALID_ARG_TYPE:kR,ERR_METHOD_NOT_IMPLEMENTED:qR,ERR_OUT_OF_RANGE:BR,ERR_STREAM_PUSH_AFTER_EOF:YR,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:VR},AbortError:HR}=tt(),{validateObject:WR}=hr(),Pn=LR("kPaused"),{StringDecoder:w0}=require("string_decoder"),GR=nc();m0(te.prototype,_n.prototype);m0(te,_n);var ic=()=>{},{errorOrDestroy:pr}=gr,_r=1<<0,$R=1<<1,v0=1<<2,ui=1<<3,T0=1<<4,ss=1<<5,as=1<<6,S0=1<<7,jR=1<<8,KR=1<<9,zR=1<<10,uc=1<<11,lc=1<<12,ZR=1<<13,XR=1<<14,JR=1<<15,N0=1<<16,QR=1<<17,eL=1<<18;function xe(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}cc(ls.prototype,{objectMode:xe(_r),ended:xe($R),endEmitted:xe(v0),reading:xe(ui),constructed:xe(T0),sync:xe(ss),needReadable:xe(as),emittedReadable:xe(S0),readableListening:xe(jR),resumeScheduled:xe(KR),errorEmitted:xe(zR),emitClose:xe(uc),autoDestroy:xe(lc),destroyed:xe(ZR),closed:xe(XR),closeEmitted:xe(JR),multiAwaitDrain:xe(N0),readingMore:xe(QR),dataEmitted:xe(eL)});function ls(t,e,r){typeof r!="boolean"&&(r=e instanceof Vt()),this.state=uc|lc|T0|ss,t&&t.objectMode&&(this.state|=_r),r&&t&&t.readableObjectMode&&(this.state|=_r),this.highWaterMark=t?xR(this,t,"readableHighWaterMark",r):UR(!1),this.buffer=new FR,this.length=0,this.pipes=[],this.flowing=null,this[Pn]=null,t&&t.emitClose===!1&&(this.state&=~uc),t&&t.autoDestroy===!1&&(this.state&=~lc),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new w0(t.encoding),this.encoding=t.encoding)}function te(t){if(!(this instanceof te))return new te(t);let e=this instanceof Vt();this._readableState=new ls(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&PR(t.signal,this)),_n.call(this,t),gr.construct(this,()=>{this._readableState.needReadable&&us(this,this._readableState)})}te.prototype.destroy=gr.destroy;te.prototype._undestroy=gr.undestroy;te.prototype._destroy=function(t,e){e(t)};te.prototype[CR.captureRejectionSymbol]=function(t){this.destroy(t)};te.prototype[DR]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new HR,this.destroy(t)),new E0((e,r)=>y0(this,o=>o&&o!==t?r(o):e(null)))};te.prototype.push=function(t,e){return O0(this,t,e,!1)};te.prototype.unshift=function(t,e){return O0(this,t,e,!0)};function O0(t,e,r,o){se("readableAddChunk",e);let l=t._readableState,c;if((l.state&_r)===0&&(typeof e=="string"?(r=r||l.defaultEncoding,l.encoding!==r&&(o&&l.encoding?e=rc.from(e,r).toString(l.encoding):(e=rc.from(e,r),r=""))):e instanceof rc?r="":_n._isUint8Array(e)?(e=_n._uint8ArrayToBuffer(e),r=""):e!=null&&(c=new kR("chunk",["string","Buffer","Uint8Array"],e))),c)pr(t,c);else if(e===null)l.state&=~ui,rL(t,l);else if((l.state&_r)!==0||e&&e.length>0)if(o)if((l.state&v0)!==0)pr(t,new VR);else{if(l.destroyed||l.errored)return!1;oc(t,l,e,!0)}else if(l.ended)pr(t,new YR);else{if(l.destroyed||l.errored)return!1;l.state&=~ui,l.decoder&&!r?(e=l.decoder.write(e),l.objectMode||e.length!==0?oc(t,l,e,!1):us(t,l)):oc(t,l,e,!1)}else o||(l.state&=~ui,us(t,l));return!l.ended&&(l.length<l.highWaterMark||l.length===0)}function oc(t,e,r,o){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&N0)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,o?e.buffer.unshift(r):e.buffer.push(r),(e.state&as)!==0&&cs(t)),us(t,e)}te.prototype.isPaused=function(){let t=this._readableState;return t[Pn]===!0||t.flowing===!1};te.prototype.setEncoding=function(t){let e=new w0(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,o="";for(let l of r)o+=e.write(l);return r.clear(),o!==""&&r.push(o),this._readableState.length=o.length,this};var tL=1073741824;function nL(t){if(t>tL)throw new BR("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function g0(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&_r)!==0?1:OR(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}te.prototype.read=function(t){se("read",t),t===void 0?t=NaN:NR(t)||(t=AR(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=nL(t)),t!==0&&(e.state&=~S0),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return se("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?sc(this):cs(this),null;if(t=g0(t,e),t===0&&e.ended)return e.length===0&&sc(this),null;let o=(e.state&as)!==0;if(se("need readable",o),(e.length===0||e.length-t<e.highWaterMark)&&(o=!0,se("length less than watermark",o)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)o=!1,se("reading, ended or constructing",o);else if(o){se("do read"),e.state|=ui|ss,e.length===0&&(e.state|=as);try{this._read(e.highWaterMark)}catch(c){pr(this,c)}e.state&=~ss,e.reading||(t=g0(r,e))}let l;return t>0?l=R0(t,e):l=null,l===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&sc(this)),l!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",l)),l};function rL(t,e){if(se("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?cs(t):(e.needReadable=!1,e.emittedReadable=!0,A0(t))}}function cs(t){let e=t._readableState;se("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(se("emitReadable",e.flowing),e.emittedReadable=!0,It.nextTick(A0,t))}function A0(t){let e=t._readableState;se("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,b0(t)}function us(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,It.nextTick(iL,t,e))}function iL(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(se("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}te.prototype._read=function(t){throw new qR("_read()")};te.prototype.pipe=function(t,e){let r=this,o=this._readableState;o.pipes.length===1&&(o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new bR(o.awaitDrainWriters?[o.awaitDrainWriters]:[]))),o.pipes.push(t),se("pipe count=%d opts=%j",o.pipes.length,e);let c=(!e||e.end!==!1)&&t!==It.stdout&&t!==It.stderr?g:U;o.endEmitted?It.nextTick(c):r.once("end",c),t.on("unpipe",h);function h(S,L){se("onunpipe"),S===r&&L&&L.hasUnpiped===!1&&(L.hasUnpiped=!0,N())}function g(){se("onend"),t.end()}let m,T=!1;function N(){se("cleanup"),t.removeListener("close",P),t.removeListener("finish",y),m&&t.removeListener("drain",m),t.removeListener("error",F),t.removeListener("unpipe",h),r.removeListener("end",g),r.removeListener("end",U),r.removeListener("data",R),T=!0,m&&o.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&m()}function A(){T||(o.pipes.length===1&&o.pipes[0]===t?(se("false write response, pause",0),o.awaitDrainWriters=t,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(t)&&(se("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(t)),r.pause()),m||(m=oL(r,t),t.on("drain",m))}r.on("data",R);function R(S){se("ondata");let L=t.write(S);se("dest.write",L),L===!1&&A()}function F(S){if(se("onerror",S),U(),t.removeListener("error",F),t.listenerCount("error")===0){let L=t._writableState||t._readableState;L&&!L.errorEmitted?pr(t,S):t.emit("error",S)}}MR(t,"error",F);function P(){t.removeListener("finish",y),U()}t.once("close",P);function y(){se("onfinish"),t.removeListener("close",P),U()}t.once("finish",y);function U(){se("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?A():o.flowing||(se("pipe resume"),r.resume()),t};function oL(t,e){return function(){let o=t._readableState;o.awaitDrainWriters===e?(se("pipeOnDrain",1),o.awaitDrainWriters=null):o.multiAwaitDrain&&(se("pipeOnDrain",o.awaitDrainWriters.size),o.awaitDrainWriters.delete(e)),(!o.awaitDrainWriters||o.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}te.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let l=e.pipes;e.pipes=[],this.pause();for(let c=0;c<l.length;c++)l[c].emit("unpipe",this,{hasUnpiped:!1});return this}let o=SR(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};te.prototype.on=function(t,e){let r=_n.prototype.on.call(this,t,e),o=this._readableState;return t==="data"?(o.readableListening=this.listenerCount("readable")>0,o.flowing!==!1&&this.resume()):t==="readable"&&!o.endEmitted&&!o.readableListening&&(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,se("on readable",o.length,o.reading),o.length?cs(this):o.reading||It.nextTick(sL,this)),r};te.prototype.addListener=te.prototype.on;te.prototype.removeListener=function(t,e){let r=_n.prototype.removeListener.call(this,t,e);return t==="readable"&&It.nextTick(I0,this),r};te.prototype.off=te.prototype.removeListener;te.prototype.removeAllListeners=function(t){let e=_n.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&It.nextTick(I0,this),e};function I0(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Pn]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function sL(t){se("readable nexttick read 0"),t.read(0)}te.prototype.resume=function(){let t=this._readableState;return t.flowing||(se("resume"),t.flowing=!t.readableListening,aL(this,t)),t[Pn]=!1,this};function aL(t,e){e.resumeScheduled||(e.resumeScheduled=!0,It.nextTick(uL,t,e))}function uL(t,e){se("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),b0(t),e.flowing&&!e.reading&&t.read(0)}te.prototype.pause=function(){return se("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Pn]=!0,this};function b0(t){let e=t._readableState;for(se("flow",e.flowing);e.flowing&&t.read()!==null;);}te.prototype.wrap=function(t){let e=!1;t.on("data",o=>{!this.push(o)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",o=>{pr(this,o)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=IR(t);for(let o=1;o<r.length;o++){let l=r[o];this[l]===void 0&&typeof t[l]=="function"&&(this[l]=t[l].bind(t))}return this};te.prototype[RR]=function(){return D0(this)};te.prototype.iterator=function(t){return t!==void 0&&WR(t,"options"),D0(this,t)};function D0(t,e){typeof t.read!="function"&&(t=te.wrap(t,{objectMode:!0}));let r=lL(t,e);return r.stream=t,r}async function*lL(t,e){let r=ic;function o(h){this===t?(r(),r=ic):r=h}t.on("readable",o);let l,c=y0(t,{writable:!1},h=>{l=h?_0(l,h):null,r(),r=ic});try{for(;;){let h=t.destroyed?null:t.read();if(h!==null)yield h;else{if(l)throw l;if(l===null)return;await new E0(o)}}}catch(h){throw l=_0(l,h),l}finally{(l||e?.destroyOnReturn!==!1)&&(l===void 0||t._readableState.autoDestroy)?gr.destroyer(t,null):(t.off("readable",o),c())}}cc(te.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){!this._readableState||(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});cc(ls.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Pn]!==!1},set(t){this[Pn]=!!t}}});te._fromList=R0;function R0(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function sc(t){let e=t._readableState;se("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,It.nextTick(cL,e,t))}function cL(t,e){if(se("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)It.nextTick(fL,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function fL(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}te.from=function(t,e){return GR(te,t,e)};var ac;function L0(){return ac===void 0&&(ac={}),ac}te.fromWeb=function(t,e){return L0().newStreamReadableFromReadableStream(t,e)};te.toWeb=function(t,e){return L0().newReadableStreamFromStreamReadable(t,e)};te.wrap=function(t,e){var r,o;return new te({objectMode:(r=(o=t.readableObjectMode)!==null&&o!==void 0?o:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(l,c){gr.destroyer(t,l),c(l)}}).wrap(t)}});var _s=O((DV,W0)=>{var Fn=dn(),{ArrayPrototypeSlice:F0,Error:hL,FunctionPrototypeSymbolHasInstance:x0,ObjectDefineProperty:U0,ObjectDefineProperties:dL,ObjectSetPrototypeOf:k0,StringPrototypeToLowerCase:pL,Symbol:_L,SymbolHasInstance:gL}=Ie();W0.exports=be;be.WritableState=hi;var{EventEmitter:mL}=require("events"),ci=rs().Stream,{Buffer:fs}=require("buffer"),ps=Mn(),{addAbortSignal:EL}=si(),{getHighWaterMark:yL,getDefaultHighWaterMark:wL}=ai(),{ERR_INVALID_ARG_TYPE:vL,ERR_METHOD_NOT_IMPLEMENTED:TL,ERR_MULTIPLE_CALLBACK:q0,ERR_STREAM_CANNOT_PIPE:SL,ERR_STREAM_DESTROYED:fi,ERR_STREAM_ALREADY_FINISHED:NL,ERR_STREAM_NULL_VALUES:OL,ERR_STREAM_WRITE_AFTER_END:AL,ERR_UNKNOWN_ENCODING:B0}=tt().codes,{errorOrDestroy:mr}=ps;k0(be.prototype,ci.prototype);k0(be,ci);function dc(){}var Er=_L("kOnFinished");function hi(t,e,r){typeof r!="boolean"&&(r=e instanceof Vt()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?yL(this,t,"writableHighWaterMark",r):wL(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let o=!!(t&&t.decodeStrings===!1);this.decodeStrings=!o,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=bL.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ds(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Er]=[]}function ds(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}hi.prototype.getBuffer=function(){return F0(this.buffered,this.bufferedIndex)};U0(hi.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function be(t){let e=this instanceof Vt();if(!e&&!x0(be,this))return new be(t);this._writableState=new hi(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&EL(t.signal,this)),ci.call(this,t),ps.construct(this,()=>{let r=this._writableState;r.writing||_c(this,r),gc(this,r)})}U0(be,gL,{__proto__:null,value:function(t){return x0(this,t)?!0:this!==be?!1:t&&t._writableState instanceof hi}});be.prototype.pipe=function(){mr(this,new SL)};function Y0(t,e,r,o){let l=t._writableState;if(typeof r=="function")o=r,r=l.defaultEncoding;else{if(!r)r=l.defaultEncoding;else if(r!=="buffer"&&!fs.isEncoding(r))throw new B0(r);typeof o!="function"&&(o=dc)}if(e===null)throw new OL;if(!l.objectMode)if(typeof e=="string")l.decodeStrings!==!1&&(e=fs.from(e,r),r="buffer");else if(e instanceof fs)r="buffer";else if(ci._isUint8Array(e))e=ci._uint8ArrayToBuffer(e),r="buffer";else throw new vL("chunk",["string","Buffer","Uint8Array"],e);let c;return l.ending?c=new AL:l.destroyed&&(c=new fi("write")),c?(Fn.nextTick(o,c),mr(t,c,!0),c):(l.pendingcb++,IL(t,l,e,r,o))}be.prototype.write=function(t,e,r){return Y0(this,t,e,r)===!0};be.prototype.cork=function(){this._writableState.corked++};be.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||_c(this,t))};be.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=pL(e)),!fs.isEncoding(e))throw new B0(e);return this._writableState.defaultEncoding=e,this};function IL(t,e,r,o,l){let c=e.objectMode?1:r.length;e.length+=c;let h=e.length<e.highWaterMark;return h||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:o,callback:l}),e.allBuffers&&o!=="buffer"&&(e.allBuffers=!1),e.allNoop&&l!==dc&&(e.allNoop=!1)):(e.writelen=c,e.writecb=l,e.writing=!0,e.sync=!0,t._write(r,o,e.onwrite),e.sync=!1),h&&!e.errored&&!e.destroyed}function M0(t,e,r,o,l,c,h){e.writelen=o,e.writecb=h,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new fi("write")):r?t._writev(l,e.onwrite):t._write(l,c,e.onwrite),e.sync=!1}function P0(t,e,r,o){--e.pendingcb,o(r),pc(e),mr(t,r)}function bL(t,e){let r=t._writableState,o=r.sync,l=r.writecb;if(typeof l!="function"){mr(t,new q0);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),o?Fn.nextTick(P0,t,r,e,l):P0(t,r,e,l)):(r.buffered.length>r.bufferedIndex&&_c(t,r),o?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===l?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:l,stream:t,state:r},Fn.nextTick(DL,r.afterWriteTickInfo)):V0(t,r,1,l))}function DL({stream:t,state:e,count:r,cb:o}){return e.afterWriteTickInfo=null,V0(t,e,r,o)}function V0(t,e,r,o){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,o();e.destroyed&&pc(e),gc(t,e)}function pc(t){if(t.writing)return;for(let l=t.bufferedIndex;l<t.buffered.length;++l){var e;let{chunk:c,callback:h}=t.buffered[l],g=t.objectMode?1:c.length;t.length-=g,h((e=t.errored)!==null&&e!==void 0?e:new fi("write"))}let r=t[Er].splice(0);for(let l=0;l<r.length;l++){var o;r[l]((o=t.errored)!==null&&o!==void 0?o:new fi("end"))}ds(t)}function _c(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:o,objectMode:l}=e,c=r.length-o;if(!c)return;let h=o;if(e.bufferProcessing=!0,c>1&&t._writev){e.pendingcb-=c-1;let g=e.allNoop?dc:T=>{for(let N=h;N<r.length;++N)r[N].callback(T)},m=e.allNoop&&h===0?r:F0(r,h);m.allBuffers=e.allBuffers,M0(t,e,!0,e.length,m,"",g),ds(e)}else{do{let{chunk:g,encoding:m,callback:T}=r[h];r[h++]=null;let N=l?1:g.length;M0(t,e,!1,N,g,m,T)}while(h<r.length&&!e.writing);h===r.length?ds(e):h>256?(r.splice(0,h),e.bufferedIndex=0):e.bufferedIndex=h}e.bufferProcessing=!1}be.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new TL("_write()")};be.prototype._writev=null;be.prototype.end=function(t,e,r){let o=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let l;if(t!=null){let c=Y0(this,t,e);c instanceof hL&&(l=c)}return o.corked&&(o.corked=1,this.uncork()),l||(!o.errored&&!o.ending?(o.ending=!0,gc(this,o,!0),o.ended=!0):o.finished?l=new NL("end"):o.destroyed&&(l=new fi("end"))),typeof r=="function"&&(l||o.finished?Fn.nextTick(r,l):o[Er].push(r)),this};function hs(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function RL(t,e){let r=!1;function o(l){if(r){mr(t,l??q0());return}if(r=!0,e.pendingcb--,l){let c=e[Er].splice(0);for(let h=0;h<c.length;h++)c[h](l);mr(t,l,e.sync)}else hs(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Fn.nextTick(hc,t,e))}e.sync=!0,e.pendingcb++;try{t._final(o)}catch(l){o(l)}e.sync=!1}function LL(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,RL(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function gc(t,e,r){hs(e)&&(LL(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Fn.nextTick((o,l)=>{hs(l)?hc(o,l):l.pendingcb--},t,e)):hs(e)&&(e.pendingcb++,hc(t,e))))}function hc(t,e){e.pendingcb--,e.finished=!0;let r=e[Er].splice(0);for(let o=0;o<r.length;o++)r[o]();if(t.emit("finish"),e.autoDestroy){let o=t._readableState;(!o||o.autoDestroy&&(o.endEmitted||o.readable===!1))&&t.destroy()}}dL(be.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var CL=ps.destroy;be.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Er].length)&&Fn.nextTick(pc,r),CL.call(this,t,e),this};be.prototype._undestroy=ps.undestroy;be.prototype._destroy=function(t,e){e(t)};be.prototype[mL.captureRejectionSymbol]=function(t){this.destroy(t)};var fc;function H0(){return fc===void 0&&(fc={}),fc}be.fromWeb=function(t,e){return H0().newStreamWritableFromWritableStream(t,e)};be.toWeb=function(t){return H0().newWritableStreamFromStreamWritable(t)}});var og=O((RV,ig)=>{var mc=dn(),ML=require("buffer"),{isReadable:PL,isWritable:FL,isIterable:G0,isNodeStream:xL,isReadableNodeStream:$0,isWritableNodeStream:j0,isDuplexNodeStream:UL,isReadableStream:K0,isWritableStream:z0}=Bt(),Z0=tn(),{AbortError:ng,codes:{ERR_INVALID_ARG_TYPE:kL,ERR_INVALID_RETURN_VALUE:X0}}=tt(),{destroyer:wr}=Mn(),qL=Vt(),rg=li(),BL=_s(),{createDeferredPromise:J0}=Ge(),Q0=nc(),eg=globalThis.Blob||ML.Blob,YL=typeof eg<"u"?function(e){return e instanceof eg}:function(e){return!1},VL=globalThis.AbortController||cr().AbortController,{FunctionPrototypeCall:tg}=Ie(),gn=class extends qL{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};ig.exports=function t(e,r){if(UL(e))return e;if($0(e))return yr({readable:e});if(j0(e))return yr({writable:e});if(xL(e))return yr({writable:!1,readable:!1});if(K0(e))return yr({readable:rg.fromWeb(e)});if(z0(e))return yr({writable:BL.fromWeb(e)});if(typeof e=="function"){let{value:l,write:c,final:h,destroy:g}=HL(e);if(G0(l))return Q0(gn,l,{objectMode:!0,write:c,final:h,destroy:g});let m=l?.then;if(typeof m=="function"){let T,N=tg(m,l,A=>{if(A!=null)throw new X0("nully","body",A)},A=>{wr(T,A)});return T=new gn({objectMode:!0,readable:!1,write:c,final(A){h(async()=>{try{await N,mc.nextTick(A,null)}catch(R){mc.nextTick(A,R)}})},destroy:g})}throw new X0("Iterable, AsyncIterable or AsyncFunction",r,l)}if(YL(e))return t(e.arrayBuffer());if(G0(e))return Q0(gn,e,{objectMode:!0,writable:!1});if(K0(e?.readable)&&z0(e?.writable))return gn.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let l=e!=null&&e.readable?$0(e?.readable)?e?.readable:t(e.readable):void 0,c=e!=null&&e.writable?j0(e?.writable)?e?.writable:t(e.writable):void 0;return yr({readable:l,writable:c})}let o=e?.then;if(typeof o=="function"){let l;return tg(o,e,c=>{c!=null&&l.push(c),l.push(null)},c=>{wr(l,c)}),l=new gn({objectMode:!0,writable:!1,read(){}})}throw new kL(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function HL(t){let{promise:e,resolve:r}=J0(),o=new VL,l=o.signal;return{value:t(async function*(){for(;;){let h=e;e=null;let{chunk:g,done:m,cb:T}=await h;if(mc.nextTick(T),m)return;if(l.aborted)throw new ng(void 0,{cause:l.reason});({promise:e,resolve:r}=J0()),yield g}}(),{signal:l}),write(h,g,m){let T=r;r=null,T({chunk:h,done:!1,cb:m})},final(h){let g=r;r=null,g({done:!0,cb:h})},destroy(h,g){o.abort(),g(h)}}}function yr(t){let e=t.readable&&typeof t.readable.read!="function"?rg.wrap(t.readable):t.readable,r=t.writable,o=!!PL(e),l=!!FL(r),c,h,g,m,T;function N(A){let R=m;m=null,R?R(A):A&&T.destroy(A)}return T=new gn({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:o,writable:l}),l&&(Z0(r,A=>{l=!1,A&&wr(e,A),N(A)}),T._write=function(A,R,F){r.write(A,R)?F():c=F},T._final=function(A){r.end(),h=A},r.on("drain",function(){if(c){let A=c;c=null,A()}}),r.on("finish",function(){if(h){let A=h;h=null,A()}})),o&&(Z0(e,A=>{o=!1,A&&wr(e,A),N(A)}),e.on("readable",function(){if(g){let A=g;g=null,A()}}),e.on("end",function(){T.push(null)}),T._read=function(){for(;;){let A=e.read();if(A===null){g=T._read;return}if(!T.push(A))return}}),T._destroy=function(A,R){!A&&m!==null&&(A=new ng),g=null,c=null,h=null,m===null?R(A):(m=R,wr(r,A),wr(e,A))},T}});var Vt=O((LV,ug)=>{"use strict";var{ObjectDefineProperties:WL,ObjectGetOwnPropertyDescriptor:nn,ObjectKeys:GL,ObjectSetPrototypeOf:sg}=Ie();ug.exports=bt;var wc=li(),yt=_s();sg(bt.prototype,wc.prototype);sg(bt,wc);{let t=GL(yt.prototype);for(let e=0;e<t.length;e++){let r=t[e];bt.prototype[r]||(bt.prototype[r]=yt.prototype[r])}}function bt(t){if(!(this instanceof bt))return new bt(t);wc.call(this,t),yt.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}WL(bt.prototype,{writable:{__proto__:null,...nn(yt.prototype,"writable")},writableHighWaterMark:{__proto__:null,...nn(yt.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...nn(yt.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...nn(yt.prototype,"writableBuffer")},writableLength:{__proto__:null,...nn(yt.prototype,"writableLength")},writableFinished:{__proto__:null,...nn(yt.prototype,"writableFinished")},writableCorked:{__proto__:null,...nn(yt.prototype,"writableCorked")},writableEnded:{__proto__:null,...nn(yt.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...nn(yt.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var Ec;function ag(){return Ec===void 0&&(Ec={}),Ec}bt.fromWeb=function(t,e){return ag().newStreamDuplexFromReadableWritablePair(t,e)};bt.toWeb=function(t){return ag().newReadableWritablePairFromDuplex(t)};var yc;bt.from=function(t){return yc||(yc=og()),yc(t,"body")}});var Sc=O((CV,cg)=>{"use strict";var{ObjectSetPrototypeOf:lg,Symbol:$L}=Ie();cg.exports=rn;var{ERR_METHOD_NOT_IMPLEMENTED:jL}=tt().codes,Tc=Vt(),{getHighWaterMark:KL}=ai();lg(rn.prototype,Tc.prototype);lg(rn,Tc);var di=$L("kCallback");function rn(t){if(!(this instanceof rn))return new rn(t);let e=t?KL(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),Tc.call(this,t),this._readableState.sync=!1,this[di]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",zL)}function vc(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function zL(){this._final!==vc&&vc.call(this)}rn.prototype._final=vc;rn.prototype._transform=function(t,e,r){throw new jL("_transform()")};rn.prototype._write=function(t,e,r){let o=this._readableState,l=this._writableState,c=o.length;this._transform(t,e,(h,g)=>{if(h){r(h);return}g!=null&&this.push(g),l.ended||c===o.length||o.length<o.highWaterMark?r():this[di]=r})};rn.prototype._read=function(){if(this[di]){let t=this[di];this[di]=null,t()}}});var Oc=O((MV,hg)=>{"use strict";var{ObjectSetPrototypeOf:fg}=Ie();hg.exports=vr;var Nc=Sc();fg(vr.prototype,Nc.prototype);fg(vr,Nc);function vr(t){if(!(this instanceof vr))return new vr(t);Nc.call(this,t)}vr.prototype._transform=function(t,e,r){r(null,t)}});var ys=O((PV,mg)=>{var pi=dn(),{ArrayIsArray:ZL,Promise:XL,SymbolAsyncIterator:JL,SymbolDispose:QL}=Ie(),Es=tn(),{once:eC}=Ge(),tC=Mn(),dg=Vt(),{aggregateTwoErrors:nC,codes:{ERR_INVALID_ARG_TYPE:Pc,ERR_INVALID_RETURN_VALUE:Ac,ERR_MISSING_ARGS:rC,ERR_STREAM_DESTROYED:iC,ERR_STREAM_PREMATURE_CLOSE:oC},AbortError:sC}=tt(),{validateFunction:aC,validateAbortSignal:uC}=hr(),{isIterable:xn,isReadable:Ic,isReadableNodeStream:ms,isNodeStream:pg,isTransformStream:Tr,isWebStream:lC,isReadableStream:bc,isReadableFinished:cC}=Bt(),fC=globalThis.AbortController||cr().AbortController,Dc,Rc,Lc;function _g(t,e,r){let o=!1;t.on("close",()=>{o=!0});let l=Es(t,{readable:e,writable:r},c=>{o=!c});return{destroy:c=>{o||(o=!0,tC.destroyer(t,c||new iC("pipe")))},cleanup:l}}function hC(t){return aC(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function Cc(t){if(xn(t))return t;if(ms(t))return dC(t);throw new Pc("val",["Readable","Iterable","AsyncIterable"],t)}async function*dC(t){Rc||(Rc=li()),yield*Rc.prototype[JL].call(t)}async function gs(t,e,r,{end:o}){let l,c=null,h=T=>{if(T&&(l=T),c){let N=c;c=null,N()}},g=()=>new XL((T,N)=>{l?N(l):c=()=>{l?N(l):T()}});e.on("drain",h);let m=Es(e,{readable:!1},h);try{e.writableNeedDrain&&await g();for await(let T of t)e.write(T)||await g();o&&(e.end(),await g()),r()}catch(T){r(l!==T?nC(l,T):T)}finally{m(),e.off("drain",h)}}async function Mc(t,e,r,{end:o}){Tr(e)&&(e=e.writable);let l=e.getWriter();try{for await(let c of t)await l.ready,l.write(c).catch(()=>{});await l.ready,o&&await l.close(),r()}catch(c){try{await l.abort(c),r(c)}catch(h){r(h)}}}function pC(...t){return gg(t,eC(hC(t)))}function gg(t,e,r){if(t.length===1&&ZL(t[0])&&(t=t[0]),t.length<2)throw new rC("streams");let o=new fC,l=o.signal,c=r?.signal,h=[];uC(c,"options.signal");function g(){P(new sC)}Lc=Lc||Ge().addAbortListener;let m;c&&(m=Lc(c,g));let T,N,A=[],R=0;function F(I){P(I,--R===0)}function P(I,D){var p;if(I&&(!T||T.code==="ERR_STREAM_PREMATURE_CLOSE")&&(T=I),!(!T&&!D)){for(;A.length;)A.shift()(T);(p=m)===null||p===void 0||p[QL](),o.abort(),D&&(T||h.forEach(J=>J()),pi.nextTick(e,T,N))}}let y;for(let I=0;I<t.length;I++){let D=t[I],p=I<t.length-1,J=I>0,Y=p||r?.end!==!1,G=I===t.length-1;if(pg(D)){let q=function(rt){rt&&rt.name!=="AbortError"&&rt.code!=="ERR_STREAM_PREMATURE_CLOSE"&&F(rt)};var L=q;if(Y){let{destroy:rt,cleanup:Ce}=_g(D,p,J);A.push(rt),Ic(D)&&G&&h.push(Ce)}D.on("error",q),Ic(D)&&G&&h.push(()=>{D.removeListener("error",q)})}if(I===0)if(typeof D=="function"){if(y=D({signal:l}),!xn(y))throw new Ac("Iterable, AsyncIterable or Stream","source",y)}else xn(D)||ms(D)||Tr(D)?y=D:y=dg.from(D);else if(typeof D=="function"){if(Tr(y)){var U;y=Cc((U=y)===null||U===void 0?void 0:U.readable)}else y=Cc(y);if(y=D(y,{signal:l}),p){if(!xn(y,!0))throw new Ac("AsyncIterable",`transform[${I-1}]`,y)}else{var S;Dc||(Dc=Oc());let q=new Dc({objectMode:!0}),rt=(S=y)===null||S===void 0?void 0:S.then;if(typeof rt=="function")R++,rt.call(y,v=>{N=v,v!=null&&q.write(v),Y&&q.end(),pi.nextTick(F)},v=>{q.destroy(v),pi.nextTick(F,v)});else if(xn(y,!0))R++,gs(y,q,F,{end:Y});else if(bc(y)||Tr(y)){let v=y.readable||y;R++,gs(v,q,F,{end:Y})}else throw new Ac("AsyncIterable or Promise","destination",y);y=q;let{destroy:Ce,cleanup:An}=_g(y,!1,!0);A.push(Ce),G&&h.push(An)}}else if(pg(D)){if(ms(y)){R+=2;let q=_C(y,D,F,{end:Y});Ic(D)&&G&&h.push(q)}else if(Tr(y)||bc(y)){let q=y.readable||y;R++,gs(q,D,F,{end:Y})}else if(xn(y))R++,gs(y,D,F,{end:Y});else throw new Pc("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=D}else if(lC(D)){if(ms(y))R++,Mc(Cc(y),D,F,{end:Y});else if(bc(y)||xn(y))R++,Mc(y,D,F,{end:Y});else if(Tr(y))R++,Mc(y.readable,D,F,{end:Y});else throw new Pc("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=D}else y=dg.from(D)}return(l!=null&&l.aborted||c!=null&&c.aborted)&&pi.nextTick(g),y}function _C(t,e,r,{end:o}){let l=!1;if(e.on("close",()=>{l||r(new oC)}),t.pipe(e,{end:!1}),o){let h=function(){l=!0,e.end()};var c=h;cC(t)?pi.nextTick(h):t.once("end",h)}else r();return Es(t,{readable:!0,writable:!1},h=>{let g=t._readableState;h&&h.code==="ERR_STREAM_PREMATURE_CLOSE"&&g&&g.ended&&!g.errored&&!g.errorEmitted?t.once("end",r).once("error",r):r(h)}),Es(e,{readable:!1,writable:!0},r)}mg.exports={pipelineImpl:gg,pipeline:pC}});var xc=O((FV,Sg)=>{"use strict";var{pipeline:gC}=ys(),ws=Vt(),{destroyer:mC}=Mn(),{isNodeStream:vs,isReadable:Eg,isWritable:yg,isWebStream:Fc,isTransformStream:Un,isWritableStream:wg,isReadableStream:vg}=Bt(),{AbortError:EC,codes:{ERR_INVALID_ARG_VALUE:Tg,ERR_MISSING_ARGS:yC}}=tt(),wC=tn();Sg.exports=function(...e){if(e.length===0)throw new yC("streams");if(e.length===1)return ws.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=ws.from(e[0])),typeof e[e.length-1]=="function"){let F=e.length-1;e[F]=ws.from(e[F])}for(let F=0;F<e.length;++F)if(!(!vs(e[F])&&!Fc(e[F]))){if(F<e.length-1&&!(Eg(e[F])||vg(e[F])||Un(e[F])))throw new Tg(`streams[${F}]`,r[F],"must be readable");if(F>0&&!(yg(e[F])||wg(e[F])||Un(e[F])))throw new Tg(`streams[${F}]`,r[F],"must be writable")}let o,l,c,h,g;function m(F){let P=h;h=null,P?P(F):F?g.destroy(F):!R&&!A&&g.destroy()}let T=e[0],N=gC(e,m),A=!!(yg(T)||wg(T)||Un(T)),R=!!(Eg(N)||vg(N)||Un(N));if(g=new ws({writableObjectMode:!!(T!=null&&T.writableObjectMode),readableObjectMode:!!(N!=null&&N.readableObjectMode),writable:A,readable:R}),A){if(vs(T))g._write=function(P,y,U){T.write(P,y)?U():o=U},g._final=function(P){T.end(),l=P},T.on("drain",function(){if(o){let P=o;o=null,P()}});else if(Fc(T)){let y=(Un(T)?T.writable:T).getWriter();g._write=async function(U,S,L){try{await y.ready,y.write(U).catch(()=>{}),L()}catch(I){L(I)}},g._final=async function(U){try{await y.ready,y.close().catch(()=>{}),l=U}catch(S){U(S)}}}let F=Un(N)?N.readable:N;wC(F,()=>{if(l){let P=l;l=null,P()}})}if(R){if(vs(N))N.on("readable",function(){if(c){let F=c;c=null,F()}}),N.on("end",function(){g.push(null)}),g._read=function(){for(;;){let F=N.read();if(F===null){c=g._read;return}if(!g.push(F))return}};else if(Fc(N)){let P=(Un(N)?N.readable:N).getReader();g._read=async function(){for(;;)try{let{value:y,done:U}=await P.read();if(!g.push(y))return;if(U){g.push(null);return}}catch{return}}}}return g._destroy=function(F,P){!F&&h!==null&&(F=new EC),c=null,o=null,l=null,h===null?P(F):(h=P,vs(N)&&mC(N,F))},g}});var Mg=O((xV,qc)=>{"use strict";var vC=globalThis.AbortController||cr().AbortController,{codes:{ERR_INVALID_ARG_VALUE:TC,ERR_INVALID_ARG_TYPE:_i,ERR_MISSING_ARGS:SC,ERR_OUT_OF_RANGE:NC},AbortError:Ht}=tt(),{validateAbortSignal:kn,validateInteger:Ng,validateObject:qn}=hr(),OC=Ie().Symbol("kWeak"),AC=Ie().Symbol("kResistStopPropagation"),{finished:IC}=tn(),bC=xc(),{addAbortSignalNoValidate:DC}=si(),{isWritable:RC,isNodeStream:LC}=Bt(),{deprecate:CC}=Ge(),{ArrayPrototypePush:MC,Boolean:PC,MathFloor:Og,Number:FC,NumberIsNaN:xC,Promise:Ag,PromiseReject:Ig,PromiseResolve:UC,PromisePrototypeThen:bg,Symbol:Rg}=Ie(),Ts=Rg("kEmpty"),Dg=Rg("kEof");function kC(t,e){if(e!=null&&qn(e,"options"),e?.signal!=null&&kn(e.signal,"options.signal"),LC(t)&&!RC(t))throw new TC("stream",t,"must be writable");let r=bC(this,t);return e!=null&&e.signal&&DC(e.signal,r),r}function Ss(t,e){if(typeof t!="function")throw new _i("fn",["Function","AsyncFunction"],t);e!=null&&qn(e,"options"),e?.signal!=null&&kn(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=Og(e.concurrency));let o=r-1;return e?.highWaterMark!=null&&(o=Og(e.highWaterMark)),Ng(r,"options.concurrency",1),Ng(o,"options.highWaterMark",0),o+=r,async function*(){let c=Ge().AbortSignalAny([e?.signal].filter(PC)),h=this,g=[],m={signal:c},T,N,A=!1,R=0;function F(){A=!0,P()}function P(){R-=1,y()}function y(){N&&!A&&R<r&&g.length<o&&(N(),N=null)}async function U(){try{for await(let S of h){if(A)return;if(c.aborted)throw new Ht;try{if(S=t(S,m),S===Ts)continue;S=UC(S)}catch(L){S=Ig(L)}R+=1,bg(S,P,F),g.push(S),T&&(T(),T=null),!A&&(g.length>=o||R>=r)&&await new Ag(L=>{N=L})}g.push(Dg)}catch(S){let L=Ig(S);bg(L,P,F),g.push(L)}finally{A=!0,T&&(T(),T=null)}}U();try{for(;;){for(;g.length>0;){let S=await g[0];if(S===Dg)return;if(c.aborted)throw new Ht;S!==Ts&&(yield S),g.shift(),y()}await new Ag(S=>{T=S})}}finally{A=!0,N&&(N(),N=null)}}.call(this)}function qC(t=void 0){return t!=null&&qn(t,"options"),t?.signal!=null&&kn(t.signal,"options.signal"),async function*(){let r=0;for await(let l of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new Ht({cause:t.signal.reason});yield[r++,l]}}.call(this)}async function Lg(t,e=void 0){for await(let r of kc.call(this,t,e))return!0;return!1}async function BC(t,e=void 0){if(typeof t!="function")throw new _i("fn",["Function","AsyncFunction"],t);return!await Lg.call(this,async(...r)=>!await t(...r),e)}async function YC(t,e){for await(let r of kc.call(this,t,e))return r}async function VC(t,e){if(typeof t!="function")throw new _i("fn",["Function","AsyncFunction"],t);async function r(o,l){return await t(o,l),Ts}for await(let o of Ss.call(this,r,e));}function kc(t,e){if(typeof t!="function")throw new _i("fn",["Function","AsyncFunction"],t);async function r(o,l){return await t(o,l)?o:Ts}return Ss.call(this,r,e)}var Uc=class extends SC{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function HC(t,e,r){var o;if(typeof t!="function")throw new _i("reducer",["Function","AsyncFunction"],t);r!=null&&qn(r,"options"),r?.signal!=null&&kn(r.signal,"options.signal");let l=arguments.length>1;if(r!=null&&(o=r.signal)!==null&&o!==void 0&&o.aborted){let T=new Ht(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await IC(this.destroy(T)),T}let c=new vC,h=c.signal;if(r!=null&&r.signal){let T={once:!0,[OC]:this,[AC]:!0};r.signal.addEventListener("abort",()=>c.abort(),T)}let g=!1;try{for await(let T of this){var m;if(g=!0,r!=null&&(m=r.signal)!==null&&m!==void 0&&m.aborted)throw new Ht;l?e=await t(e,T,{signal:h}):(e=T,l=!0)}if(!g&&!l)throw new Uc}finally{c.abort()}return e}async function WC(t){t!=null&&qn(t,"options"),t?.signal!=null&&kn(t.signal,"options.signal");let e=[];for await(let o of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Ht(void 0,{cause:t.signal.reason});MC(e,o)}return e}function GC(t,e){let r=Ss.call(this,t,e);return async function*(){for await(let l of r)yield*l}.call(this)}function Cg(t){if(t=FC(t),xC(t))return 0;if(t<0)throw new NC("number",">= 0",t);return t}function $C(t,e=void 0){return e!=null&&qn(e,"options"),e?.signal!=null&&kn(e.signal,"options.signal"),t=Cg(t),async function*(){var o;if(e!=null&&(o=e.signal)!==null&&o!==void 0&&o.aborted)throw new Ht;for await(let c of this){var l;if(e!=null&&(l=e.signal)!==null&&l!==void 0&&l.aborted)throw new Ht;t--<=0&&(yield c)}}.call(this)}function jC(t,e=void 0){return e!=null&&qn(e,"options"),e?.signal!=null&&kn(e.signal,"options.signal"),t=Cg(t),async function*(){var o;if(e!=null&&(o=e.signal)!==null&&o!==void 0&&o.aborted)throw new Ht;for await(let c of this){var l;if(e!=null&&(l=e.signal)!==null&&l!==void 0&&l.aborted)throw new Ht;if(t-- >0&&(yield c),t<=0)return}}.call(this)}qc.exports.streamReturningOperators={asIndexedPairs:CC(qC,"readable.asIndexedPairs will be removed in a future version."),drop:$C,filter:kc,flatMap:GC,map:Ss,take:jC,compose:kC};qc.exports.promiseReturningOperators={every:BC,forEach:VC,reduce:HC,toArray:WC,some:Lg,find:YC}});var Bc=O((UV,Pg)=>{"use strict";var{ArrayPrototypePop:KC,Promise:zC}=Ie(),{isIterable:ZC,isNodeStream:XC,isWebStream:JC}=Bt(),{pipelineImpl:QC}=ys(),{finished:e1}=tn();Yc();function t1(...t){return new zC((e,r)=>{let o,l,c=t[t.length-1];if(c&&typeof c=="object"&&!XC(c)&&!ZC(c)&&!JC(c)){let h=KC(t);o=h.signal,l=h.end}QC(t,(h,g)=>{h?r(h):e(g)},{signal:o,end:l})})}Pg.exports={finished:e1,pipeline:t1}});var Yc=O((kV,Hg)=>{var{Buffer:n1}=require("buffer"),{ObjectDefineProperty:on,ObjectKeys:Ug,ReflectApply:kg}=Ie(),{promisify:{custom:qg}}=Ge(),{streamReturningOperators:Fg,promiseReturningOperators:xg}=Mg(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:Bg}}=tt(),r1=xc(),{setDefaultHighWaterMark:i1,getDefaultHighWaterMark:o1}=ai(),{pipeline:Yg}=ys(),{destroyer:s1}=Mn(),Vg=tn(),Vc=Bc(),gi=Bt(),Ne=Hg.exports=rs().Stream;Ne.isDestroyed=gi.isDestroyed;Ne.isDisturbed=gi.isDisturbed;Ne.isErrored=gi.isErrored;Ne.isReadable=gi.isReadable;Ne.isWritable=gi.isWritable;Ne.Readable=li();for(let t of Ug(Fg)){let r=function(...o){if(new.target)throw Bg();return Ne.Readable.from(kg(e,this,o))};u1=r;let e=Fg[t];on(r,"name",{__proto__:null,value:e.name}),on(r,"length",{__proto__:null,value:e.length}),on(Ne.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var u1;for(let t of Ug(xg)){let r=function(...l){if(new.target)throw Bg();return kg(e,this,l)};u1=r;let e=xg[t];on(r,"name",{__proto__:null,value:e.name}),on(r,"length",{__proto__:null,value:e.length}),on(Ne.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var u1;Ne.Writable=_s();Ne.Duplex=Vt();Ne.Transform=Sc();Ne.PassThrough=Oc();Ne.pipeline=Yg;var{addAbortSignal:a1}=si();Ne.addAbortSignal=a1;Ne.finished=Vg;Ne.destroy=s1;Ne.compose=r1;Ne.setDefaultHighWaterMark=i1;Ne.getDefaultHighWaterMark=o1;on(Ne,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Vc}});on(Yg,qg,{__proto__:null,enumerable:!0,get(){return Vc.pipeline}});on(Vg,qg,{__proto__:null,enumerable:!0,get(){return Vc.finished}});Ne.Stream=Ne;Ne._isUint8Array=function(e){return e instanceof Uint8Array};Ne._uint8ArrayToBuffer=function(e){return n1.from(e.buffer,e.byteOffset,e.byteLength)}});var Wg=O((qV,ie)=>{"use strict";var Ue=require("stream");if(Ue&&process.env.READABLE_STREAM==="disable"){let t=Ue.promises;ie.exports._uint8ArrayToBuffer=Ue._uint8ArrayToBuffer,ie.exports._isUint8Array=Ue._isUint8Array,ie.exports.isDisturbed=Ue.isDisturbed,ie.exports.isErrored=Ue.isErrored,ie.exports.isReadable=Ue.isReadable,ie.exports.Readable=Ue.Readable,ie.exports.Writable=Ue.Writable,ie.exports.Duplex=Ue.Duplex,ie.exports.Transform=Ue.Transform,ie.exports.PassThrough=Ue.PassThrough,ie.exports.addAbortSignal=Ue.addAbortSignal,ie.exports.finished=Ue.finished,ie.exports.destroy=Ue.destroy,ie.exports.pipeline=Ue.pipeline,ie.exports.compose=Ue.compose,Object.defineProperty(Ue,"promises",{configurable:!0,enumerable:!0,get(){return t}}),ie.exports.Stream=Ue.Stream}else{let t=Yc(),e=Bc(),r=t.Readable.destroy;ie.exports=t.Readable,ie.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,ie.exports._isUint8Array=t._isUint8Array,ie.exports.isDisturbed=t.isDisturbed,ie.exports.isErrored=t.isErrored,ie.exports.isReadable=t.isReadable,ie.exports.Readable=t.Readable,ie.exports.Writable=t.Writable,ie.exports.Duplex=t.Duplex,ie.exports.Transform=t.Transform,ie.exports.PassThrough=t.PassThrough,ie.exports.addAbortSignal=t.addAbortSignal,ie.exports.finished=t.finished,ie.exports.destroy=t.destroy,ie.exports.destroy=r,ie.exports.pipeline=t.pipeline,ie.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),ie.exports.Stream=t.Stream}ie.exports.default=ie.exports});var Gg=O((BV,Hc)=>{typeof Object.create=="function"?Hc.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Hc.exports=function(e,r){if(r){e.super_=r;var o=function(){};o.prototype=r.prototype,e.prototype=new o,e.prototype.constructor=e}}});var $g=O((YV,Gc)=>{try{if(Wc=require("util"),typeof Wc.inherits!="function")throw"";Gc.exports=Wc.inherits}catch{Gc.exports=Gg()}var Wc});var zg=O((VV,Kg)=>{"use strict";var{Buffer:Dt}=require("buffer"),jg=Symbol.for("BufferList");function we(t){if(!(this instanceof we))return new we(t);we._init.call(this,t)}we._init=function(e){Object.defineProperty(this,jg,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};we.prototype._new=function(e){return new we(e)};we.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let o=0;o<this._bufs.length;o++){let l=r+this._bufs[o].length;if(e<l||o===this._bufs.length-1)return[o,e-r];r=l}};we.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let o=0;o<e;o++)r+=this._bufs[o].length;return r};we.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};we.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};we.prototype.copy=function(e,r,o,l){if((typeof o!="number"||o<0)&&(o=0),(typeof l!="number"||l>this.length)&&(l=this.length),o>=this.length||l<=0)return e||Dt.alloc(0);let c=!!e,h=this._offset(o),g=l-o,m=g,T=c&&r||0,N=h[1];if(o===0&&l===this.length){if(!c)return this._bufs.length===1?this._bufs[0]:Dt.concat(this._bufs,this.length);for(let A=0;A<this._bufs.length;A++)this._bufs[A].copy(e,T),T+=this._bufs[A].length;return e}if(m<=this._bufs[h[0]].length-N)return c?this._bufs[h[0]].copy(e,r,N,N+m):this._bufs[h[0]].slice(N,N+m);c||(e=Dt.allocUnsafe(g));for(let A=h[0];A<this._bufs.length;A++){let R=this._bufs[A].length-N;if(m>R)this._bufs[A].copy(e,T,N),T+=R;else{this._bufs[A].copy(e,T,N,N+m),T+=R;break}m-=R,N&&(N=0)}return e.length>T?e.slice(0,T):e};we.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let o=this._offset(e),l=this._offset(r),c=this._bufs.slice(o[0],l[0]+1);return l[1]===0?c.pop():c[c.length-1]=c[c.length-1].slice(0,l[1]),o[1]!==0&&(c[0]=c[0].slice(o[1])),this._new(c)};we.prototype.toString=function(e,r,o){return this.slice(r,o).toString(e)};we.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};we.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};we.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(Dt.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(Dt.from(e));return this};we.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};we.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=Dt.from([t]):typeof t=="string"?t=Dt.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=Dt.from(t.buffer,t.byteOffset,t.byteLength):Dt.isBuffer(t)||(t=Dt.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let o=this._offset(e),l=o[0],c=o[1];for(;l<this._bufs.length;l++){let h=this._bufs[l];for(;c<h.length;)if(h.length-c>=t.length){let m=h.indexOf(t,c);if(m!==-1)return this._reverseOffset([l,m]);c=h.length-t.length+1}else{let m=this._reverseOffset([l,c]);if(this._match(m,t))return m;c++}c=0}return-1};we.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?we.prototype[r]=function(o,l){return this.slice(o,o+l)[r](0,l)}:we.prototype[r]=function(o=0){return this.slice(o,o+t[r])[r](0)}})(e)})();we.prototype._isBufferList=function(e){return e instanceof we||we.isBufferList(e)};we.isBufferList=function(e){return e!=null&&e[jg]};Kg.exports=we});var jc=O((HV,Ns)=>{"use strict";var $c=Wg().Duplex,l1=$g(),mi=zg();function je(t){if(!(this instanceof je))return new je(t);if(typeof t=="function"){this._callback=t;let e=function(o){this._callback&&(this._callback(o),this._callback=null)}.bind(this);this.on("pipe",function(o){o.on("error",e)}),this.on("unpipe",function(o){o.removeListener("error",e)}),t=null}mi._init.call(this,t),$c.call(this)}l1(je,$c);Object.assign(je.prototype,mi.prototype);je.prototype._new=function(e){return new je(e)};je.prototype._write=function(e,r,o){this._appendBuffer(e),typeof o=="function"&&o()};je.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)};je.prototype.end=function(e){$c.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)};je.prototype._destroy=function(e,r){this._bufs.length=0,this.length=0,r(e)};je.prototype._isBufferList=function(e){return e instanceof je||e instanceof mi||je.isBufferList(e)};je.isBufferList=mi.isBufferList;Ns.exports=je;Ns.exports.BufferListStream=je;Ns.exports.BufferList=mi});var Jg=O((As,Xg)=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.default=void 0;var c1=Zg(jc()),f1=require("stream"),h1=Zg(Go()),Kc=Jr(),d1=ur();function Zg(t){return t&&t.__esModule?t:{default:t}}var Os=class extends f1.Transform{constructor(e){super({readableObjectMode:!0}),this.debug=e,this.currentMessage=void 0,this.bl=new c1.default}pause(){return super.pause(),this.currentMessage&&this.currentMessage.pause(),this}resume(){return super.resume(),this.currentMessage&&this.currentMessage.resume(),this}processBufferedData(e){for(;this.bl.length>=Kc.HEADER_LENGTH;){let r=this.bl.readUInt16BE(2);if(r<Kc.HEADER_LENGTH)return e(new d1.ConnectionError("Unable to process incoming packet"));if(this.bl.length>=r){let o=this.bl.slice(0,r);this.bl.consume(r);let l=new Kc.Packet(o);this.debug.packet("Received",l),this.debug.data(l);let c=this.currentMessage;if(c===void 0&&(this.currentMessage=c=new h1.default({type:l.type(),resetConnection:!1}),this.push(c)),l.isLast()){c.once("end",()=>{this.currentMessage=void 0,this.processBufferedData(e)}),c.end(l.data());return}else if(!c.write(l.data())){c.once("drain",()=>{this.processBufferedData(e)});return}}else break}e()}_transform(e,r,o){this.bl.append(e),this.processBufferedData(o)}},p1=Os;As.default=p1;Xg.exports=Os});var em=O((bs,Qg)=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.default=void 0;var _1=m1(jc()),g1=require("stream"),zc=Jr();function m1(t){return t&&t.__esModule?t:{default:t}}var Is=class extends g1.Duplex{constructor(e,{packetSize:r}){super({writableObjectMode:!0}),this.packetSize=r,this.debug=e,this.bl=new _1.default,this.on("finish",()=>{this.push(null)})}_write(e,r,o){let l=this.packetSize-zc.HEADER_LENGTH,c=0;this.currentMessage=e,this.currentMessage.on("data",h=>{if(!e.ignore)for(this.bl.append(h);this.bl.length>l;){let g=this.bl.slice(0,l);this.bl.consume(l);let m=new zc.Packet(e.type);m.packetId(c+=1),m.resetConnection(e.resetConnection),m.addData(g),this.debug.packet("Sent",m),this.debug.data(m),this.push(m.buffer)===!1&&e.pause()}}),this.currentMessage.on("end",()=>{let h=this.bl.slice();this.bl.consume(h.length);let g=new zc.Packet(e.type);g.packetId(c+=1),g.resetConnection(e.resetConnection),g.last(!0),g.ignore(e.ignore),g.addData(h),this.debug.packet("Sent",g),this.debug.data(g),this.push(g.buffer),this.currentMessage=void 0,o()})}_read(e){this.currentMessage&&this.currentMessage.resume()}},E1=Is;bs.default=E1;Qg.exports=Is});var om=O((Ls,im)=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.default=void 0;var y1=Rs(Vp()),tm=N1(require("tls")),w1=require("events"),nm=Rs(Go()),v1=Jr(),T1=Rs(Jg()),S1=Rs(em());function rm(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(rm=function(o){return o?r:e})(t)}function N1(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=rm(e);if(r&&r.has(t))return r.get(t);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(c!=="default"&&Object.prototype.hasOwnProperty.call(t,c)){var h=l?Object.getOwnPropertyDescriptor(t,c):null;h&&(h.get||h.set)?Object.defineProperty(o,c,h):o[c]=t[c]}return o.default=t,r&&r.set(t,o),o}function Rs(t){return t&&t.__esModule?t:{default:t}}var Ds=class extends w1.EventEmitter{constructor(e,r,o){super(),this.socket=e,this.debug=o,this.tlsNegotiationComplete=!1,this.incomingMessageStream=new T1.default(this.debug),this.incomingMessageIterator=this.incomingMessageStream[Symbol.asyncIterator](),this.outgoingMessageStream=new S1.default(this.debug,{packetSize:r}),this.socket.pipe(this.incomingMessageStream),this.outgoingMessageStream.pipe(this.socket)}packetSize(...e){if(e.length>0){let r=e[0];this.debug.log("Packet size changed from "+this.outgoingMessageStream.packetSize+" to "+r),this.outgoingMessageStream.packetSize=r}return this.securePair&&this.securePair.cleartext.setMaxSendFragment(this.outgoingMessageStream.packetSize),this.outgoingMessageStream.packetSize}startTls(e,r,o){(!e.maxVersion||!["TLSv1.2","TLSv1.1","TLSv1"].includes(e.maxVersion))&&(e.maxVersion="TLSv1.2");let l=tm.createSecureContext(e);return new Promise((c,h)=>{let g=new y1.default,m=this.securePair={cleartext:tm.connect({socket:g.socket1,servername:r,secureContext:l,rejectUnauthorized:!o}),encrypted:g.socket2},T=()=>{m.encrypted.removeListener("readable",A),m.cleartext.removeListener("error",N),m.cleartext.removeListener("secureConnect",T),m.cleartext.once("error",F=>{this.socket.destroy(F)});let R=m.cleartext.getCipher();R&&this.debug.log("TLS negotiated ("+R.name+", "+R.version+")"),this.emit("secure",m.cleartext),m.cleartext.setMaxSendFragment(this.outgoingMessageStream.packetSize),this.outgoingMessageStream.unpipe(this.socket),this.socket.unpipe(this.incomingMessageStream),this.socket.pipe(m.encrypted),m.encrypted.pipe(this.socket),m.cleartext.pipe(this.incomingMessageStream),this.outgoingMessageStream.pipe(m.cleartext),this.tlsNegotiationComplete=!0,c()},N=R=>{m.encrypted.removeListener("readable",A),m.cleartext.removeListener("error",N),m.cleartext.removeListener("secureConnect",T),m.cleartext.destroy(),m.encrypted.destroy(),h(R)},A=()=>{let R=new nm.default({type:v1.TYPE.PRELOGIN,resetConnection:!1}),F;for(;F=m.encrypted.read();)R.write(F);this.outgoingMessageStream.write(R),R.end(),this.readMessage().then(async P=>{m.encrypted.once("readable",A);for await(let y of P)m.encrypted.write(y)}).catch(N)};m.cleartext.once("error",N),m.cleartext.once("secureConnect",T),m.encrypted.once("readable",A)})}sendMessage(e,r,o){let l=new nm.default({type:e,resetConnection:o});return l.end(r),this.outgoingMessageStream.write(l),l}async readMessage(){let e=await this.incomingMessageIterator.next();if(e.done)throw new Error("unexpected end of message stream");return e.value}},O1=Ds;Ls.default=O1;im.exports=Ds});var Xc=O(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.codepageBySortId=Wt.codepageByLanguageId=Wt.Flags=Wt.Collation=void 0;var sm={[1025]:"CP1256",[1028]:"CP950",[1029]:"CP1250",[1030]:"CP1252",[1032]:"CP1253",[1033]:"CP1252",[1034]:"CP1252",[1035]:"CP1252",[1036]:"CP1252",[1037]:"CP1255",[1038]:"CP1250",[1039]:"CP1252",[1041]:"CP932",[1042]:"CP949",[1044]:"CP1252",[1045]:"CP1250",[1047]:"CP1252",[1048]:"CP1250",[1049]:"CP1251",[1050]:"CP1250",[1051]:"CP1250",[1052]:"CP1250",[1054]:"CP874",[1055]:"CP1254",[1056]:"CP1256",[1058]:"CP1251",[1060]:"CP1250",[1061]:"CP1257",[1062]:"CP1257",[1063]:"CP1257",[1065]:"CP1256",[1066]:"CP1258",[1068]:"CP1254",[1070]:"CP1252",[1071]:"CP1251",[1083]:"CP1252",[1087]:"CP1251",[1090]:"CP1250",[1091]:"CP1254",[1092]:"CP1251",[1106]:"CP1252",[1122]:"CP1252",[1133]:"CP1251",[1146]:"CP1252",[1148]:"CP1252",[1150]:"CP1252",[1152]:"CP1256",[1155]:"CP1252",[1157]:"CP1251",[1164]:"CP1256",[2052]:"CP936",[2074]:"CP1250",[2092]:"CP1251",[2107]:"CP1252",[2143]:"CP1252",[3076]:"CP950",[3082]:"CP1252",[3098]:"CP1251",[5124]:"CP950",[5146]:"CP1250",[8218]:"CP1251",[1031]:"CP1252",[1079]:"CP1252"};Wt.codepageByLanguageId=sm;var am={[30]:"CP437",[31]:"CP437",[32]:"CP437",[33]:"CP437",[34]:"CP437",[40]:"CP850",[41]:"CP850",[42]:"CP850",[43]:"CP850",[44]:"CP850",[49]:"CP850",[51]:"CP1252",[52]:"CP1252",[53]:"CP1252",[54]:"CP1252",[55]:"CP850",[56]:"CP850",[57]:"CP850",[58]:"CP850",[59]:"CP850",[60]:"CP850",[61]:"CP850",[80]:"CP1250",[81]:"CP1250",[82]:"CP1250",[83]:"CP1250",[84]:"CP1250",[85]:"CP1250",[86]:"CP1250",[87]:"CP1250",[88]:"CP1250",[89]:"CP1250",[90]:"CP1250",[91]:"CP1250",[92]:"CP1250",[93]:"CP1250",[94]:"CP1250",[95]:"CP1250",[96]:"CP1250",[104]:"CP1251",[105]:"CP1251",[106]:"CP1251",[107]:"CP1251",[108]:"CP1251",[112]:"CP1253",[113]:"CP1253",[114]:"CP1253",[120]:"CP1253",[121]:"CP1253",[122]:"CP1253",[124]:"CP1253",[128]:"CP1254",[129]:"CP1254",[130]:"CP1254",[136]:"CP1255",[137]:"CP1255",[138]:"CP1255",[144]:"CP1256",[145]:"CP1256",[146]:"CP1256",[152]:"CP1257",[153]:"CP1257",[154]:"CP1257",[155]:"CP1257",[156]:"CP1257",[157]:"CP1257",[158]:"CP1257",[159]:"CP1257",[160]:"CP1257",[183]:"CP1252",[184]:"CP1252",[185]:"CP1252",[186]:"CP1252"};Wt.codepageBySortId=am;var um={IGNORE_CASE:1<<0,IGNORE_ACCENT:1<<1,IGNORE_KANA:1<<2,IGNORE_WIDTH:1<<3,BINARY:1<<4,BINARY2:1<<5,UTF8:1<<6};Wt.Flags=um;var Zc=class{static fromBuffer(e,r=0){let o=(e[r+2]&15)<<16;o|=e[r+1]<<8,o|=e[r+0];let l=(e[r+3]&15)<<4;l|=(e[r+2]&240)>>>4;let c=(e[r+3]&240)>>>4,h=e[r+4];return new this(o,l,c,h)}constructor(e,r,o,l){if(this.buffer=void 0,this.lcid=e,this.flags=r,this.version=o,this.sortId=l,this.flags&um.UTF8)this.codepage="utf-8";else if(this.sortId)this.codepage=am[this.sortId];else{let c=this.lcid&65535;this.codepage=sm[c]}}toBuffer(){return this.buffer?this.buffer:(this.buffer=Buffer.alloc(5),this.buffer[0]=this.lcid&255,this.buffer[1]=this.lcid>>>8&255,this.buffer[2]=this.lcid>>>16&15|(this.flags&15)<<4,this.buffer[3]=(this.flags&240)>>>4|(this.version&15)<<4,this.buffer[4]=this.sortId&255,this.buffer)}};Wt.Collation=Zc});var fm=O((Cs,cm)=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.default=void 0;var lm={id:31,type:"NULL",name:"Null",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},A1=lm;Cs.default=A1;cm.exports=lm});var Sr=O((Ms,dm)=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.default=void 0;var hm={id:38,type:"INTN",name:"IntN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},I1=hm;Ms.default=I1;dm.exports=hm});var gm=O((Ps,_m)=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.default=void 0;var b1=D1(Sr());function D1(t){return t&&t.__esModule?t:{default:t}}var R1=Buffer.from([1]),L1=Buffer.from([0]),pm={id:48,type:"INT1",name:"TinyInt",declaration:function(){return"tinyint"},generateTypeInfo(){return Buffer.from([b1.default.id,1])},generateParameterLength(t,e){return t.value==null?L1:R1},*generateParameterData(t,e){if(t.value==null)return;let r=Buffer.alloc(1);r.writeUInt8(Number(t.value),0),yield r},validate:function(t){if(t==null)return null;if(typeof t!="number"&&(t=Number(t)),isNaN(t))throw new TypeError("Invalid number.");if(t<0||t>255)throw new TypeError("Value must be between 0 and 255, inclusive.");return t|0}},C1=pm;Ps.default=C1;_m.exports=pm});var Jc=O((Fs,Em)=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.default=void 0;var mm={id:104,type:"BITN",name:"BitN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},*generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},M1=mm;Fs.default=M1;Em.exports=mm});var vm=O((xs,wm)=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.default=void 0;var P1=F1(Jc());function F1(t){return t&&t.__esModule?t:{default:t}}var x1=Buffer.from([1]),U1=Buffer.from([0]),ym={id:50,type:"BIT",name:"Bit",declaration:function(){return"bit"},generateTypeInfo(){return Buffer.from([P1.default.id,1])},generateParameterLength(t,e){return t.value==null?U1:x1},*generateParameterData(t,e){t.value!=null&&(yield t.value?Buffer.from([1]):Buffer.from([0]))},validate:function(t){return t==null?null:!!t}},k1=ym;xs.default=k1;wm.exports=ym});var Nm=O((Us,Sm)=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.default=void 0;var q1=B1(Sr());function B1(t){return t&&t.__esModule?t:{default:t}}var Y1=Buffer.from([2]),V1=Buffer.from([0]),Tm={id:52,type:"INT2",name:"SmallInt",declaration:function(){return"smallint"},generateTypeInfo(){return Buffer.from([q1.default.id,2])},generateParameterLength(t,e){return t.value==null?V1:Y1},*generateParameterData(t,e){if(t.value==null)return;let r=Buffer.alloc(2);r.writeInt16LE(Number(t.value),0),yield r},validate:function(t){if(t==null)return null;if(typeof t!="number"&&(t=Number(t)),isNaN(t))throw new TypeError("Invalid number.");if(t<-32768||t>32767)throw new TypeError("Value must be between -32768 and 32767, inclusive.");return t|0}},H1=Tm;Us.default=H1;Sm.exports=Tm});var Im=O((ks,Am)=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.default=void 0;var W1=G1(Sr());function G1(t){return t&&t.__esModule?t:{default:t}}var $1=Buffer.from([0]),j1=Buffer.from([4]),Om={id:56,type:"INT4",name:"Int",declaration:function(){return"int"},generateTypeInfo(){return Buffer.from([W1.default.id,4])},generateParameterLength(t,e){return t.value==null?$1:j1},*generateParameterData(t,e){if(t.value==null)return;let r=Buffer.alloc(4);r.writeInt32LE(Number(t.value),0),yield r},validate:function(t){if(t==null)return null;if(typeof t!="number"&&(t=Number(t)),isNaN(t))throw new TypeError("Invalid number.");if(t<-2147483648||t>2147483647)throw new TypeError("Value must be between -2147483648 and 2147483647, inclusive.");return t|0}},K1=Om;ks.default=K1;Am.exports=Om});var Bs=O((qs,Dm)=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.default=void 0;var bm={id:111,type:"DATETIMN",name:"DateTimeN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},z1=bm;qs.default=z1;Dm.exports=bm});var Mm=O((Ys,Cm)=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.default=void 0;var Z1=X1(Bs());function X1(t){return t&&t.__esModule?t:{default:t}}var Rm=new Date(1900,0,1),J1=new Date(Date.UTC(1900,0,1)),Q1=Buffer.from([4]),eM=Buffer.from([0]),Lm={id:58,type:"DATETIM4",name:"SmallDateTime",declaration:function(){return"smalldatetime"},generateTypeInfo(){return Buffer.from([Z1.default.id,4])},generateParameterLength(t,e){return t.value==null?eM:Q1},generateParameterData:function*(t,e){if(t.value==null)return;let r=Buffer.alloc(4),o,l,c;e.useUTC?(o=Math.floor((t.value.getTime()-J1.getTime())/(1e3*60*60*24)),c=t.value.getUTCHours()*60+t.value.getUTCMinutes()):(l=-(t.value.getTimezoneOffset()-Rm.getTimezoneOffset())*60*1e3,o=Math.floor((t.value.getTime()-Rm.getTime()+l)/(1e3*60*60*24)),c=t.value.getHours()*60+t.value.getMinutes()),r.writeUInt16LE(o,0),r.writeUInt16LE(c,2),yield r},validate:function(t,e,r){if(t==null)return null;t instanceof Date||(t=new Date(Date.parse(t))),t=t;let o,l,c;if(r&&r.useUTC?(o=t.getUTCFullYear(),l=t.getUTCMonth(),c=t.getUTCDate()):(o=t.getFullYear(),l=t.getMonth(),c=t.getDate()),o<1900||o>2079)throw new TypeError("Out of range.");if(o===2079&&(l>4||l===4&&c>6))throw new TypeError("Out of range.");if(isNaN(t))throw new TypeError("Invalid date.");return t}},tM=Lm;Ys.default=tM;Cm.exports=Lm});var Hs=O((Vs,Fm)=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.default=void 0;var Pm={id:109,type:"FLTN",name:"FloatN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},nM=Pm;Vs.default=nM;Fm.exports=Pm});var km=O((Ws,Um)=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.default=void 0;var rM=iM(Hs());function iM(t){return t&&t.__esModule?t:{default:t}}var oM=Buffer.from([0]),sM=Buffer.from([4]),xm={id:59,type:"FLT4",name:"Real",declaration:function(){return"real"},generateTypeInfo(){return Buffer.from([rM.default.id,4])},generateParameterLength(t,e){return t.value==null?oM:sM},*generateParameterData(t,e){if(t.value==null)return;let r=Buffer.alloc(4);r.writeFloatLE(parseFloat(t.value),0),yield r},validate:function(t){if(t==null)return null;if(t=parseFloat(t),isNaN(t))throw new TypeError("Invalid number.");return t}},aM=xm;Ws.default=aM;Um.exports=xm});var $s=O((Gs,Bm)=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.default=void 0;var qm={id:110,type:"MONEYN",name:"MoneyN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},uM=qm;Gs.default=uM;Bm.exports=qm});var Hm=O((js,Vm)=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.default=void 0;var lM=cM($s());function cM(t){return t&&t.__esModule?t:{default:t}}var fM=(1<<16)*(1<<16),hM=1/fM,dM=Buffer.from([0]),pM=Buffer.from([8]),Ym={id:60,type:"MONEY",name:"Money",declaration:function(){return"money"},generateTypeInfo:function(){return Buffer.from([lM.default.id,8])},generateParameterLength(t,e){return t.value==null?dM:pM},*generateParameterData(t,e){if(t.value==null)return;let r=t.value*1e4,o=Buffer.alloc(8);o.writeInt32LE(Math.floor(r*hM),0),o.writeInt32LE(r&-1,4),yield o},validate:function(t){if(t==null)return null;if(t=parseFloat(t),isNaN(t))throw new TypeError("Invalid number.");if(t<-9223372036854776e-1||t>9223372036854776e-1)throw new TypeError("Value must be between -922337203685477.5808 and 922337203685477.5807, inclusive.");return t}},_M=Ym;js.default=_M;Vm.exports=Ym});var Ei=O((Ks,Wm)=>{(function(t,e){typeof Ks=="object"&&typeof Wm<"u"?e(Ks):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.JSJoda={}))})(Ks,function(t){"use strict";function e(_,u,a){a===void 0&&(a=Error);function i(n){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,u&&u.apply(this,arguments),this.toString=function(){return this.name+": "+this.message}}return i.prototype=Object.create(a.prototype),i.prototype.name=_,i.prototype.constructor=i,i}var r=e("DateTimeException",T),o=e("DateTimeParseException",N),l=e("UnsupportedTemporalTypeException",null,r),c=e("ArithmeticException"),h=e("IllegalArgumentException"),g=e("IllegalStateException"),m=e("NullPointerException");function T(_,u){u===void 0&&(u=null);var a=_||this.name;u!==null&&u instanceof Error&&(a+=`
-------
Caused by: `+u.stack+`
-------
`),this.message=a}function N(_,u,a,i){u===void 0&&(u=""),a===void 0&&(a=0),i===void 0&&(i=null);var n=_||this.name;n+=": "+u+", at index: "+a,i!==null&&i instanceof Error&&(n+=`
-------
Caused by: `+i.stack+`
-------
`),this.message=n,this.parsedString=function(){return u},this.errorIndex=function(){return a}}function A(_,u){_.prototype=Object.create(u.prototype),_.prototype.constructor=_,R(_,u)}function R(_,u){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},R(_,u)}function F(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function P(_,u,a){if(!_)throw a?new a(u):new Error(u)}function y(_,u){if(_==null)throw new m(u+" must not be null");return _}function U(_,u,a){if(!(_ instanceof u))throw new h(a+" must be an instance of "+(u.name?u.name:u)+(_&&_.constructor&&_.constructor.name?", but is "+_.constructor.name:""));return _}function S(_){throw new TypeError('abstract method "'+_+'" is not implemented')}var L=Object.freeze({__proto__:null,assert:P,requireNonNull:y,requireInstance:U,abstractMethodFail:S});var I=9007199254740991,D=-9007199254740991,p=function(){function _(){}return _.intDiv=function(a,i){var n=a/i;return n=_.roundDown(n),_.safeZero(n)},_.intMod=function(a,i){var n=a-_.intDiv(a,i)*i;return n=_.roundDown(n),_.safeZero(n)},_.roundDown=function(a){return a<0?Math.ceil(a):Math.floor(a)},_.floorDiv=function(a,i){var n=Math.floor(a/i);return _.safeZero(n)},_.floorMod=function(a,i){var n=a-_.floorDiv(a,i)*i;return _.safeZero(n)},_.safeAdd=function(a,i){if(_.verifyInt(a),_.verifyInt(i),a===0)return _.safeZero(i);if(i===0)return _.safeZero(a);var n=_.safeToInt(a+i);if(n===a||n===i)throw new c("Invalid addition beyond MAX_SAFE_INTEGER!");return n},_.safeSubtract=function(a,i){return _.verifyInt(a),_.verifyInt(i),a===0&&i===0?0:a===0?_.safeZero(-1*i):i===0?_.safeZero(a):_.safeToInt(a-i)},_.safeMultiply=function(a,i){if(_.verifyInt(a),_.verifyInt(i),a===1)return _.safeZero(i);if(i===1)return _.safeZero(a);if(a===0||i===0)return 0;var n=_.safeToInt(a*i);if(n/i!==a||a===D&&i===-1||i===D&&a===-1)throw new c("Multiplication overflows: "+a+" * "+i);return n},_.parseInt=function(u){function a(i){return u.apply(this,arguments)}return a.toString=function(){return u.toString()},a}(function(u){var a=parseInt(u);return _.safeToInt(a)}),_.safeToInt=function(a){return _.verifyInt(a),_.safeZero(a)},_.verifyInt=function(a){if(a==null)throw new c("Invalid value: '"+a+"', using null or undefined as argument");if(isNaN(a))throw new c("Invalid int value, using NaN as argument");if(a%1!==0)throw new c("Invalid value: '"+a+"' is a float");if(a>I||a<D)throw new c("Calculation overflows an int: "+a)},_.safeZero=function(a){return a===0?0:+a},_.compareNumbers=function(a,i){return a<i?-1:a>i?1:0},_.smi=function(a){return a>>>1&1073741824|a&3221225471},_.hash=function(a){if(a!==a||a===1/0)return 0;for(var i=a;a>4294967295;)a/=4294967295,i^=a;return _.smi(i)},_.hashCode=function(){for(var a=17,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];for(var f=0,E=n;f<E.length;f++){var w=E[f];a=(a<<5)-a+_.hash(w)}return _.hash(a)},_}();p.MAX_SAFE_INTEGER=I,p.MIN_SAFE_INTEGER=D;var J=function(){function _(a){this._name=a}var u=_.prototype;return u.equals=function(i){return this===i},u.toString=function(){return this._name},u.toJSON=function(){return this.toString()},_}();var Y=function(){function _(){}var u=_.prototype;return u.get=function(i){S("get")},u.units=function(){S("units")},u.addTo=function(i){S("addTo")},u.subtractFrom=function(i){S("subtractFrom")},_}();typeof Symbol<"u"&&Symbol.toPrimitive&&(Y.prototype[Symbol.toPrimitive]=function(_){if(_!=="number")return this.toString();throw new TypeError("A conversion from TemporalAmount to a number is not allowed. To compare use the methods .equals(), .compareTo(), .isBefore() or one that is more suitable to your use case.")});var G=function(){function _(){}var u=_.prototype;return u.duration=function(){S("duration")},u.isDurationEstimated=function(){S("isDurationEstimated")},u.isDateBased=function(){S("isDateBased")},u.isTimeBased=function(){S("isTimeBased")},u.isSupportedBy=function(i){S("isSupportedBy")},u.addTo=function(i,n){S("addTo")},u.between=function(i,n){S("between")},_}(),q=function(_){A(u,_);function u(i,n){var s;return s=_.call(this)||this,s._seconds=p.safeToInt(i),s._nanos=p.safeToInt(n),s}u.ofDays=function(n){return u._create(p.safeMultiply(n,C.SECONDS_PER_DAY),0)},u.ofHours=function(n){return u._create(p.safeMultiply(n,C.SECONDS_PER_HOUR),0)},u.ofMinutes=function(n){return u._create(p.safeMultiply(n,C.SECONDS_PER_MINUTE),0)},u.ofSeconds=function(n,s){s===void 0&&(s=0);var f=p.safeAdd(n,p.floorDiv(s,C.NANOS_PER_SECOND)),E=p.floorMod(s,C.NANOS_PER_SECOND);return u._create(f,E)},u.ofMillis=function(n){var s=p.intDiv(n,1e3),f=p.intMod(n,1e3);return f<0&&(f+=1e3,s--),u._create(s,f*1e6)},u.ofNanos=function(n){var s=p.intDiv(n,C.NANOS_PER_SECOND),f=p.intMod(n,C.NANOS_PER_SECOND);return f<0&&(f+=C.NANOS_PER_SECOND,s--),this._create(s,f)},u.of=function(n,s){return u.ZERO.plus(n,s)},u.from=function(n){y(n,"amount"),U(n,Y);var s=u.ZERO;return n.units().forEach(function(f){s=s.plus(n.get(f),f)}),s},u.between=function(n,s){y(n,"startInclusive"),y(s,"endExclusive");var f=n.until(s,v.SECONDS),E=0;if(n.isSupported(d.NANO_OF_SECOND)&&s.isSupported(d.NANO_OF_SECOND))try{var w=n.getLong(d.NANO_OF_SECOND);if(E=s.getLong(d.NANO_OF_SECOND)-w,f>0&&E<0)E+=C.NANOS_PER_SECOND;else if(f<0&&E>0)E-=C.NANOS_PER_SECOND;else if(f===0&&E!==0){var b=s.with(d.NANO_OF_SECOND,w);f=n.until(b,v.SECONDS)}}catch{}return this.ofSeconds(f,E)},u.parse=function(n){y(n,"text");var s=new RegExp("([-+]?)P(?:([-+]?[0-9]+)D)?(T(?:([-+]?[0-9]+)H)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)(?:[.,]([0-9]{0,9}))?S)?)?","i"),f=s.exec(n);if(f!==null&&f[3]!=="T"){var E=f[1]==="-",w=f[2],b=f[4],M=f[5],k=f[6],V=f[7];if(w!=null||b!=null||M!=null||k!=null){var $=u._parseNumber(n,w,C.SECONDS_PER_DAY,"days"),j=u._parseNumber(n,b,C.SECONDS_PER_HOUR,"hours"),de=u._parseNumber(n,M,C.SECONDS_PER_MINUTE,"minutes"),Ae=u._parseNumber(n,k,1,"seconds"),ve=k!=null&&k.charAt(0)==="-",Te=u._parseFraction(n,V,ve?-1:1);try{return u._create(E,$,j,de,Ae,Te)}catch(et){throw new o("Text cannot be parsed to a Duration: overflow",n,0,et)}}}throw new o("Text cannot be parsed to a Duration",n,0)},u._parseNumber=function(n,s,f,E){if(s==null)return 0;try{return s[0]==="+"&&(s=s.substring(1)),p.safeMultiply(parseFloat(s),f)}catch(w){throw new o("Text cannot be parsed to a Duration: "+E,n,0,w)}},u._parseFraction=function(n,s,f){return s==null||s.length===0?0:(s=(s+"000000000").substring(0,9),parseFloat(s)*f)},u._create=function(){return arguments.length<=2?u._createSecondsNanos(arguments[0],arguments[1]):u._createNegateDaysHoursMinutesSecondsNanos(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},u._createNegateDaysHoursMinutesSecondsNanos=function(n,s,f,E,w,b){var M=p.safeAdd(s,p.safeAdd(f,p.safeAdd(E,w)));return n?u.ofSeconds(M,b).negated():u.ofSeconds(M,b)},u._createSecondsNanos=function(n,s){return n===void 0&&(n=0),s===void 0&&(s=0),n===0&&s===0?u.ZERO:new u(n,s)};var a=u.prototype;return a.get=function(n){if(n===v.SECONDS)return this._seconds;if(n===v.NANOS)return this._nanos;throw new l("Unsupported unit: "+n)},a.units=function(){return[v.SECONDS,v.NANOS]},a.isZero=function(){return this._seconds===0&&this._nanos===0},a.isNegative=function(){return this._seconds<0},a.seconds=function(){return this._seconds},a.nano=function(){return this._nanos},a.withSeconds=function(n){return u._create(n,this._nanos)},a.withNanos=function(n){return d.NANO_OF_SECOND.checkValidIntValue(n),u._create(this._seconds,n)},a.plusDuration=function(n){return y(n,"duration"),this.plus(n.seconds(),n.nano())},a.plus=function(n,s){return arguments.length===1?this.plusDuration(n):arguments.length===2&&s instanceof G?this.plusAmountUnit(n,s):this.plusSecondsNanos(n,s)},a.plusAmountUnit=function(n,s){if(y(n,"amountToAdd"),y(s,"unit"),s===v.DAYS)return this.plusSecondsNanos(p.safeMultiply(n,C.SECONDS_PER_DAY),0);if(s.isDurationEstimated())throw new l("Unit must not have an estimated duration");if(n===0)return this;if(s instanceof v){switch(s){case v.NANOS:return this.plusNanos(n);case v.MICROS:return this.plusSecondsNanos(p.intDiv(n,1e6*1e3)*1e3,p.intMod(n,1e6*1e3)*1e3);case v.MILLIS:return this.plusMillis(n);case v.SECONDS:return this.plusSeconds(n)}return this.plusSecondsNanos(p.safeMultiply(s.duration().seconds(),n),0)}var f=s.duration().multipliedBy(n);return this.plusSecondsNanos(f.seconds(),f.nano())},a.plusDays=function(n){return this.plusSecondsNanos(p.safeMultiply(n,C.SECONDS_PER_DAY),0)},a.plusHours=function(n){return this.plusSecondsNanos(p.safeMultiply(n,C.SECONDS_PER_HOUR),0)},a.plusMinutes=function(n){return this.plusSecondsNanos(p.safeMultiply(n,C.SECONDS_PER_MINUTE),0)},a.plusSeconds=function(n){return this.plusSecondsNanos(n,0)},a.plusMillis=function(n){return this.plusSecondsNanos(p.intDiv(n,1e3),p.intMod(n,1e3)*1e6)},a.plusNanos=function(n){return this.plusSecondsNanos(0,n)},a.plusSecondsNanos=function(n,s){if(y(n,"secondsToAdd"),y(s,"nanosToAdd"),n===0&&s===0)return this;var f=p.safeAdd(this._seconds,n);f=p.safeAdd(f,p.intDiv(s,C.NANOS_PER_SECOND)),s=p.intMod(s,C.NANOS_PER_SECOND);var E=p.safeAdd(this._nanos,s);return u.ofSeconds(f,E)},a.minus=function(n,s){return arguments.length===1?this.minusDuration(n):this.minusAmountUnit(n,s)},a.minusDuration=function(n){y(n,"duration");var s=n.seconds(),f=n.nano();return s===D?this.plus(I,-f):this.plus(-s,-f)},a.minusAmountUnit=function(n,s){return y(n,"amountToSubtract"),y(s,"unit"),n===D?this.plusAmountUnit(I,s):this.plusAmountUnit(-n,s)},a.minusDays=function(n){return n===D?this.plusDays(I):this.plusDays(-n)},a.minusHours=function(n){return n===D?this.plusHours(I):this.plusHours(-n)},a.minusMinutes=function(n){return n===D?this.plusMinutes(I):this.plusMinutes(-n)},a.minusSeconds=function(n){return n===D?this.plusSeconds(I):this.plusSeconds(-n)},a.minusMillis=function(n){return n===D?this.plusMillis(I):this.plusMillis(-n)},a.minusNanos=function(n){return n===D?this.plusNanos(I):this.plusNanos(-n)},a.multipliedBy=function(n){if(n===0)return u.ZERO;if(n===1)return this;var s=p.safeMultiply(this._seconds,n),f=p.safeMultiply(this._nanos,n);return s=s+p.intDiv(f,C.NANOS_PER_SECOND),f=p.intMod(f,C.NANOS_PER_SECOND),u.ofSeconds(s,f)},a.dividedBy=function(n){if(n===0)throw new c("Cannot divide by zero");if(n===1)return this;var s=p.intDiv(this._seconds,n),f=p.roundDown((this._seconds/n-s)*C.NANOS_PER_SECOND),E=p.intDiv(this._nanos,n);return E=f+E,u.ofSeconds(s,E)},a.negated=function(){return this.multipliedBy(-1)},a.abs=function(){return this.isNegative()?this.negated():this},a.addTo=function(n){return y(n,"temporal"),this._seconds!==0&&(n=n.plus(this._seconds,v.SECONDS)),this._nanos!==0&&(n=n.plus(this._nanos,v.NANOS)),n},a.subtractFrom=function(n){return y(n,"temporal"),this._seconds!==0&&(n=n.minus(this._seconds,v.SECONDS)),this._nanos!==0&&(n=n.minus(this._nanos,v.NANOS)),n},a.toDays=function(){return p.intDiv(this._seconds,C.SECONDS_PER_DAY)},a.toHours=function(){return p.intDiv(this._seconds,C.SECONDS_PER_HOUR)},a.toMinutes=function(){return p.intDiv(this._seconds,C.SECONDS_PER_MINUTE)},a.toMillis=function(){var n=Math.round(p.safeMultiply(this._seconds,1e3));return n=p.safeAdd(n,p.intDiv(this._nanos,1e6)),n},a.toNanos=function(){var n=p.safeMultiply(this._seconds,C.NANOS_PER_SECOND);return n=p.safeAdd(n,this._nanos),n},a.compareTo=function(n){y(n,"otherDuration"),U(n,u,"otherDuration");var s=p.compareNumbers(this._seconds,n.seconds());return s!==0?s:this._nanos-n.nano()},a.equals=function(n){return this===n?!0:n instanceof u?this.seconds()===n.seconds()&&this.nano()===n.nano():!1},a.toString=function(){if(this===u.ZERO)return"PT0S";var n=p.intDiv(this._seconds,C.SECONDS_PER_HOUR),s=p.intDiv(p.intMod(this._seconds,C.SECONDS_PER_HOUR),C.SECONDS_PER_MINUTE),f=p.intMod(this._seconds,C.SECONDS_PER_MINUTE),E="PT";if(n!==0&&(E+=n+"H"),s!==0&&(E+=s+"M"),f===0&&this._nanos===0&&E.length>2)return E;if(f<0&&this._nanos>0?f===-1?E+="-0":E+=f+1:E+=f,this._nanos>0){E+=".";var w;for(f<0?w=""+(2*C.NANOS_PER_SECOND-this._nanos):w=""+(C.NANOS_PER_SECOND+this._nanos),w=w.slice(1,w.length),E+=w;E.charAt(E.length-1)==="0";)E=E.slice(0,E.length-1)}return E+="S",E},a.toJSON=function(){return this.toString()},u}(Y);function rt(){q.ZERO=new q(0,0)}var Ce=function(){};function An(){Ce.MIN_VALUE=-999999,Ce.MAX_VALUE=999999}var v=function(_){A(u,_);function u(i,n){var s;return s=_.call(this)||this,s._name=i,s._duration=n,s}var a=u.prototype;return a.duration=function(){return this._duration},a.isDurationEstimated=function(){return this.isDateBased()||this===u.FOREVER},a.isDateBased=function(){return this.compareTo(u.DAYS)>=0&&this!==u.FOREVER},a.isTimeBased=function(){return this.compareTo(u.DAYS)<0},a.isSupportedBy=function(n){if(this===u.FOREVER)return!1;try{return n.plus(1,this),!0}catch{try{return n.plus(-1,this),!0}catch{return!1}}},a.addTo=function(n,s){return n.plus(s,this)},a.between=function(n,s){return n.until(s,this)},a.toString=function(){return this._name},a.compareTo=function(n){return this.duration().compareTo(n.duration())},u}(G);function $n(){v.NANOS=new v("Nanos",q.ofNanos(1)),v.MICROS=new v("Micros",q.ofNanos(1e3)),v.MILLIS=new v("Millis",q.ofNanos(1e6)),v.SECONDS=new v("Seconds",q.ofSeconds(1)),v.MINUTES=new v("Minutes",q.ofSeconds(60)),v.HOURS=new v("Hours",q.ofSeconds(3600)),v.HALF_DAYS=new v("HalfDays",q.ofSeconds(43200)),v.DAYS=new v("Days",q.ofSeconds(86400)),v.WEEKS=new v("Weeks",q.ofSeconds(7*86400)),v.MONTHS=new v("Months",q.ofSeconds(31556952/12)),v.YEARS=new v("Years",q.ofSeconds(31556952)),v.DECADES=new v("Decades",q.ofSeconds(31556952*10)),v.CENTURIES=new v("Centuries",q.ofSeconds(31556952*100)),v.MILLENNIA=new v("Millennia",q.ofSeconds(31556952*1e3)),v.ERAS=new v("Eras",q.ofSeconds(31556952*(Ce.MAX_VALUE+1))),v.FOREVER=new v("Forever",q.ofSeconds(p.MAX_SAFE_INTEGER,999999999))}var ut=function(){function _(){}var u=_.prototype;return u.isDateBased=function(){S("isDateBased")},u.isTimeBased=function(){S("isTimeBased")},u.baseUnit=function(){S("baseUnit")},u.rangeUnit=function(){S("rangeUnit")},u.range=function(){S("range")},u.rangeRefinedBy=function(i){S("rangeRefinedBy")},u.getFrom=function(i){S("getFrom")},u.adjustInto=function(i,n){S("adjustInto")},u.isSupportedBy=function(i){S("isSupportedBy")},u.displayName=function(){S("displayName")},u.equals=function(i){S("equals")},u.name=function(){S("name")},_}();var z=function(){function _(a,i,n,s){P(!(a>i),"Smallest minimum value '"+a+"' must be less than largest minimum value '"+i+"'",h),P(!(n>s),"Smallest maximum value '"+n+"' must be less than largest maximum value '"+s+"'",h),P(!(i>s),"Minimum value '"+i+"' must be less than maximum value '"+s+"'",h),this._minSmallest=a,this._minLargest=i,this._maxLargest=s,this._maxSmallest=n}var u=_.prototype;return u.isFixed=function(){return this._minSmallest===this._minLargest&&this._maxSmallest===this._maxLargest},u.minimum=function(){return this._minSmallest},u.largestMinimum=function(){return this._minLargest},u.maximum=function(){return this._maxLargest},u.smallestMaximum=function(){return this._maxSmallest},u.isValidValue=function(i){return this.minimum()<=i&&i<=this.maximum()},u.checkValidValue=function(i,n){var s;return this.isValidValue(i)?i:(n!=null?s="Invalid value for "+n+" (valid values "+this.toString()+"): "+i:s="Invalid value (valid values "+this.toString()+"): "+i,P(!1,s,r))},u.checkValidIntValue=function(i,n){if(this.isValidIntValue(i)===!1)throw new r("Invalid int value for "+n+": "+i);return i},u.isValidIntValue=function(i){return this.isIntValue()&&this.isValidValue(i)},u.isIntValue=function(){return this.minimum()>=p.MIN_SAFE_INTEGER&&this.maximum()<=p.MAX_SAFE_INTEGER},u.equals=function(i){return i===this?!0:i instanceof _?this._minSmallest===i._minSmallest&&this._minLargest===i._minLargest&&this._maxSmallest===i._maxSmallest&&this._maxLargest===i._maxLargest:!1},u.hashCode=function(){return p.hashCode(this._minSmallest,this._minLargest,this._maxSmallest,this._maxLargest)},u.toString=function(){var i=this.minimum()+(this.minimum()!==this.largestMinimum()?"/"+this.largestMinimum():"");return i+=" - ",i+=this.smallestMaximum()+(this.smallestMaximum()!==this.maximum()?"/"+this.maximum():""),i},_.of=function(){return arguments.length===2?new _(arguments[0],arguments[0],arguments[1],arguments[1]):arguments.length===3?new _(arguments[0],arguments[0],arguments[1],arguments[2]):arguments.length===4?new _(arguments[0],arguments[1],arguments[2],arguments[3]):P(!1,"Invalid number of arguments "+arguments.length,h)},_}(),d=function(_){A(u,_),u.byName=function(n){for(var s in u)if(u[s]&&u[s]instanceof u&&u[s].name()===n)return u[s]};function u(i,n,s,f){var E;return E=_.call(this)||this,E._name=i,E._baseUnit=n,E._rangeUnit=s,E._range=f,E}var a=u.prototype;return a.name=function(){return this._name},a.baseUnit=function(){return this._baseUnit},a.rangeUnit=function(){return this._rangeUnit},a.range=function(){return this._range},a.displayName=function(){return this.toString()},a.checkValidValue=function(n){return this.range().checkValidValue(n,this)},a.checkValidIntValue=function(n){return this.range().checkValidIntValue(n,this)},a.isDateBased=function(){var n=this===u.DAY_OF_WEEK||this===u.ALIGNED_DAY_OF_WEEK_IN_MONTH||this===u.ALIGNED_DAY_OF_WEEK_IN_YEAR||this===u.DAY_OF_MONTH||this===u.DAY_OF_YEAR||this===u.EPOCH_DAY||this===u.ALIGNED_WEEK_OF_MONTH||this===u.ALIGNED_WEEK_OF_YEAR||this===u.MONTH_OF_YEAR||this===u.PROLEPTIC_MONTH||this===u.YEAR_OF_ERA||this===u.YEAR||this===u.ERA;return n},a.isTimeBased=function(){var n=this===u.NANO_OF_SECOND||this===u.NANO_OF_DAY||this===u.MICRO_OF_SECOND||this===u.MICRO_OF_DAY||this===u.MILLI_OF_SECOND||this===u.MILLI_OF_DAY||this===u.SECOND_OF_MINUTE||this===u.SECOND_OF_DAY||this===u.MINUTE_OF_HOUR||this===u.MINUTE_OF_DAY||this===u.HOUR_OF_AMPM||this===u.CLOCK_HOUR_OF_AMPM||this===u.HOUR_OF_DAY||this===u.CLOCK_HOUR_OF_DAY||this===u.AMPM_OF_DAY;return n},a.rangeRefinedBy=function(n){return n.range(this)},a.getFrom=function(n){return n.getLong(this)},a.toString=function(){return this.name()},a.equals=function(n){return this===n},a.adjustInto=function(n,s){return n.with(this,s)},a.isSupportedBy=function(n){return n.isSupported(this)},u}(ut);function $O(){d.NANO_OF_SECOND=new d("NanoOfSecond",v.NANOS,v.SECONDS,z.of(0,999999999)),d.NANO_OF_DAY=new d("NanoOfDay",v.NANOS,v.DAYS,z.of(0,86400*1e9-1)),d.MICRO_OF_SECOND=new d("MicroOfSecond",v.MICROS,v.SECONDS,z.of(0,999999)),d.MICRO_OF_DAY=new d("MicroOfDay",v.MICROS,v.DAYS,z.of(0,86400*1e6-1)),d.MILLI_OF_SECOND=new d("MilliOfSecond",v.MILLIS,v.SECONDS,z.of(0,999)),d.MILLI_OF_DAY=new d("MilliOfDay",v.MILLIS,v.DAYS,z.of(0,86400*1e3-1)),d.SECOND_OF_MINUTE=new d("SecondOfMinute",v.SECONDS,v.MINUTES,z.of(0,59)),d.SECOND_OF_DAY=new d("SecondOfDay",v.SECONDS,v.DAYS,z.of(0,86400-1)),d.MINUTE_OF_HOUR=new d("MinuteOfHour",v.MINUTES,v.HOURS,z.of(0,59)),d.MINUTE_OF_DAY=new d("MinuteOfDay",v.MINUTES,v.DAYS,z.of(0,24*60-1)),d.HOUR_OF_AMPM=new d("HourOfAmPm",v.HOURS,v.HALF_DAYS,z.of(0,11)),d.CLOCK_HOUR_OF_AMPM=new d("ClockHourOfAmPm",v.HOURS,v.HALF_DAYS,z.of(1,12)),d.HOUR_OF_DAY=new d("HourOfDay",v.HOURS,v.DAYS,z.of(0,23)),d.CLOCK_HOUR_OF_DAY=new d("ClockHourOfDay",v.HOURS,v.DAYS,z.of(1,24)),d.AMPM_OF_DAY=new d("AmPmOfDay",v.HALF_DAYS,v.DAYS,z.of(0,1)),d.DAY_OF_WEEK=new d("DayOfWeek",v.DAYS,v.WEEKS,z.of(1,7)),d.ALIGNED_DAY_OF_WEEK_IN_MONTH=new d("AlignedDayOfWeekInMonth",v.DAYS,v.WEEKS,z.of(1,7)),d.ALIGNED_DAY_OF_WEEK_IN_YEAR=new d("AlignedDayOfWeekInYear",v.DAYS,v.WEEKS,z.of(1,7)),d.DAY_OF_MONTH=new d("DayOfMonth",v.DAYS,v.MONTHS,z.of(1,28,31),"day"),d.DAY_OF_YEAR=new d("DayOfYear",v.DAYS,v.YEARS,z.of(1,365,366)),d.EPOCH_DAY=new d("EpochDay",v.DAYS,v.FOREVER,z.of(-365961662,364522971)),d.ALIGNED_WEEK_OF_MONTH=new d("AlignedWeekOfMonth",v.WEEKS,v.MONTHS,z.of(1,4,5)),d.ALIGNED_WEEK_OF_YEAR=new d("AlignedWeekOfYear",v.WEEKS,v.YEARS,z.of(1,53)),d.MONTH_OF_YEAR=new d("MonthOfYear",v.MONTHS,v.YEARS,z.of(1,12),"month"),d.PROLEPTIC_MONTH=new d("ProlepticMonth",v.MONTHS,v.FOREVER,z.of(Ce.MIN_VALUE*12,Ce.MAX_VALUE*12+11)),d.YEAR_OF_ERA=new d("YearOfEra",v.YEARS,v.FOREVER,z.of(1,Ce.MAX_VALUE,Ce.MAX_VALUE+1)),d.YEAR=new d("Year",v.YEARS,v.FOREVER,z.of(Ce.MIN_VALUE,Ce.MAX_VALUE),"year"),d.ERA=new d("Era",v.ERAS,v.FOREVER,z.of(0,1)),d.INSTANT_SECONDS=new d("InstantSeconds",v.SECONDS,v.FOREVER,z.of(D,I)),d.OFFSET_SECONDS=new d("OffsetSeconds",v.SECONDS,v.FOREVER,z.of(-18*3600,18*3600))}var x=function(){function _(){}return _.zoneId=function(){return _.ZONE_ID},_.chronology=function(){return _.CHRONO},_.precision=function(){return _.PRECISION},_.zone=function(){return _.ZONE},_.offset=function(){return _.OFFSET},_.localDate=function(){return _.LOCAL_DATE},_.localTime=function(){return _.LOCAL_TIME},_}();var Jt=function(){function _(){}var u=_.prototype;return u.query=function(i){return i===x.zoneId()||i===x.chronology()||i===x.precision()?null:i.queryFrom(this)},u.get=function(i){return this.range(i).checkValidIntValue(this.getLong(i),i)},u.getLong=function(i){S("getLong")},u.range=function(i){if(i instanceof d){if(this.isSupported(i))return i.range();throw new l("Unsupported field: "+i)}return i.rangeRefinedBy(this)},u.isSupported=function(i){S("isSupported")},_}(),jn=function(_){A(u,_);function u(){return _.apply(this,arguments)||this}var a=u.prototype;return a.queryFrom=function(n){S("queryFrom")},u}(J);function Me(_,u){var a=function(i){A(n,i);function n(){return i.apply(this,arguments)||this}return n}(jn);return a.prototype.queryFrom=u,new a(_)}var _e=function(_){A(u,_);function u(i,n){var s;return s=_.call(this)||this,s._ordinal=i,s._name=n,s}var a=u.prototype;return a.ordinal=function(){return this._ordinal},a.name=function(){return this._name},u.values=function(){return Kn.slice()},u.valueOf=function(n){var s=0;for(s;s<Kn.length&&Kn[s].name()!==n;s++);return u.of(s+1)},u.of=function(n){if(n<1||n>7)throw new r("Invalid value for DayOfWeek: "+n);return Kn[n-1]},u.from=function(n){if(P(n!=null,"temporal",m),n instanceof u)return n;try{return u.of(n.get(d.DAY_OF_WEEK))}catch(s){throw s instanceof r?new r("Unable to obtain DayOfWeek from TemporalAccessor: "+n+", type "+(n.constructor!=null?n.constructor.name:""),s):s}},a.value=function(){return this._ordinal+1},a.displayName=function(n,s){throw new h("Pattern using (localized) text not implemented yet!")},a.isSupported=function(n){return n instanceof d?n===d.DAY_OF_WEEK:n!=null&&n.isSupportedBy(this)},a.range=function(n){if(n===d.DAY_OF_WEEK)return n.range();if(n instanceof d)throw new l("Unsupported field: "+n);return n.rangeRefinedBy(this)},a.get=function(n){return n===d.DAY_OF_WEEK?this.value():this.range(n).checkValidIntValue(this.getLong(n),n)},a.getLong=function(n){if(n===d.DAY_OF_WEEK)return this.value();if(n instanceof d)throw new l("Unsupported field: "+n);return n.getFrom(this)},a.plus=function(n){var s=p.floorMod(n,7);return Kn[p.floorMod(this._ordinal+(s+7),7)]},a.minus=function(n){return this.plus(-1*p.floorMod(n,7))},a.query=function(n){return n===x.precision()?v.DAYS:n===x.localDate()||n===x.localTime()||n===x.chronology()||n===x.zone()||n===x.zoneId()||n===x.offset()?null:(P(n!=null,"query",m),n.queryFrom(this))},a.adjustInto=function(n){return y(n,"temporal"),n.with(d.DAY_OF_WEEK,this.value())},a.equals=function(n){return this===n},a.toString=function(){return this._name},a.compareTo=function(n){return y(n,"other"),U(n,u,"other"),this._ordinal-n._ordinal},a.toJSON=function(){return this.toString()},u}(Jt),Kn;function jO(){_e.MONDAY=new _e(0,"MONDAY"),_e.TUESDAY=new _e(1,"TUESDAY"),_e.WEDNESDAY=new _e(2,"WEDNESDAY"),_e.THURSDAY=new _e(3,"THURSDAY"),_e.FRIDAY=new _e(4,"FRIDAY"),_e.SATURDAY=new _e(5,"SATURDAY"),_e.SUNDAY=new _e(6,"SUNDAY"),_e.FROM=Me("DayOfWeek.FROM",function(_){return _e.from(_)}),Kn=[_e.MONDAY,_e.TUESDAY,_e.WEDNESDAY,_e.THURSDAY,_e.FRIDAY,_e.SATURDAY,_e.SUNDAY]}var K=function(_){A(u,_);function u(i,n){var s;return s=_.call(this)||this,s._value=p.safeToInt(i),s._name=n,s}var a=u.prototype;return a.value=function(){return this._value},a.ordinal=function(){return this._value-1},a.name=function(){return this._name},a.displayName=function(n,s){throw new h("Pattern using (localized) text not implemented yet!")},a.isSupported=function(n){return n===null?!1:n instanceof d?n===d.MONTH_OF_YEAR:n!=null&&n.isSupportedBy(this)},a.get=function(n){return n===d.MONTH_OF_YEAR?this.value():this.range(n).checkValidIntValue(this.getLong(n),n)},a.getLong=function(n){if(n===d.MONTH_OF_YEAR)return this.value();if(n instanceof d)throw new l("Unsupported field: "+n);return n.getFrom(this)},a.plus=function(n){var s=p.intMod(n,12)+12,f=p.intMod(this.value()+s,12);return f=f===0?12:f,u.of(f)},a.minus=function(n){return this.plus(-1*p.intMod(n,12))},a.length=function(n){switch(this){case u.FEBRUARY:return n?29:28;case u.APRIL:case u.JUNE:case u.SEPTEMBER:case u.NOVEMBER:return 30;default:return 31}},a.minLength=function(){switch(this){case u.FEBRUARY:return 28;case u.APRIL:case u.JUNE:case u.SEPTEMBER:case u.NOVEMBER:return 30;default:return 31}},a.maxLength=function(){switch(this){case u.FEBRUARY:return 29;case u.APRIL:case u.JUNE:case u.SEPTEMBER:case u.NOVEMBER:return 30;default:return 31}},a.firstDayOfYear=function(n){var s=n?1:0;switch(this){case u.JANUARY:return 1;case u.FEBRUARY:return 32;case u.MARCH:return 60+s;case u.APRIL:return 91+s;case u.MAY:return 121+s;case u.JUNE:return 152+s;case u.JULY:return 182+s;case u.AUGUST:return 213+s;case u.SEPTEMBER:return 244+s;case u.OCTOBER:return 274+s;case u.NOVEMBER:return 305+s;case u.DECEMBER:default:return 335+s}},a.firstMonthOfQuarter=function(){switch(this){case u.JANUARY:case u.FEBRUARY:case u.MARCH:return u.JANUARY;case u.APRIL:case u.MAY:case u.JUNE:return u.APRIL;case u.JULY:case u.AUGUST:case u.SEPTEMBER:return u.JULY;case u.OCTOBER:case u.NOVEMBER:case u.DECEMBER:default:return u.OCTOBER}},a.query=function(n){return P(n!=null,"query() parameter must not be null",r),n===x.chronology()?ce.INSTANCE:n===x.precision()?v.MONTHS:_.prototype.query.call(this,n)},a.toString=function(){switch(this){case u.JANUARY:return"JANUARY";case u.FEBRUARY:return"FEBRUARY";case u.MARCH:return"MARCH";case u.APRIL:return"APRIL";case u.MAY:return"MAY";case u.JUNE:return"JUNE";case u.JULY:return"JULY";case u.AUGUST:return"AUGUST";case u.SEPTEMBER:return"SEPTEMBER";case u.OCTOBER:return"OCTOBER";case u.NOVEMBER:return"NOVEMBER";case u.DECEMBER:return"DECEMBER";default:return"unknown Month, value: "+this.value()}},a.toJSON=function(){return this.toString()},a.adjustInto=function(n){return n.with(d.MONTH_OF_YEAR,this.value())},a.compareTo=function(n){return y(n,"other"),U(n,u,"other"),this._value-n._value},a.equals=function(n){return this===n},u.valueOf=function(n){var s=0;for(s;s<Vr.length&&Vr[s].name()!==n;s++);return u.of(s+1)},u.values=function(){return Vr.slice()},u.of=function(n){return(n<1||n>12)&&P(!1,"Invalid value for MonthOfYear: "+n,r),Vr[n-1]},u.from=function(n){if(n instanceof u)return n;try{return u.of(n.get(d.MONTH_OF_YEAR))}catch(s){throw new r("Unable to obtain Month from TemporalAccessor: "+n+" of type "+(n&&n.constructor!=null?n.constructor.name:""),s)}},u}(Jt),Vr;function KO(){K.JANUARY=new K(1,"JANUARY"),K.FEBRUARY=new K(2,"FEBRUARY"),K.MARCH=new K(3,"MARCH"),K.APRIL=new K(4,"APRIL"),K.MAY=new K(5,"MAY"),K.JUNE=new K(6,"JUNE"),K.JULY=new K(7,"JULY"),K.AUGUST=new K(8,"AUGUST"),K.SEPTEMBER=new K(9,"SEPTEMBER"),K.OCTOBER=new K(10,"OCTOBER"),K.NOVEMBER=new K(11,"NOVEMBER"),K.DECEMBER=new K(12,"DECEMBER"),Vr=[K.JANUARY,K.FEBRUARY,K.MARCH,K.APRIL,K.MAY,K.JUNE,K.JULY,K.AUGUST,K.SEPTEMBER,K.OCTOBER,K.NOVEMBER,K.DECEMBER]}var zO=/([-+]?)P(?:([-+]?[0-9]+)Y)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)W)?(?:([-+]?[0-9]+)D)?/,Mt=function(_){A(u,_);function u(i,n,s){var f;f=_.call(this)||this;var E=p.safeToInt(i),w=p.safeToInt(n),b=p.safeToInt(s);return E===0&&w===0&&b===0?(u.ZERO||(f._years=E,f._months=w,f._days=b,u.ZERO=F(f)),u.ZERO||F(f)):(f._years=E,f._months=w,f._days=b,f)}u.ofYears=function(n){return u.create(n,0,0)},u.ofMonths=function(n){return u.create(0,n,0)},u.ofWeeks=function(n){return u.create(0,0,p.safeMultiply(n,7))},u.ofDays=function(n){return u.create(0,0,n)},u.of=function(n,s,f){return u.create(n,s,f)},u.from=function(n){if(n instanceof u)return n;y(n,"amount");for(var s=0,f=0,E=0,w=n.units(),b=0;b<w.length;b++){var M=w[b],k=n.get(M);if(M===v.YEARS)s=p.safeToInt(k);else if(M===v.MONTHS)f=p.safeToInt(k);else if(M===v.DAYS)E=p.safeToInt(k);else throw new r("Unit must be Years, Months or Days, but was "+M)}return u.create(s,f,E)},u.between=function(n,s){return y(n,"startDate"),y(s,"endDate"),U(n,H,"startDate"),U(s,H,"endDate"),n.until(s)},u.parse=function(n){y(n,"text");try{return u._parse(n)}catch(s){throw s instanceof c?new o("Text cannot be parsed to a Period",n,0,s):s}},u._parse=function(n){var s=zO.exec(n);if(s!=null){var f=s[1]==="-"?-1:1,E=s[2],w=s[3],b=s[4],M=s[5];if(E!=null||w!=null||b!=null||M!=null){var k=u._parseNumber(n,E,f),V=u._parseNumber(n,w,f),$=u._parseNumber(n,b,f),j=u._parseNumber(n,M,f);return j=p.safeAdd(j,p.safeMultiply($,7)),u.create(k,V,j)}}throw new o("Text cannot be parsed to a Period",n,0)},u._parseNumber=function(n,s,f){if(s==null)return 0;var E=p.parseInt(s);return p.safeMultiply(E,f)},u.create=function(n,s,f){return new u(n,s,f)};var a=u.prototype;return a.units=function(){return[v.YEARS,v.MONTHS,v.DAYS]},a.chronology=function(){return ce.INSTANCE},a.get=function(n){if(n===v.YEARS)return this._years;if(n===v.MONTHS)return this._months;if(n===v.DAYS)return this._days;throw new l("Unsupported unit: "+n)},a.isZero=function(){return this===u.ZERO},a.isNegative=function(){return this._years<0||this._months<0||this._days<0},a.years=function(){return this._years},a.months=function(){return this._months},a.days=function(){return this._days},a.withYears=function(n){return n===this._years?this:u.create(n,this._months,this._days)},a.withMonths=function(n){return n===this._months?this:u.create(this._years,n,this._days)},a.withDays=function(n){return n===this._days?this:u.create(this._years,this._months,n)},a.plus=function(n){var s=u.from(n);return u.create(p.safeAdd(this._years,s._years),p.safeAdd(this._months,s._months),p.safeAdd(this._days,s._days))},a.plusYears=function(n){return n===0?this:u.create(p.safeToInt(p.safeAdd(this._years,n)),this._months,this._days)},a.plusMonths=function(n){return n===0?this:u.create(this._years,p.safeToInt(p.safeAdd(this._months,n)),this._days)},a.plusDays=function(n){return n===0?this:u.create(this._years,this._months,p.safeToInt(p.safeAdd(this._days,n)))},a.minus=function(n){var s=u.from(n);return u.create(p.safeSubtract(this._years,s._years),p.safeSubtract(this._months,s._months),p.safeSubtract(this._days,s._days))},a.minusYears=function(n){return this.plusYears(-1*n)},a.minusMonths=function(n){return this.plusMonths(-1*n)},a.minusDays=function(n){return this.plusDays(-1*n)},a.multipliedBy=function(n){return this===u.ZERO||n===1?this:u.create(p.safeMultiply(this._years,n),p.safeMultiply(this._months,n),p.safeMultiply(this._days,n))},a.negated=function(){return this.multipliedBy(-1)},a.normalized=function(){var n=this.toTotalMonths(),s=p.intDiv(n,12),f=p.intMod(n,12);return s===this._years&&f===this._months?this:u.create(p.safeToInt(s),f,this._days)},a.toTotalMonths=function(){return this._years*12+this._months},a.addTo=function(n){return y(n,"temporal"),this._years!==0?this._months!==0?n=n.plus(this.toTotalMonths(),v.MONTHS):n=n.plus(this._years,v.YEARS):this._months!==0&&(n=n.plus(this._months,v.MONTHS)),this._days!==0&&(n=n.plus(this._days,v.DAYS)),n},a.subtractFrom=function(n){return y(n,"temporal"),this._years!==0?this._months!==0?n=n.minus(this.toTotalMonths(),v.MONTHS):n=n.minus(this._years,v.YEARS):this._months!==0&&(n=n.minus(this._months,v.MONTHS)),this._days!==0&&(n=n.minus(this._days,v.DAYS)),n},a.equals=function(n){if(this===n)return!0;if(n instanceof u){var s=n;return this._years===s._years&&this._months===s._months&&this._days===s._days}return!1},a.hashCode=function(){return p.hashCode(this._years,this._months,this._days)},a.toString=function(){if(this===u.ZERO)return"P0D";var n="P";return this._years!==0&&(n+=this._years+"Y"),this._months!==0&&(n+=this._months+"M"),this._days!==0&&(n+=this._days+"D"),n},a.toJSON=function(){return this.toString()},u}(Y);function ZO(){Mt.ofDays(0)}var Au=function(){function _(a){this._index=a,this._errorIndex=-1}var u=_.prototype;return u.getIndex=function(){return this._index},u.setIndex=function(i){this._index=i},u.getErrorIndex=function(){return this._errorIndex},u.setErrorIndex=function(i){this._errorIndex=i},_}();var Cd=function(){function _(){this._map={}}var u=_.prototype;return u.putAll=function(i){for(var n in i._map)this._map[n]=i._map[n];return this},u.containsKey=function(i){return this._map.hasOwnProperty(i.name())&&this.get(i)!==void 0},u.get=function(i){return this._map[i.name()]},u.put=function(i,n){return this.set(i,n)},u.set=function(i,n){return this._map[i.name()]=n,this},u.retainAll=function(i){for(var n={},s=0;s<i.length;s++){var f=i[s].name();n[f]=this._map[f]}return this._map=n,this},u.remove=function(i){var n=i.name(),s=this._map[n];return this._map[n]=void 0,s},u.keySet=function(){return this._map},u.clear=function(){this._map={}},_}(),X=function(_){A(u,_);function u(){return _.apply(this,arguments)||this}return u}(J);X.STRICT=new X("STRICT"),X.SMART=new X("SMART"),X.LENIENT=new X("LENIENT");var Qe=function(_){A(u,_);function u(){return _.apply(this,arguments)||this}var a=u.prototype;return a.isSupported=function(n){S("isSupported")},a.minus=function(n,s){return arguments.length<2?this._minusAmount(n):this._minusUnit(n,s)},a._minusAmount=function(n){return y(n,"amount"),U(n,Y,"amount"),n.subtractFrom(this)},a._minusUnit=function(n,s){return y(n,"amountToSubtract"),y(s,"unit"),U(s,G,"unit"),this._plusUnit(-n,s)},a.plus=function(n,s){return arguments.length<2?this._plusAmount(n):this._plusUnit(n,s)},a._plusAmount=function(n){return y(n,"amount"),U(n,Y,"amount"),n.addTo(this)},a._plusUnit=function(n,s){S("_plusUnit")},a.until=function(n,s){S("until")},a.with=function(n,s){return arguments.length<2?this._withAdjuster(n):this._withField(n,s)},a._withAdjuster=function(n){return y(n,"adjuster"),P(typeof n.adjustInto=="function","adjuster must be a TemporalAdjuster",h),n.adjustInto(this)},a._withField=function(n,s){S("_withField")},u}(Jt);typeof Symbol<"u"&&Symbol.toPrimitive&&(Qe.prototype[Symbol.toPrimitive]=function(_){if(_!=="number")return this.toString();throw new TypeError("A conversion from Temporal to a number is not allowed. To compare use the methods .equals(), .compareTo(), .isBefore() or one that is more suitable to your use case.")});var zn=function(_){A(u,_);function u(){return _.apply(this,arguments)||this}var a=u.prototype;return a.isSupported=function(n){return n instanceof d||n instanceof v?n.isDateBased():n!=null&&n.isSupportedBy(this)},a.query=function(n){return n===x.chronology()?this.chronology():n===x.precision()?v.DAYS:n===x.localDate()?H.ofEpochDay(this.toEpochDay()):n===x.localTime()||n===x.zone()||n===x.zoneId()||n===x.offset()?null:_.prototype.query.call(this,n)},a.adjustInto=function(n){return n.with(d.EPOCH_DAY,this.toEpochDay())},a.format=function(n){return y(n,"formatter"),U(n,Q,"formatter"),n.format(this)},u}(Qe);var Pt=function(){function _(){}return _.startsWith=function(a,i){return a.indexOf(i)===0},_.hashCode=function(a){var i=a.length;if(i===0)return 0;for(var n=0,s=0;s<i;s++){var f=a.charCodeAt(s);n=(n<<5)-n+f,n|=0}return p.smi(n)},_}();var le=function(){function _(){}_.systemDefault=function(){throw new r("not supported operation")},_.getAvailableZoneIds=function(){throw new r("not supported operation")},_.of=function(i){throw new r("not supported operation"+i)},_.ofOffset=function(i,n){throw new r("not supported operation"+i+n)},_.from=function(i){throw new r("not supported operation"+i)};var u=_.prototype;return u.id=function(){S("ZoneId.id")},u.rules=function(){S("ZoneId.rules")},u.normalized=function(){var i=this.rules();return i.isFixedOffset()?i.offset(ge.EPOCH):this},u.equals=function(i){return this===i?!0:i instanceof _?this.id()===i.id():!1},u.hashCode=function(){return Pt.hashCode(this.id())},u.toString=function(){return this.id()},u.toJSON=function(){return this.toString()},_}(),Hr=function(){function _(){}_.of=function(i){return y(i,"offset"),new XO(i)};var u=_.prototype;return u.isFixedOffset=function(){S("ZoneRules.isFixedOffset")},u.offset=function(i){return i instanceof ge?this.offsetOfInstant(i):this.offsetOfLocalDateTime(i)},u.offsetOfInstant=function(i){S("ZoneRules.offsetInstant")},u.offsetOfEpochMilli=function(i){S("ZoneRules.offsetOfEpochMilli")},u.offsetOfLocalDateTime=function(i){S("ZoneRules.offsetLocalDateTime")},u.validOffsets=function(i){S("ZoneRules.validOffsets")},u.transition=function(i){S("ZoneRules.transition")},u.standardOffset=function(i){S("ZoneRules.standardOffset")},u.daylightSavings=function(i){S("ZoneRules.daylightSavings")},u.isDaylightSavings=function(i){S("ZoneRules.isDaylightSavings")},u.isValidOffset=function(i,n){S("ZoneRules.isValidOffset")},u.nextTransition=function(i){S("ZoneRules.nextTransition")},u.previousTransition=function(i){S("ZoneRules.previousTransition")},u.transitions=function(){S("ZoneRules.transitions")},u.transitionRules=function(){S("ZoneRules.transitionRules")},u.toString=function(){S("ZoneRules.toString")},u.toJSON=function(){return this.toString()},_}(),XO=function(_){A(u,_);function u(i){var n;return n=_.call(this)||this,n._offset=i,n}var a=u.prototype;return a.isFixedOffset=function(){return!0},a.offsetOfInstant=function(){return this._offset},a.offsetOfEpochMilli=function(){return this._offset},a.offsetOfLocalDateTime=function(){return this._offset},a.validOffsets=function(){return[this._offset]},a.transition=function(){return null},a.standardOffset=function(){return this._offset},a.daylightSavings=function(){return q.ZERO},a.isDaylightSavings=function(){return!1},a.isValidOffset=function(n,s){return this._offset.equals(s)},a.nextTransition=function(){return null},a.previousTransition=function(){return null},a.transitions=function(){return[]},a.transitionRules=function(){return[]},a.equals=function(n){return this===n?!0:n instanceof u?this._offset.equals(n._offset):!1},a.toString=function(){return"FixedRules:"+this._offset.toString()},u}(Hr),Md={},Pd={},Z=function(_){A(u,_);function u(i){var n;return n=_.call(this)||this,u._validateTotalSeconds(i),n._totalSeconds=p.safeToInt(i),n._rules=Hr.of(F(n)),n._id=u._buildId(i),n}var a=u.prototype;return a.totalSeconds=function(){return this._totalSeconds},a.id=function(){return this._id},u._buildId=function(n){if(n===0)return"Z";var s=Math.abs(n),f=p.intDiv(s,C.SECONDS_PER_HOUR),E=p.intMod(p.intDiv(s,C.SECONDS_PER_MINUTE),C.MINUTES_PER_HOUR),w=(n<0?"-":"+")+(f<10?"0":"")+f+(E<10?":0":":")+E,b=p.intMod(s,C.SECONDS_PER_MINUTE);return b!==0&&(w+=(b<10?":0":":")+b),w},u._validateTotalSeconds=function(n){if(Math.abs(n)>u.MAX_SECONDS)throw new r("Zone offset not in valid range: -18:00 to +18:00")},u._validate=function(n,s,f){if(n<-18||n>18)throw new r("Zone offset hours not in valid range: value "+n+" is not in the range -18 to 18");if(n>0){if(s<0||f<0)throw new r("Zone offset minutes and seconds must be positive because hours is positive")}else if(n<0){if(s>0||f>0)throw new r("Zone offset minutes and seconds must be negative because hours is negative")}else if(s>0&&f<0||s<0&&f>0)throw new r("Zone offset minutes and seconds must have the same sign");if(Math.abs(s)>59)throw new r("Zone offset minutes not in valid range: abs(value) "+Math.abs(s)+" is not in the range 0 to 59");if(Math.abs(f)>59)throw new r("Zone offset seconds not in valid range: abs(value) "+Math.abs(f)+" is not in the range 0 to 59");if(Math.abs(n)===18&&(Math.abs(s)>0||Math.abs(f)>0))throw new r("Zone offset not in valid range: -18:00 to +18:00")},u.of=function(n){y(n,"offsetId");var s=Pd[n];if(s!=null)return s;var f,E,w;switch(n.length){case 2:n=n[0]+"0"+n[1];case 3:f=u._parseNumber(n,1,!1),E=0,w=0;break;case 5:f=u._parseNumber(n,1,!1),E=u._parseNumber(n,3,!1),w=0;break;case 6:f=u._parseNumber(n,1,!1),E=u._parseNumber(n,4,!0),w=0;break;case 7:f=u._parseNumber(n,1,!1),E=u._parseNumber(n,3,!1),w=u._parseNumber(n,5,!1);break;case 9:f=u._parseNumber(n,1,!1),E=u._parseNumber(n,4,!0),w=u._parseNumber(n,7,!0);break;default:throw new r("Invalid ID for ZoneOffset, invalid format: "+n)}var b=n[0];if(b!=="+"&&b!=="-")throw new r("Invalid ID for ZoneOffset, plus/minus not found when expected: "+n);return b==="-"?u.ofHoursMinutesSeconds(-f,-E,-w):u.ofHoursMinutesSeconds(f,E,w)},u._parseNumber=function(n,s,f){if(f&&n[s-1]!==":")throw new r("Invalid ID for ZoneOffset, colon not found when expected: "+n);var E=n[s],w=n[s+1];if(E<"0"||E>"9"||w<"0"||w>"9")throw new r("Invalid ID for ZoneOffset, non numeric characters found: "+n);return(E.charCodeAt(0)-48)*10+(w.charCodeAt(0)-48)},u.ofHours=function(n){return u.ofHoursMinutesSeconds(n,0,0)},u.ofHoursMinutes=function(n,s){return u.ofHoursMinutesSeconds(n,s,0)},u.ofHoursMinutesSeconds=function(n,s,f){u._validate(n,s,f);var E=n*C.SECONDS_PER_HOUR+s*C.SECONDS_PER_MINUTE+f;return u.ofTotalSeconds(E)},u.ofTotalMinutes=function(n){var s=n*C.SECONDS_PER_MINUTE;return u.ofTotalSeconds(s)},u.ofTotalSeconds=function(n){if(n%(15*C.SECONDS_PER_MINUTE)===0){var s=n,f=Md[s];return f==null&&(f=new u(n),Md[s]=f,Pd[f.id()]=f),f}else return new u(n)},a.rules=function(){return this._rules},a.get=function(n){return this.getLong(n)},a.getLong=function(n){if(n===d.OFFSET_SECONDS)return this._totalSeconds;if(n instanceof d)throw new r("Unsupported field: "+n);return n.getFrom(this)},a.query=function(n){return y(n,"query"),n===x.offset()||n===x.zone()?this:n===x.localDate()||n===x.localTime()||n===x.precision()||n===x.chronology()||n===x.zoneId()?null:n.queryFrom(this)},a.adjustInto=function(n){return n.with(d.OFFSET_SECONDS,this._totalSeconds)},a.compareTo=function(n){return y(n,"other"),n._totalSeconds-this._totalSeconds},a.equals=function(n){return this===n?!0:n instanceof u?this._totalSeconds===n._totalSeconds:!1},a.hashCode=function(){return this._totalSeconds},a.toString=function(){return this._id},u}(le);function JO(){Z.MAX_SECONDS=18*C.SECONDS_PER_HOUR,Z.UTC=Z.ofTotalSeconds(0),Z.MIN=Z.ofTotalSeconds(-Z.MAX_SECONDS),Z.MAX=Z.ofTotalSeconds(Z.MAX_SECONDS)}var Ji=function(_){A(u,_),u.create=function(n,s){var f=new u;return f._addFieldValue(n,s),f};function u(){var i;return i=_.call(this)||this,i.fieldValues=new Cd,i.chrono=null,i.zone=null,i.date=null,i.time=null,i.leapSecond=!1,i.excessDays=null,i}var a=u.prototype;return a.getFieldValue0=function(n){return this.fieldValues.get(n)},a._addFieldValue=function(n,s){y(n,"field");var f=this.getFieldValue0(n);if(f!=null&&f!==s)throw new r("Conflict found: "+n+" "+f+" differs from "+n+" "+s+": "+this);return this._putFieldValue0(n,s)},a._putFieldValue0=function(n,s){return this.fieldValues.put(n,s),this},a.resolve=function(n,s){return s!=null&&this.fieldValues.retainAll(s),this._mergeDate(n),this._mergeTime(n),this._resolveTimeInferZeroes(n),this.excessDays!=null&&this.excessDays.isZero()===!1&&this.date!=null&&this.time!=null&&(this.date=this.date.plus(this.excessDays),this.excessDays=Mt.ZERO),this._resolveInstant(),this},a._mergeDate=function(n){this._checkDate(ce.INSTANCE.resolveDate(this.fieldValues,n))},a._checkDate=function(n){if(n!=null){this._addObject(n);for(var s in this.fieldValues.keySet()){var f=d.byName(s);if(f&&this.fieldValues.get(f)!==void 0&&f.isDateBased()){var E=void 0;try{E=n.getLong(f)}catch(b){if(b instanceof r)continue;throw b}var w=this.fieldValues.get(f);if(E!==w)throw new r("Conflict found: Field "+f+" "+E+" differs from "+f+" "+w+" derived from "+n)}}}},a._mergeTime=function(n){if(this.fieldValues.containsKey(d.CLOCK_HOUR_OF_DAY)){var s=this.fieldValues.remove(d.CLOCK_HOUR_OF_DAY);n!==X.LENIENT&&(n===X.SMART&&s===0||d.CLOCK_HOUR_OF_DAY.checkValidValue(s)),this._addFieldValue(d.HOUR_OF_DAY,s===24?0:s)}if(this.fieldValues.containsKey(d.CLOCK_HOUR_OF_AMPM)){var f=this.fieldValues.remove(d.CLOCK_HOUR_OF_AMPM);n!==X.LENIENT&&(n===X.SMART&&f===0||d.CLOCK_HOUR_OF_AMPM.checkValidValue(f)),this._addFieldValue(d.HOUR_OF_AMPM,f===12?0:f)}if(n!==X.LENIENT&&(this.fieldValues.containsKey(d.AMPM_OF_DAY)&&d.AMPM_OF_DAY.checkValidValue(this.fieldValues.get(d.AMPM_OF_DAY)),this.fieldValues.containsKey(d.HOUR_OF_AMPM)&&d.HOUR_OF_AMPM.checkValidValue(this.fieldValues.get(d.HOUR_OF_AMPM))),this.fieldValues.containsKey(d.AMPM_OF_DAY)&&this.fieldValues.containsKey(d.HOUR_OF_AMPM)){var E=this.fieldValues.remove(d.AMPM_OF_DAY),w=this.fieldValues.remove(d.HOUR_OF_AMPM);this._addFieldValue(d.HOUR_OF_DAY,E*12+w)}if(this.fieldValues.containsKey(d.NANO_OF_DAY)){var b=this.fieldValues.remove(d.NANO_OF_DAY);n!==X.LENIENT&&d.NANO_OF_DAY.checkValidValue(b),this._addFieldValue(d.SECOND_OF_DAY,p.intDiv(b,1e9)),this._addFieldValue(d.NANO_OF_SECOND,p.intMod(b,1e9))}if(this.fieldValues.containsKey(d.MICRO_OF_DAY)){var M=this.fieldValues.remove(d.MICRO_OF_DAY);n!==X.LENIENT&&d.MICRO_OF_DAY.checkValidValue(M),this._addFieldValue(d.SECOND_OF_DAY,p.intDiv(M,1e6)),this._addFieldValue(d.MICRO_OF_SECOND,p.intMod(M,1e6))}if(this.fieldValues.containsKey(d.MILLI_OF_DAY)){var k=this.fieldValues.remove(d.MILLI_OF_DAY);n!==X.LENIENT&&d.MILLI_OF_DAY.checkValidValue(k),this._addFieldValue(d.SECOND_OF_DAY,p.intDiv(k,1e3)),this._addFieldValue(d.MILLI_OF_SECOND,p.intMod(k,1e3))}if(this.fieldValues.containsKey(d.SECOND_OF_DAY)){var V=this.fieldValues.remove(d.SECOND_OF_DAY);n!==X.LENIENT&&d.SECOND_OF_DAY.checkValidValue(V),this._addFieldValue(d.HOUR_OF_DAY,p.intDiv(V,3600)),this._addFieldValue(d.MINUTE_OF_HOUR,p.intMod(p.intDiv(V,60),60)),this._addFieldValue(d.SECOND_OF_MINUTE,p.intMod(V,60))}if(this.fieldValues.containsKey(d.MINUTE_OF_DAY)){var $=this.fieldValues.remove(d.MINUTE_OF_DAY);n!==X.LENIENT&&d.MINUTE_OF_DAY.checkValidValue($),this._addFieldValue(d.HOUR_OF_DAY,p.intDiv($,60)),this._addFieldValue(d.MINUTE_OF_HOUR,p.intMod($,60))}if(n!==X.LENIENT&&(this.fieldValues.containsKey(d.MILLI_OF_SECOND)&&d.MILLI_OF_SECOND.checkValidValue(this.fieldValues.get(d.MILLI_OF_SECOND)),this.fieldValues.containsKey(d.MICRO_OF_SECOND)&&d.MICRO_OF_SECOND.checkValidValue(this.fieldValues.get(d.MICRO_OF_SECOND))),this.fieldValues.containsKey(d.MILLI_OF_SECOND)&&this.fieldValues.containsKey(d.MICRO_OF_SECOND)){var j=this.fieldValues.remove(d.MILLI_OF_SECOND),de=this.fieldValues.get(d.MICRO_OF_SECOND);this._putFieldValue0(d.MICRO_OF_SECOND,j*1e3+p.intMod(de,1e3))}if(this.fieldValues.containsKey(d.MICRO_OF_SECOND)&&this.fieldValues.containsKey(d.NANO_OF_SECOND)){var Ae=this.fieldValues.get(d.NANO_OF_SECOND);this._putFieldValue0(d.MICRO_OF_SECOND,p.intDiv(Ae,1e3)),this.fieldValues.remove(d.MICRO_OF_SECOND)}if(this.fieldValues.containsKey(d.MILLI_OF_SECOND)&&this.fieldValues.containsKey(d.NANO_OF_SECOND)){var ve=this.fieldValues.get(d.NANO_OF_SECOND);this._putFieldValue0(d.MILLI_OF_SECOND,p.intDiv(ve,1e6)),this.fieldValues.remove(d.MILLI_OF_SECOND)}if(this.fieldValues.containsKey(d.MICRO_OF_SECOND)){var Te=this.fieldValues.remove(d.MICRO_OF_SECOND);this._putFieldValue0(d.NANO_OF_SECOND,Te*1e3)}else if(this.fieldValues.containsKey(d.MILLI_OF_SECOND)){var et=this.fieldValues.remove(d.MILLI_OF_SECOND);this._putFieldValue0(d.NANO_OF_SECOND,et*1e6)}},a._resolveTimeInferZeroes=function(n){var s=this.fieldValues.get(d.HOUR_OF_DAY),f=this.fieldValues.get(d.MINUTE_OF_HOUR),E=this.fieldValues.get(d.SECOND_OF_MINUTE),w=this.fieldValues.get(d.NANO_OF_SECOND);if(s!=null&&!(f==null&&(E!=null||w!=null))&&!(f!=null&&E==null&&w!=null)){if(n!==X.LENIENT){if(s!=null){n===X.SMART&&s===24&&(f==null||f===0)&&(E==null||E===0)&&(w==null||w===0)&&(s=0,this.excessDays=Mt.ofDays(1));var b=d.HOUR_OF_DAY.checkValidIntValue(s);if(f!=null){var M=d.MINUTE_OF_HOUR.checkValidIntValue(f);if(E!=null){var k=d.SECOND_OF_MINUTE.checkValidIntValue(E);if(w!=null){var V=d.NANO_OF_SECOND.checkValidIntValue(w);this._addObject(C.of(b,M,k,V))}else this._addObject(C.of(b,M,k))}else w==null&&this._addObject(C.of(b,M))}else E==null&&w==null&&this._addObject(C.of(b,0))}}else if(s!=null){var $=s;if(f!=null)if(E!=null){w==null&&(w=0);var j=p.safeMultiply($,36e11);j=p.safeAdd(j,p.safeMultiply(f,6e10)),j=p.safeAdd(j,p.safeMultiply(E,1e9)),j=p.safeAdd(j,w);var de=p.floorDiv(j,864e11),Ae=p.floorMod(j,864e11);this._addObject(C.ofNanoOfDay(Ae)),this.excessDays=Mt.ofDays(de)}else{var ve=p.safeMultiply($,3600);ve=p.safeAdd(ve,p.safeMultiply(f,60));var Te=p.floorDiv(ve,86400),et=p.floorMod(ve,86400);this._addObject(C.ofSecondOfDay(et)),this.excessDays=Mt.ofDays(Te)}else{var Ot=p.safeToInt(p.floorDiv($,24));$=p.floorMod($,24),this._addObject(C.of($,0)),this.excessDays=Mt.ofDays(Ot)}}this.fieldValues.remove(d.HOUR_OF_DAY),this.fieldValues.remove(d.MINUTE_OF_HOUR),this.fieldValues.remove(d.SECOND_OF_MINUTE),this.fieldValues.remove(d.NANO_OF_SECOND)}},a._addObject=function(n){n instanceof zn?this.date=n:n instanceof C&&(this.time=n)},a._resolveInstant=function(){if(this.date!=null&&this.time!=null){var n=this.fieldValues.get(d.OFFSET_SECONDS);if(n!=null){var s=Z.ofTotalSeconds(n),f=this.date.atTime(this.time).atZone(s).getLong(d.INSTANT_SECONDS);this.fieldValues.put(d.INSTANT_SECONDS,f)}else if(this.zone!=null){var E=this.date.atTime(this.time).atZone(this.zone).getLong(d.INSTANT_SECONDS);this.fieldValues.put(d.INSTANT_SECONDS,E)}}},a.build=function(n){return n.queryFrom(this)},a.isSupported=function(n){return n==null?!1:this.fieldValues.containsKey(n)&&this.fieldValues.get(n)!==void 0||this.date!=null&&this.date.isSupported(n)||this.time!=null&&this.time.isSupported(n)},a.getLong=function(n){y(n,"field");var s=this.getFieldValue0(n);if(s==null){if(this.date!=null&&this.date.isSupported(n))return this.date.getLong(n);if(this.time!=null&&this.time.isSupported(n))return this.time.getLong(n);throw new r("Field not found: "+n)}return s},a.query=function(n){return n===x.zoneId()?this.zone:n===x.chronology()?this.chrono:n===x.localDate()?this.date!=null?H.from(this.date):null:n===x.localTime()?this.time:n===x.zone()||n===x.offset()?n.queryFrom(this):n===x.precision()?null:n.queryFrom(this)},u}(Jt),Fd=function(){function _(){if(arguments.length===1)if(arguments[0]instanceof _){this._constructorSelf.apply(this,arguments);return}else this._constructorFormatter.apply(this,arguments);else this._constructorParam.apply(this,arguments);this._caseSensitive=!0,this._strict=!0,this._parsed=[new xd(this)]}var u=_.prototype;return u._constructorParam=function(i,n,s){this._locale=i,this._symbols=n,this._overrideChronology=s},u._constructorFormatter=function(i){this._locale=i.locale(),this._symbols=i.decimalStyle(),this._overrideChronology=i.chronology()},u._constructorSelf=function(i){this._locale=i._locale,this._symbols=i._symbols,this._overrideChronology=i._overrideChronology,this._overrideZone=i._overrideZone,this._caseSensitive=i._caseSensitive,this._strict=i._strict,this._parsed=[new xd(this)]},u.copy=function(){return new _(this)},u.symbols=function(){return this._symbols},u.isStrict=function(){return this._strict},u.setStrict=function(i){this._strict=i},u.locale=function(){return this._locale},u.setLocale=function(i){this._locale=i},u.startOptional=function(){this._parsed.push(this.currentParsed().copy())},u.endOptional=function(i){i?this._parsed.splice(this._parsed.length-2,1):this._parsed.splice(this._parsed.length-1,1)},u.isCaseSensitive=function(){return this._caseSensitive},u.setCaseSensitive=function(i){this._caseSensitive=i},u.subSequenceEquals=function(i,n,s,f,E){if(n+E>i.length||f+E>s.length)return!1;this.isCaseSensitive()||(i=i.toLowerCase(),s=s.toLowerCase());for(var w=0;w<E;w++){var b=i[n+w],M=s[f+w];if(b!==M)return!1}return!0},u.charEquals=function(i,n){return this.isCaseSensitive()?i===n:this.charEqualsIgnoreCase(i,n)},u.charEqualsIgnoreCase=function(i,n){return i===n||i.toLowerCase()===n.toLowerCase()},u.setParsedField=function(i,n,s,f){var E=this.currentParsed().fieldValues,w=E.get(i);return E.set(i,n),w!=null&&w!==n?~s:f},u.setParsedZone=function(i){y(i,"zone"),this.currentParsed().zone=i},u.getParsed=function(i){return this.currentParsed().fieldValues.get(i)},u.toParsed=function(){return this.currentParsed()},u.currentParsed=function(){return this._parsed[this._parsed.length-1]},u.setParsedLeapSecond=function(){this.currentParsed().leapSecond=!0},u.getEffectiveChronology=function(){var i=this.currentParsed().chrono;return i==null&&(i=this._overrideChronology,i==null&&(i=ce.INSTANCE)),i},_}(),xd=function(_){A(u,_);function u(i){var n;return n=_.call(this)||this,n.chrono=null,n.zone=null,n.fieldValues=new Cd,n.leapSecond=!1,n.dateTimeParseContext=i,n}var a=u.prototype;return a.copy=function(){var n=new u;return n.chrono=this.chrono,n.zone=this.zone,n.fieldValues.putAll(this.fieldValues),n.leapSecond=this.leapSecond,n.dateTimeParseContext=this.dateTimeParseContext,n},a.toString=function(){return this.fieldValues+", "+this.chrono+", "+this.zone},a.isSupported=function(n){return this.fieldValues.containsKey(n)},a.get=function(n){var s=this.fieldValues.get(n);return P(s!=null),s},a.query=function(n){return n===x.chronology()?this.chrono:n===x.zoneId()||n===x.zone()?this.zone:_.prototype.query.call(this,n)},a.toBuilder=function(){var n=new Ji;return n.fieldValues.putAll(this.fieldValues),n.chrono=this.dateTimeParseContext.getEffectiveChronology(),this.zone!=null?n.zone=this.zone:n.zone=this.overrideZone,n.leapSecond=this.leapSecond,n.excessDays=this.excessDays,n},u}(Qe);var Ud=function(){function _(a,i,n){arguments.length===2&&arguments[1]instanceof Q?(this._temporal=_.adjust(a,i),this._locale=i.locale(),this._symbols=i.decimalStyle()):(this._temporal=a,this._locale=i,this._symbols=n),this._optional=0}_.adjust=function(i,n){return i};var u=_.prototype;return u.symbols=function(){return this._symbols},u.startOptional=function(){this._optional++},u.endOptional=function(){this._optional--},u.getValueQuery=function(i){var n=this._temporal.query(i);if(n==null&&this._optional===0)throw new r("Unable to extract value: "+this._temporal);return n},u.getValue=function(i){try{return this._temporal.getLong(i)}catch(n){if(n instanceof r&&this._optional>0)return null;throw n}},u.temporal=function(){return this._temporal},u.locale=function(){return this._locale},u.setDateTime=function(i){this._temporal=i},u.setLocale=function(i){this._locale=i},_}(),dt={},QO=[0,90,181,273,0,91,182,274],Ft=function(_){A(u,_);function u(){return _.apply(this,arguments)||this}var a=u.prototype;return a.isDateBased=function(){return!0},a.isTimeBased=function(){return!1},a._isIso=function(){return!0},u._getWeekRangeByLocalDate=function(n){var s=u._getWeekBasedYear(n);return z.of(1,u._getWeekRangeByYear(s))},u._getWeekRangeByYear=function(n){var s=H.of(n,1,1);return s.dayOfWeek()===_e.THURSDAY||s.dayOfWeek()===_e.WEDNESDAY&&s.isLeapYear()?53:52},u._getWeek=function(n){var s=n.dayOfWeek().ordinal(),f=n.dayOfYear()-1,E=f+(3-s),w=p.intDiv(E,7),b=E-w*7,M=b-3;if(M<-3&&(M+=7),f<M)return u._getWeekRangeByLocalDate(n.withDayOfYear(180).minusYears(1)).maximum();var k=p.intDiv(f-M,7)+1;return k===53&&(M===-3||M===-2&&n.isLeapYear())===!1&&(k=1),k},u._getWeekBasedYear=function(n){var s=n.year(),f=n.dayOfYear();if(f<=3){var E=n.dayOfWeek().ordinal();f-E<-2&&s--}else if(f>=363){var w=n.dayOfWeek().ordinal();f=f-363-(n.isLeapYear()?1:0),f-w>=0&&s++}return s},a.displayName=function(){return this.toString()},a.resolve=function(){return null},a.name=function(){return this.toString()},u}(ut),eA=function(_){A(u,_);function u(){return _.apply(this,arguments)||this}var a=u.prototype;return a.toString=function(){return"DayOfQuarter"},a.baseUnit=function(){return v.DAYS},a.rangeUnit=function(){return Xn},a.range=function(){return z.of(1,90,92)},a.isSupportedBy=function(n){return n.isSupported(d.DAY_OF_YEAR)&&n.isSupported(d.MONTH_OF_YEAR)&&n.isSupported(d.YEAR)&&this._isIso(n)},a.rangeRefinedBy=function(n){if(n.isSupported(this)===!1)throw new l("Unsupported field: DayOfQuarter");var s=n.getLong(In);if(s===1){var f=n.getLong(d.YEAR);return ce.isLeapYear(f)?z.of(1,91):z.of(1,90)}else{if(s===2)return z.of(1,91);if(s===3||s===4)return z.of(1,92)}return this.range()},a.getFrom=function(n){if(n.isSupported(this)===!1)throw new l("Unsupported field: DayOfQuarter");var s=n.get(d.DAY_OF_YEAR),f=n.get(d.MONTH_OF_YEAR),E=n.getLong(d.YEAR);return s-QO[p.intDiv(f-1,3)+(ce.isLeapYear(E)?4:0)]},a.adjustInto=function(n,s){var f=this.getFrom(n);return this.range().checkValidValue(s,this),n.with(d.DAY_OF_YEAR,n.getLong(d.DAY_OF_YEAR)+(s-f))},a.resolve=function(n,s,f){var E=n.get(d.YEAR),w=n.get(In);if(E==null||w==null)return null;var b=d.YEAR.checkValidIntValue(E),M=n.get(Iu),k;if(f===X.LENIENT){var V=w;k=H.of(b,1,1),k=k.plusMonths(p.safeMultiply(p.safeSubtract(V,1),3)),k=k.plusDays(p.safeSubtract(M,1))}else{var $=In.range().checkValidIntValue(w,In);if(f===X.STRICT){var j=92;$===1?j=ce.isLeapYear(b)?91:90:$===2&&(j=91),z.of(1,j).checkValidValue(M,this)}else this.range().checkValidValue(M,this);k=H.of(b,($-1)*3+1,1).plusDays(M-1)}return n.remove(this),n.remove(d.YEAR),n.remove(In),k},u}(Ft),tA=function(_){A(u,_);function u(){return _.apply(this,arguments)||this}var a=u.prototype;return a.toString=function(){return"QuarterOfYear"},a.baseUnit=function(){return Xn},a.rangeUnit=function(){return v.YEARS},a.range=function(){return z.of(1,4)},a.isSupportedBy=function(n){return n.isSupported(d.MONTH_OF_YEAR)&&this._isIso(n)},a.rangeRefinedBy=function(n){return this.range()},a.getFrom=function(n){if(n.isSupported(this)===!1)throw new l("Unsupported field: QuarterOfYear");var s=n.getLong(d.MONTH_OF_YEAR);return p.intDiv(s+2,3)},a.adjustInto=function(n,s){var f=this.getFrom(n);return this.range().checkValidValue(s,this),n.with(d.MONTH_OF_YEAR,n.getLong(d.MONTH_OF_YEAR)+(s-f)*3)},u}(Ft),nA=function(_){A(u,_);function u(){return _.apply(this,arguments)||this}var a=u.prototype;return a.toString=function(){return"WeekOfWeekBasedYear"},a.baseUnit=function(){return v.WEEKS},a.rangeUnit=function(){return Zn},a.range=function(){return z.of(1,52,53)},a.isSupportedBy=function(n){return n.isSupported(d.EPOCH_DAY)&&this._isIso(n)},a.rangeRefinedBy=function(n){if(n.isSupported(this)===!1)throw new l("Unsupported field: WeekOfWeekBasedYear");return Ft._getWeekRangeByLocalDate(H.from(n))},a.getFrom=function(n){if(n.isSupported(this)===!1)throw new l("Unsupported field: WeekOfWeekBasedYear");return Ft._getWeek(H.from(n))},a.adjustInto=function(n,s){return this.range().checkValidValue(s,this),n.plus(p.safeSubtract(s,this.getFrom(n)),v.WEEKS)},a.resolve=function(n,s,f){var E=n.get(Tt),w=n.get(d.DAY_OF_WEEK);if(E==null||w==null)return null;var b=Tt.range().checkValidIntValue(E,Tt),M=n.get(bu),k;if(f===X.LENIENT){var V=w,$=0;V>7?($=p.intDiv(V-1,7),V=p.intMod(V-1,7)+1):V<1&&($=p.intDiv(V,7)-1,V=p.intMod(V,7)+7),k=H.of(b,1,4).plusWeeks(M-1).plusWeeks($).with(d.DAY_OF_WEEK,V)}else{var j=d.DAY_OF_WEEK.checkValidIntValue(w);if(f===X.STRICT){var de=H.of(b,1,4),Ae=Ft._getWeekRangeByLocalDate(de);Ae.checkValidValue(M,this)}else this.range().checkValidValue(M,this);k=H.of(b,1,4).plusWeeks(M-1).with(d.DAY_OF_WEEK,j)}return n.remove(this),n.remove(Tt),n.remove(d.DAY_OF_WEEK),k},a.displayName=function(){return"Week"},u}(Ft),rA=function(_){A(u,_);function u(){return _.apply(this,arguments)||this}var a=u.prototype;return a.toString=function(){return"WeekBasedYear"},a.baseUnit=function(){return Zn},a.rangeUnit=function(){return v.FOREVER},a.range=function(){return d.YEAR.range()},a.isSupportedBy=function(n){return n.isSupported(d.EPOCH_DAY)&&this._isIso(n)},a.rangeRefinedBy=function(n){return d.YEAR.range()},a.getFrom=function(n){if(n.isSupported(this)===!1)throw new l("Unsupported field: WeekBasedYear");return Ft._getWeekBasedYear(H.from(n))},a.adjustInto=function(n,s){if(this.isSupportedBy(n)===!1)throw new l("Unsupported field: WeekBasedYear");var f=this.range().checkValidIntValue(s,Tt),E=H.from(n),w=E.get(d.DAY_OF_WEEK),b=Ft._getWeek(E);b===53&&Ft._getWeekRangeByYear(f)===52&&(b=52);var M=H.of(f,1,4),k=w-M.get(d.DAY_OF_WEEK)+(b-1)*7;return M=M.plusDays(k),n.with(M)},u}(Ft),kd=function(_){A(u,_);function u(i,n){var s;return s=_.call(this)||this,s._name=i,s._duration=n,s}var a=u.prototype;return a.duration=function(){return this._duration},a.isDurationEstimated=function(){return!0},a.isDateBased=function(){return!0},a.isTimeBased=function(){return!1},a.isSupportedBy=function(n){return n.isSupported(d.EPOCH_DAY)},a.addTo=function(n,s){switch(this){case Zn:{var f=p.safeAdd(n.get(Tt),s);return n.with(Tt,f)}case Xn:return n.plus(p.intDiv(s,256),v.YEARS).plus(p.intMod(s,256)*3,v.MONTHS);default:throw new g("Unreachable")}},a.between=function(n,s){switch(this){case Zn:return p.safeSubtract(s.getLong(Tt),n.getLong(Tt));case Xn:return p.intDiv(n.until(s,v.MONTHS),3);default:throw new g("Unreachable")}},a.toString=function(){return this._name},u}(G),Iu=null,In=null,bu=null,Tt=null,Zn=null,Xn=null;function iA(){Iu=new eA,In=new tA,bu=new nA,Tt=new rA,Zn=new kd("WeekBasedYears",q.ofSeconds(31556952)),Xn=new kd("QuarterYears",q.ofSeconds(31556952/4)),dt.DAY_OF_QUARTER=Iu,dt.QUARTER_OF_YEAR=In,dt.WEEK_OF_WEEK_BASED_YEAR=bu,dt.WEEK_BASED_YEAR=Tt,dt.WEEK_BASED_YEARS=Zn,dt.QUARTER_YEARS=Xn,H.prototype.isoWeekOfWeekyear=function(){return this.get(dt.WEEK_OF_WEEK_BASED_YEAR)},H.prototype.isoWeekyear=function(){return this.get(dt.WEEK_BASED_YEAR)}}var Wr=function(){function _(a,i,n,s){this._zeroDigit=a,this._zeroDigitCharCode=a.charCodeAt(0),this._positiveSign=i,this._negativeSign=n,this._decimalSeparator=s}var u=_.prototype;return u.positiveSign=function(){return this._positiveSign},u.withPositiveSign=function(i){return i===this._positiveSign?this:new _(this._zeroDigit,i,this._negativeSign,this._decimalSeparator)},u.negativeSign=function(){return this._negativeSign},u.withNegativeSign=function(i){return i===this._negativeSign?this:new _(this._zeroDigit,this._positiveSign,i,this._decimalSeparator)},u.zeroDigit=function(){return this._zeroDigit},u.withZeroDigit=function(i){return i===this._zeroDigit?this:new _(i,this._positiveSign,this._negativeSign,this._decimalSeparator)},u.decimalSeparator=function(){return this._decimalSeparator},u.withDecimalSeparator=function(i){return i===this._decimalSeparator?this:new _(this._zeroDigit,this._positiveSign,this._negativeSign,i)},u.convertToDigit=function(i){var n=i.charCodeAt(0)-this._zeroDigitCharCode;return n>=0&&n<=9?n:-1},u.convertNumberToI18N=function(i){if(this._zeroDigit==="0")return i;for(var n=this._zeroDigitCharCode-"0".charCodeAt(0),s="",f=0;f<i.length;f++)s+=String.fromCharCode(i.charCodeAt(f)+n);return s},u.equals=function(i){return this===i?!0:i instanceof _?this._zeroDigit===i._zeroDigit&&this._positiveSign===i._positiveSign&&this._negativeSign===i._negativeSign&&this._decimalSeparator===i._decimalSeparator:!1},u.hashCode=function(){return this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator},u.toString=function(){return"DecimalStyle["+this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator+"]"},_.of=function(){throw new Error("not yet supported")},_.availableLocales=function(){throw new Error("not yet supported")},_}();Wr.STANDARD=new Wr("0","+","-",".");var oe=function(_){A(u,_);function u(){return _.apply(this,arguments)||this}var a=u.prototype;return a.parse=function(n,s,f){switch(this){case u.NORMAL:return!n||!s;case u.ALWAYS:case u.EXCEEDS_PAD:return!0;default:return!s&&!f}},u}(J);oe.NORMAL=new oe("NORMAL"),oe.NEVER=new oe("NEVER"),oe.ALWAYS=new oe("ALWAYS"),oe.EXCEEDS_PAD=new oe("EXCEEDS_PAD"),oe.NOT_NEGATIVE=new oe("NOT_NEGATIVE");var ue=function(_){A(u,_);function u(){return _.apply(this,arguments)||this}var a=u.prototype;return a.isStandalone=function(){switch(this){case u.FULL_STANDALONE:case u.SHORT_STANDALONE:case u.NARROW_STANDALONE:return!0;default:return!1}},a.asStandalone=function(){switch(this){case u.FULL:return u.FULL_STANDALONE;case u.SHORT:return u.SHORT_STANDALONE;case u.NARROW:return u.NARROW_STANDALONE;default:return this}},a.asNormal=function(){switch(this){case u.FULL_STANDALONE:return u.FULL;case u.SHORT_STANDALONE:return u.SHORT;case u.NARROW_STANDALONE:return u.NARROW;default:return this}},u}(J);ue.FULL=new ue("FULL"),ue.FULL_STANDALONE=new ue("FULL_STANDALONE"),ue.SHORT=new ue("SHORT"),ue.SHORT_STANDALONE=new ue("SHORT_STANDALONE"),ue.NARROW=new ue("NARROW"),ue.NARROW_STANDALONE=new ue("NARROW_STANDALONE");var qd=function(){function _(a){if(a.length>1)throw new h('invalid literal, too long: "'+a+'"');this._literal=a}var u=_.prototype;return u.print=function(i,n){return n.append(this._literal),!0},u.parse=function(i,n,s){var f=n.length;if(s===f)return~s;var E=n.charAt(s);return i.charEquals(this._literal,E)===!1?~s:s+this._literal.length},u.toString=function(){return this._literal==="'"?"''":"'"+this._literal+"'"},_}();var Du=function(){function _(a,i){this._printerParsers=a,this._optional=i}var u=_.prototype;return u.withOptional=function(i){return i===this._optional?this:new _(this._printerParsers,i)},u.print=function(i,n){var s=n.length();this._optional&&i.startOptional();try{for(var f=0;f<this._printerParsers.length;f++){var E=this._printerParsers[f];if(E.print(i,n)===!1)return n.setLength(s),!0}}finally{this._optional&&i.endOptional()}return!0},u.parse=function(i,n,s){if(this._optional){i.startOptional();for(var f=s,E=0;E<this._printerParsers.length;E++){var w=this._printerParsers[E];if(f=w.parse(i,n,f),f<0)return i.endOptional(!1),s}return i.endOptional(!0),f}else{for(var b=0;b<this._printerParsers.length;b++){var M=this._printerParsers[b];if(s=M.parse(i,n,s),s<0)break}return s}},u.toString=function(){var i="";if(this._printerParsers!=null){i+=this._optional?"[":"(";for(var n=0;n<this._printerParsers.length;n++){var s=this._printerParsers[n];i+=s.toString()}i+=this._optional?"]":")"}return i},_}();var Bd=function(){function _(a,i,n,s){if(y(a,"field"),a.range().isFixed()===!1)throw new h("Field must have a fixed set of values: "+a);if(i<0||i>9)throw new h("Minimum width must be from 0 to 9 inclusive but was "+i);if(n<1||n>9)throw new h("Maximum width must be from 1 to 9 inclusive but was "+n);if(n<i)throw new h("Maximum width must exceed or equal the minimum width but "+n+" < "+i);this.field=a,this.minWidth=i,this.maxWidth=n,this.decimalPoint=s}var u=_.prototype;return u.print=function(i,n){var s=i.getValue(this.field);if(s===null)return!1;var f=i.symbols();if(s===0){if(this.minWidth>0){this.decimalPoint&&n.append(f.decimalSeparator());for(var E=0;E<this.minWidth;E++)n.append(f.zeroDigit())}}else{var w=this.convertToFraction(s,f.zeroDigit()),b=Math.min(Math.max(w.length,this.minWidth),this.maxWidth);if(w=w.substr(0,b),w*1>0)for(;w.length>this.minWidth&&w[w.length-1]==="0";)w=w.substr(0,w.length-1);var M=w;M=f.convertNumberToI18N(M),this.decimalPoint&&n.append(f.decimalSeparator()),n.append(M)}return!0},u.parse=function(i,n,s){var f=i.isStrict()?this.minWidth:0,E=i.isStrict()?this.maxWidth:9,w=n.length;if(s===w)return f>0?~s:s;if(this.decimalPoint){if(n[s]!==i.symbols().decimalSeparator())return f>0?~s:s;s++}var b=s+f;if(b>w)return~s;for(var M=Math.min(s+E,w),k=0,V=s;V<M;){var $=n.charAt(V++),j=i.symbols().convertToDigit($);if(j<0){if(V<b)return~s;V--;break}k=k*10+j}var de=V-s,Ae=Math.pow(10,de),ve=this.convertFromFraction(k,Ae);return i.setParsedField(this.field,ve,s,V)},u.convertToFraction=function(i,n){var s=this.field.range();s.checkValidValue(i,this.field);for(var f=s.minimum(),E=s.maximum()-f+1,w=i-f,b=p.intDiv(w*1e9,E),M=""+b;M.length<9;)M=n+M;return M},u.convertFromFraction=function(i,n){var s=this.field.range(),f=s.minimum(),E=s.maximum()-f+1,w=p.intDiv(i*E,n);return w},u.toString=function(){var i=this.decimalPoint?",DecimalPoint":"";return"Fraction("+this.field+","+this.minWidth+","+this.maxWidth+i+")"},_}(),Ru=15,Jn=[0,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],Qn=function(){function _(a,i,n,s,f){f===void 0&&(f=0),this._field=a,this._minWidth=i,this._maxWidth=n,this._signStyle=s,this._subsequentWidth=f}var u=_.prototype;return u.field=function(){return this._field},u.minWidth=function(){return this._minWidth},u.maxWidth=function(){return this._maxWidth},u.signStyle=function(){return this._signStyle},u.withFixedWidth=function(){return this._subsequentWidth===-1?this:new _(this._field,this._minWidth,this._maxWidth,this._signStyle,-1)},u.withSubsequentWidth=function(i){return new _(this._field,this._minWidth,this._maxWidth,this._signStyle,this._subsequentWidth+i)},u._isFixedWidth=function(){return this._subsequentWidth===-1||this._subsequentWidth>0&&this._minWidth===this._maxWidth&&this._signStyle===oe.NOT_NEGATIVE},u.print=function(i,n){var s=i.getValue(this._field);if(s==null)return!1;var f=this._getValue(i,s),E=i.symbols(),w=""+Math.abs(f);if(w.length>this._maxWidth)throw new r("Field "+this._field+" cannot be printed as the value "+f+" exceeds the maximum print width of "+this._maxWidth);if(w=E.convertNumberToI18N(w),f>=0)switch(this._signStyle){case oe.EXCEEDS_PAD:this._minWidth<Ru&&f>=Jn[this._minWidth]&&n.append(E.positiveSign());break;case oe.ALWAYS:n.append(E.positiveSign());break}else switch(this._signStyle){case oe.NORMAL:case oe.EXCEEDS_PAD:case oe.ALWAYS:n.append(E.negativeSign());break;case oe.NOT_NEGATIVE:throw new r("Field "+this._field+" cannot be printed as the value "+f+" cannot be negative according to the SignStyle")}for(var b=0;b<this._minWidth-w.length;b++)n.append(E.zeroDigit());return n.append(w),!0},u.parse=function(i,n,s){var f=n.length;if(s===f)return~s;P(s>=0&&s<f);var E=n.charAt(s),w=!1,b=!1;if(E===i.symbols().positiveSign()){if(this._signStyle.parse(!0,i.isStrict(),this._minWidth===this._maxWidth)===!1)return~s;b=!0,s++}else if(E===i.symbols().negativeSign()){if(this._signStyle.parse(!1,i.isStrict(),this._minWidth===this._maxWidth)===!1)return~s;w=!0,s++}else if(this._signStyle===oe.ALWAYS&&i.isStrict())return~s;var M=i.isStrict()||this._isFixedWidth()?this._minWidth:1,k=s+M;if(k>f)return~s;for(var V=(i.isStrict()||this._isFixedWidth()?this._maxWidth:9)+Math.max(this._subsequentWidth,0),$=0,j=s,de=0;de<2;de++){for(var Ae=Math.min(j+V,f);j<Ae;){var ve=n.charAt(j++),Te=i.symbols().convertToDigit(ve);if(Te<0){if(j--,j<k)return~s;break}if(j-s>Ru)throw new c("number text exceeds length");$=$*10+Te}if(this._subsequentWidth>0&&de===0){var et=j-s;V=Math.max(M,et-this._subsequentWidth),j=s,$=0}else break}if(w){if($===0&&i.isStrict())return~(s-1);$!==0&&($=-$)}else if(this._signStyle===oe.EXCEEDS_PAD&&i.isStrict()){var Ot=j-s;if(b){if(Ot<=this._minWidth)return~(s-1)}else if(Ot>this._minWidth)return~s}return this._setValue(i,$,s,j)},u._getValue=function(i,n){return n},u._setValue=function(i,n,s,f){return i.setParsedField(this._field,n,s,f)},u.toString=function(){return this._minWidth===1&&this._maxWidth===Ru&&this._signStyle===oe.NORMAL?"Value("+this._field+")":this._minWidth===this._maxWidth&&this._signStyle===oe.NOT_NEGATIVE?"Value("+this._field+","+this._minWidth+")":"Value("+this._field+","+this._minWidth+","+this._maxWidth+","+this._signStyle+")"},_}(),Gr=function(_){A(u,_);function u(i,n,s,f,E){var w;if(w=_.call(this,i,n,s,oe.NOT_NEGATIVE)||this,n<1||n>10)throw new h("The width must be from 1 to 10 inclusive but was "+n);if(s<1||s>10)throw new h("The maxWidth must be from 1 to 10 inclusive but was "+s);if(s<n)throw new h("The maxWidth must be greater than the width");if(E===null){if(i.range().isValidValue(f)===!1)throw new h("The base value must be within the range of the field");if(f+Jn[n]>p.MAX_SAFE_INTEGER)throw new r("Unable to add printer-parser as the range exceeds the capacity of an int")}return w._baseValue=f,w._baseDate=E,w}var a=u.prototype;return a._getValue=function(n,s){var f=Math.abs(s),E=this._baseValue;if(this._baseDate!==null){n.temporal();var w=ce.INSTANCE;E=w.date(this._baseDate).get(this._field)}return s>=E&&s<E+Jn[this._minWidth]?f%Jn[this._minWidth]:f%Jn[this._maxWidth]},a._setValue=function(n,s,f,E){var w=this._baseValue;if(this._baseDate!=null){var b=n.getEffectiveChronology();w=b.date(this._baseDate).get(this._field)}var M=E-f;if(M===this._minWidth&&s>=0){var k=Jn[this._minWidth],V=w%k,$=w-V;w>0?s=$+s:s=$-s,s<w&&(s+=k)}return n.setParsedField(this._field,s,f,E)},a.withFixedWidth=function(){return this._subsequentWidth===-1?this:new u(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate)},a.withSubsequentWidth=function(n){return new u(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate,this._subsequentWidth+n)},a.isFixedWidth=function(n){return n.isStrict()===!1?!1:_.prototype.isFixedWidth.call(this,n)},a.toString=function(){return"ReducedValue("+this._field+","+this._minWidth+","+this._maxWidth+","+(this._baseDate!=null?this._baseDate:this._baseValue)+")"},u}(Qn);var Qi=["+HH","+HHmm","+HH:mm","+HHMM","+HH:MM","+HHMMss","+HH:MM:ss","+HHMMSS","+HH:MM:SS"],xt=function(){function _(a,i){y(a,"noOffsetText"),y(i,"pattern"),this.noOffsetText=a,this.type=this._checkPattern(i)}var u=_.prototype;return u._checkPattern=function(i){for(var n=0;n<Qi.length;n++)if(Qi[n]===i)return n;throw new h("Invalid zone offset pattern: "+i)},u.print=function(i,n){var s=i.getValue(d.OFFSET_SECONDS);if(s==null)return!1;var f=p.safeToInt(s);if(f===0)n.append(this.noOffsetText);else{var E=Math.abs(p.intMod(p.intDiv(f,3600),100)),w=Math.abs(p.intMod(p.intDiv(f,60),60)),b=Math.abs(p.intMod(f,60)),M=n.length(),k=E;n.append(f<0?"-":"+").appendChar(p.intDiv(E,10)+"0").appendChar(p.intMod(E,10)+"0"),(this.type>=3||this.type>=1&&w>0)&&(n.append(this.type%2===0?":":"").appendChar(p.intDiv(w,10)+"0").appendChar(w%10+"0"),k+=w,(this.type>=7||this.type>=5&&b>0)&&(n.append(this.type%2===0?":":"").appendChar(p.intDiv(b,10)+"0").appendChar(b%10+"0"),k+=b)),k===0&&(n.setLength(M),n.append(this.noOffsetText))}return!0},u.parse=function(i,n,s){var f=n.length,E=this.noOffsetText.length;if(E===0){if(s===f)return i.setParsedField(d.OFFSET_SECONDS,0,s,s)}else{if(s===f)return~s;if(i.subSequenceEquals(n,s,this.noOffsetText,0,E))return i.setParsedField(d.OFFSET_SECONDS,0,s,s+E)}var w=n[s];if(w==="+"||w==="-"){var b=w==="-"?-1:1,M=[0,0,0,0];if(M[0]=s+1,(this._parseNumber(M,1,n,!0)||this._parseNumber(M,2,n,this.type>=3)||this._parseNumber(M,3,n,!1))===!1){var k=p.safeZero(b*(M[1]*3600+M[2]*60+M[3]));return i.setParsedField(d.OFFSET_SECONDS,k,s,M[0])}}return E===0?i.setParsedField(d.OFFSET_SECONDS,0,s,s+E):~s},u._parseNumber=function(i,n,s,f){if((this.type+3)/2<n)return!1;var E=i[0];if(this.type%2===0&&n>1){if(E+1>s.length||s[E]!==":")return f;E++}if(E+2>s.length)return f;var w=s[E++],b=s[E++];if(w<"0"||w>"9"||b<"0"||b>"9")return f;var M=(w.charCodeAt(0)-48)*10+(b.charCodeAt(0)-48);return M<0||M>59?f:(i[n]=M,i[0]=E,!1)},u.toString=function(){var i=this.noOffsetText.replace("'","''");return"Offset("+Qi[this.type]+",'"+i+"')"},_}();xt.INSTANCE_ID=new xt("Z","+HH:MM:ss"),xt.PATTERNS=Qi;var Lu=function(){function _(a,i,n){this._printerParser=a,this._padWidth=i,this._padChar=n}var u=_.prototype;return u.print=function(i,n){var s=n.length();if(this._printerParser.print(i,n)===!1)return!1;var f=n.length()-s;if(f>this._padWidth)throw new r("Cannot print as output of "+f+" characters exceeds pad width of "+this._padWidth);for(var E=0;E<this._padWidth-f;E++)n.insert(s,this._padChar);return!0},u.parse=function(i,n,s){var f=i.isStrict(),E=i.isCaseSensitive();if(P(!(s>n.length)),P(s>=0),s===n.length)return~s;var w=s+this._padWidth;if(w>n.length){if(f)return~s;w=n.length}for(var b=s;b<w&&(E?n[b]===this._padChar:i.charEquals(n[b],this._padChar));)b++;n=n.substring(0,w);var M=this._printerParser.parse(i,n,b);return M!==w&&f?~(s+b):M},u.toString=function(){return"Pad("+this._printerParser+","+this._padWidth+(this._padChar===" "?")":",'"+this._padChar+"')")},_}(),lt=function(_){A(u,_);function u(){return _.apply(this,arguments)||this}var a=u.prototype;return a.print=function(){return!0},a.parse=function(n,s,f){switch(this){case u.SENSITIVE:n.setCaseSensitive(!0);break;case u.INSENSITIVE:n.setCaseSensitive(!1);break;case u.STRICT:n.setStrict(!0);break;case u.LENIENT:n.setStrict(!1);break}return f},a.toString=function(){switch(this){case u.SENSITIVE:return"ParseCaseSensitive(true)";case u.INSENSITIVE:return"ParseCaseSensitive(false)";case u.STRICT:return"ParseStrict(true)";case u.LENIENT:return"ParseStrict(false)"}},u}(J);lt.SENSITIVE=new lt("SENSITIVE"),lt.INSENSITIVE=new lt("INSENSITIVE"),lt.STRICT=new lt("STRICT"),lt.LENIENT=new lt("LENIENT");var Cu=function(){function _(a){this._literal=a}var u=_.prototype;return u.print=function(i,n){return n.append(this._literal),!0},u.parse=function(i,n,s){var f=n.length;return P(!(s>f||s<0)),i.subSequenceEquals(n,s,this._literal,0,this._literal.length)===!1?~s:s+this._literal.length},u.toString=function(){var i=this._literal.replace("'","''");return"'"+i+"'"},_}();var $r=function(){function _(){}return _.getRules=function(a){throw new r("unsupported ZoneId:"+a)},_.getAvailableZoneIds=function(){return[]},_}(),St=function(_){A(u,_),u.ofId=function(n){var s=$r.getRules(n);return new u(n,s)};function u(i,n){var s;return s=_.call(this)||this,s._id=i,s._rules=n,s}var a=u.prototype;return a.id=function(){return this._id},a.rules=function(){return this._rules},u}(le);var Yd=function(){function _(a,i){this.query=a,this.description=i}var u=_.prototype;return u.print=function(i,n){var s=i.getValueQuery(this.query);return s==null?!1:(n.append(s.id()),!0)},u.parse=function(i,n,s){var f=n.length;if(s>f||s===f)return~s;var E=n.charAt(s);if(E==="+"||E==="-"){var w=i.copy(),b=xt.INSTANCE_ID.parse(w,n,s);if(b<0)return b;var M=w.getParsed(d.OFFSET_SECONDS),k=Z.ofTotalSeconds(M);return i.setParsedZone(k),b}else if(f>=s+2){var V=n.charAt(s+1);if(i.charEquals(E,"U")&&i.charEquals(V,"T"))return f>=s+3&&i.charEquals(n.charAt(s+2),"C")?this._parsePrefixedOffset(i,n,s,s+3):this._parsePrefixedOffset(i,n,s,s+2);if(i.charEquals(E,"G")&&f>=s+3&&i.charEquals(V,"M")&&i.charEquals(n.charAt(s+2),"T"))return this._parsePrefixedOffset(i,n,s,s+3)}if(n.substr(s,6)==="SYSTEM")return i.setParsedZone(le.systemDefault()),s+6;if(i.charEquals(E,"Z"))return i.setParsedZone(Z.UTC),s+1;var $=$r.getAvailableZoneIds();Mu.size!==$.length&&(Mu=Vd.createTreeMap($));for(var j=f-s,de=Mu.treeMap,Ae=null,ve=0;de!=null;){var Te=n.substr(s,Math.min(de.length,j));de=de.get(Te),de!=null&&de.isLeaf&&(Ae=Te,ve=de.length)}return Ae!=null?(i.setParsedZone(St.ofId(Ae)),s+ve):~s},u._parsePrefixedOffset=function(i,n,s,f){var E=n.substring(s,f).toUpperCase(),w=i.copy();if(f<n.length&&i.charEquals(n.charAt(f),"Z"))return i.setParsedZone(le.ofOffset(E,Z.UTC)),f;var b=xt.INSTANCE_ID.parse(w,n,f);if(b<0)return i.setParsedZone(le.ofOffset(E,Z.UTC)),f;var M=w.getParsed(d.OFFSET_SECONDS),k=Z.ofTotalSeconds(M);return i.setParsedZone(le.ofOffset(E,k)),b},u.toString=function(){return this.description},_}(),Vd=function(){_.createTreeMap=function(a){for(var i=a.sort(function(f,E){return f.length-E.length}),n=new oA(i[0].length,!1),s=0;s<i.length;s++)n.add(i[s]);return new _(i.length,n)};function _(u,a){this.size=u,this.treeMap=a}return _}(),oA=function(){function _(a,i){a===void 0&&(a=0),i===void 0&&(i=!1),this.length=a,this.isLeaf=i,this._treeMap={}}var u=_.prototype;return u.add=function(i){var n=i.length;if(n===this.length)this._treeMap[i]=new _(n,!0);else if(n>this.length){var s=i.substr(0,this.length),f=this._treeMap[s];f==null&&(f=new _(n,!1),this._treeMap[s]=f),f.add(i)}},u.get=function(i){return this._treeMap[i]},_}(),Mu=new Vd([]);var Qt=15,he=function(){function _(){this._active=this,this._parent=null,this._printerParsers=[],this._optional=!1,this._padNextWidth=0,this._padNextChar=null,this._valueParserIndex=-1}_._of=function(i,n){y(i,"parent"),y(n,"optional");var s=new _;return s._parent=i,s._optional=n,s};var u=_.prototype;return u.parseCaseSensitive=function(){return this._appendInternalPrinterParser(lt.SENSITIVE),this},u.parseCaseInsensitive=function(){return this._appendInternalPrinterParser(lt.INSENSITIVE),this},u.parseStrict=function(){return this._appendInternalPrinterParser(lt.STRICT),this},u.parseLenient=function(){return this._appendInternalPrinterParser(lt.LENIENT),this},u.parseDefaulting=function(i,n){return y(i),this._appendInternal(new aA(i,n)),this},u.appendValue=function(){return arguments.length===1?this._appendValue1.apply(this,arguments):arguments.length===2?this._appendValue2.apply(this,arguments):this._appendValue4.apply(this,arguments)},u._appendValue1=function(i){return y(i),this._appendValuePrinterParser(new Qn(i,1,Qt,oe.NORMAL)),this},u._appendValue2=function(i,n){if(y(i),n<1||n>Qt)throw new h("The width must be from 1 to "+Qt+" inclusive but was "+n);var s=new Qn(i,n,n,oe.NOT_NEGATIVE);return this._appendValuePrinterParser(s),this},u._appendValue4=function(i,n,s,f){if(y(i),y(f),n===s&&f===oe.NOT_NEGATIVE)return this._appendValue2(i,s);if(n<1||n>Qt)throw new h("The minimum width must be from 1 to "+Qt+" inclusive but was "+n);if(s<1||s>Qt)throw new h("The minimum width must be from 1 to "+Qt+" inclusive but was "+s);if(s<n)throw new h("The maximum width must exceed or equal the minimum width but "+s+" < "+n);var E=new Qn(i,n,s,f);return this._appendValuePrinterParser(E),this},u.appendValueReduced=function(){return arguments.length===4&&arguments[3]instanceof zn?this._appendValueReducedFieldWidthMaxWidthBaseDate.apply(this,arguments):this._appendValueReducedFieldWidthMaxWidthBaseValue.apply(this,arguments)},u._appendValueReducedFieldWidthMaxWidthBaseValue=function(i,n,s,f){y(i,"field");var E=new Gr(i,n,s,f,null);return this._appendValuePrinterParser(E),this},u._appendValueReducedFieldWidthMaxWidthBaseDate=function(i,n,s,f){y(i,"field"),y(f,"baseDate"),U(f,zn,"baseDate");var E=new Gr(i,n,s,0,f);return this._appendValuePrinterParser(E),this},u._appendValuePrinterParser=function(i){if(P(i!=null),this._active._valueParserIndex>=0&&this._active._printerParsers[this._active._valueParserIndex]instanceof Qn){var n=this._active._valueParserIndex,s=this._active._printerParsers[n];i.minWidth()===i.maxWidth()&&i.signStyle()===oe.NOT_NEGATIVE?(s=s.withSubsequentWidth(i.maxWidth()),this._appendInternal(i.withFixedWidth()),this._active._valueParserIndex=n):(s=s.withFixedWidth(),this._active._valueParserIndex=this._appendInternal(i)),this._active._printerParsers[n]=s}else this._active._valueParserIndex=this._appendInternal(i);return this},u.appendFraction=function(i,n,s,f){return this._appendInternal(new Bd(i,n,s,f)),this},u.appendInstant=function(i){if(i===void 0&&(i=-2),i<-2||i>9)throw new h("Invalid fractional digits: "+i);return this._appendInternal(new sA(i)),this},u.appendOffsetId=function(){return this._appendInternal(xt.INSTANCE_ID),this},u.appendOffset=function(i,n){return this._appendInternalPrinterParser(new xt(n,i)),this},u.appendZoneId=function(){return this._appendInternal(new Yd(x.zoneId(),"ZoneId()")),this},u.appendPattern=function(i){return y(i,"pattern"),this._parsePattern(i),this},u.appendZoneText=function(){throw new h("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},u.appendText=function(){throw new h("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},u.appendLocalizedOffset=function(){throw new h("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},u.appendWeekField=function(){throw new h("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},u._parsePattern=function(i){for(var n={G:d.ERA,y:d.YEAR_OF_ERA,u:d.YEAR,Q:dt.QUARTER_OF_YEAR,q:dt.QUARTER_OF_YEAR,M:d.MONTH_OF_YEAR,L:d.MONTH_OF_YEAR,D:d.DAY_OF_YEAR,d:d.DAY_OF_MONTH,F:d.ALIGNED_DAY_OF_WEEK_IN_MONTH,E:d.DAY_OF_WEEK,c:d.DAY_OF_WEEK,e:d.DAY_OF_WEEK,a:d.AMPM_OF_DAY,H:d.HOUR_OF_DAY,k:d.CLOCK_HOUR_OF_DAY,K:d.HOUR_OF_AMPM,h:d.CLOCK_HOUR_OF_AMPM,m:d.MINUTE_OF_HOUR,s:d.SECOND_OF_MINUTE,S:d.NANO_OF_SECOND,A:d.MILLI_OF_DAY,n:d.NANO_OF_SECOND,N:d.NANO_OF_DAY},s=0;s<i.length;s++){var f=i.charAt(s);if(f>="A"&&f<="Z"||f>="a"&&f<="z"){for(var E=s++;s<i.length&&i.charAt(s)===f;s++);var w=s-E;if(f==="p"){var b=0;if(s<i.length&&(f=i.charAt(s),f>="A"&&f<="Z"||f>="a"&&f<="z")){for(b=w,E=s++;s<i.length&&i.charAt(s)===f;s++);w=s-E}if(b===0)throw new h("Pad letter 'p' must be followed by valid pad pattern: "+i);this.padNext(b)}var M=n[f];if(M!=null)this._parseField(f,w,M);else if(f==="z"){if(w>4)throw new h("Too many pattern letters: "+f);w===4?this.appendZoneText(ue.FULL):this.appendZoneText(ue.SHORT)}else if(f==="V"){if(w!==2)throw new h("Pattern letter count must be 2: "+f);this.appendZoneId()}else if(f==="Z")if(w<4)this.appendOffset("+HHMM","+0000");else if(w===4)this.appendLocalizedOffset(ue.FULL);else if(w===5)this.appendOffset("+HH:MM:ss","Z");else throw new h("Too many pattern letters: "+f);else if(f==="O")if(w===1)this.appendLocalizedOffset(ue.SHORT);else if(w===4)this.appendLocalizedOffset(ue.FULL);else throw new h("Pattern letter count must be 1 or 4: "+f);else if(f==="X"){if(w>5)throw new h("Too many pattern letters: "+f);this.appendOffset(xt.PATTERNS[w+(w===1?0:1)],"Z")}else if(f==="x"){if(w>5)throw new h("Too many pattern letters: "+f);var k=w===1?"+00":w%2===0?"+0000":"+00:00";this.appendOffset(xt.PATTERNS[w+(w===1?0:1)],k)}else if(f==="W"){if(w>1)throw new h("Too many pattern letters: "+f);this.appendWeekField("W",w)}else if(f==="w"){if(w>2)throw new h("Too many pattern letters: "+f);this.appendWeekField("w",w)}else if(f==="Y")this.appendWeekField("Y",w);else throw new h("Unknown pattern letter: "+f);s--}else if(f==="'"){for(var V=s++;s<i.length;s++)if(i.charAt(s)==="'")if(s+1<i.length&&i.charAt(s+1)==="'")s++;else break;if(s>=i.length)throw new h("Pattern ends with an incomplete string literal: "+i);var $=i.substring(V+1,s);$.length===0?this.appendLiteral("'"):this.appendLiteral($.replace("''","'"))}else if(f==="[")this.optionalStart();else if(f==="]"){if(this._active._parent===null)throw new h("Pattern invalid as it contains ] without previous [");this.optionalEnd()}else{if(f==="{"||f==="}"||f==="#")throw new h("Pattern includes reserved character: '"+f+"'");this.appendLiteral(f)}}},u._parseField=function(i,n,s){switch(i){case"u":case"y":n===2?this.appendValueReduced(s,2,2,Gr.BASE_DATE):n<4?this.appendValue(s,n,Qt,oe.NORMAL):this.appendValue(s,n,Qt,oe.EXCEEDS_PAD);break;case"M":case"Q":switch(n){case 1:this.appendValue(s);break;case 2:this.appendValue(s,2);break;case 3:this.appendText(s,ue.SHORT);break;case 4:this.appendText(s,ue.FULL);break;case 5:this.appendText(s,ue.NARROW);break;default:throw new h("Too many pattern letters: "+i)}break;case"L":case"q":switch(n){case 1:this.appendValue(s);break;case 2:this.appendValue(s,2);break;case 3:this.appendText(s,ue.SHORT_STANDALONE);break;case 4:this.appendText(s,ue.FULL_STANDALONE);break;case 5:this.appendText(s,ue.NARROW_STANDALONE);break;default:throw new h("Too many pattern letters: "+i)}break;case"e":switch(n){case 1:case 2:this.appendWeekField("e",n);break;case 3:this.appendText(s,ue.SHORT);break;case 4:this.appendText(s,ue.FULL);break;case 5:this.appendText(s,ue.NARROW);break;default:throw new h("Too many pattern letters: "+i)}break;case"c":switch(n){case 1:this.appendWeekField("c",n);break;case 2:throw new h("Invalid number of pattern letters: "+i);case 3:this.appendText(s,ue.SHORT_STANDALONE);break;case 4:this.appendText(s,ue.FULL_STANDALONE);break;case 5:this.appendText(s,ue.NARROW_STANDALONE);break;default:throw new h("Too many pattern letters: "+i)}break;case"a":if(n===1)this.appendText(s,ue.SHORT);else throw new h("Too many pattern letters: "+i);break;case"E":case"G":switch(n){case 1:case 2:case 3:this.appendText(s,ue.SHORT);break;case 4:this.appendText(s,ue.FULL);break;case 5:this.appendText(s,ue.NARROW);break;default:throw new h("Too many pattern letters: "+i)}break;case"S":this.appendFraction(d.NANO_OF_SECOND,n,n,!1);break;case"F":if(n===1)this.appendValue(s);else throw new h("Too many pattern letters: "+i);break;case"d":case"h":case"H":case"k":case"K":case"m":case"s":if(n===1)this.appendValue(s);else if(n===2)this.appendValue(s,n);else throw new h("Too many pattern letters: "+i);break;case"D":if(n===1)this.appendValue(s);else if(n<=3)this.appendValue(s,n);else throw new h("Too many pattern letters: "+i);break;default:n===1?this.appendValue(s):this.appendValue(s,n);break}},u.padNext=function(){return arguments.length===1?this._padNext1.apply(this,arguments):this._padNext2.apply(this,arguments)},u._padNext1=function(i){return this._padNext2(i," ")},u._padNext2=function(i,n){if(i<1)throw new h("The pad width must be at least one but was "+i);return this._active._padNextWidth=i,this._active._padNextChar=n,this._active._valueParserIndex=-1,this},u.optionalStart=function(){return this._active._valueParserIndex=-1,this._active=_._of(this._active,!0),this},u.optionalEnd=function(){if(this._active._parent==null)throw new g("Cannot call optionalEnd() as there was no previous call to optionalStart()");if(this._active._printerParsers.length>0){var i=new Du(this._active._printerParsers,this._active._optional);this._active=this._active._parent,this._appendInternal(i)}else this._active=this._active._parent;return this},u._appendInternal=function(i){return P(i!=null),this._active._padNextWidth>0&&(i!=null&&(i=new Lu(i,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(i),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},u.appendLiteral=function(i){return P(i!=null),i.length>0&&(i.length===1?this._appendInternalPrinterParser(new qd(i.charAt(0))):this._appendInternalPrinterParser(new Cu(i))),this},u._appendInternalPrinterParser=function(i){return P(i!=null),this._active._padNextWidth>0&&(i!=null&&(i=new Lu(i,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(i),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},u.append=function(i){return y(i,"formatter"),this._appendInternal(i._toPrinterParser(!1)),this},u.toFormatter=function(i){for(i===void 0&&(i=X.SMART);this._active._parent!=null;)this.optionalEnd();var n=new Du(this._printerParsers,!1);return new Q(n,null,Wr.STANDARD,i,null,null,null)},_}(),er=146097*25*86400,jr=(146097*5-(30*365+7))*86400,sA=function(){function _(a){this.fractionalDigits=a}var u=_.prototype;return u.print=function(i,n){var s=i.getValue(d.INSTANT_SECONDS),f=0;if(i.temporal().isSupported(d.NANO_OF_SECOND)&&(f=i.temporal().getLong(d.NANO_OF_SECOND)),s==null)return!1;var E=s,w=d.NANO_OF_SECOND.checkValidIntValue(f);if(E>=-jr){var b=E-er+jr,M=p.floorDiv(b,er)+1,k=p.floorMod(b,er),V=fe.ofEpochSecond(k-jr,0,Z.UTC);M>0&&n.append("+").append(M),n.append(V.toString()),V.second()===0&&n.append(":00")}else{var $=E+jr,j=p.intDiv($,er),de=p.intMod($,er),Ae=fe.ofEpochSecond(de-jr,0,Z.UTC),ve=n.length();n.append(Ae.toString()),Ae.second()===0&&n.append(":00"),j<0&&(Ae.year()===-1e4?n.replace(ve,ve+2,""+(j-1)):de===0?n.insert(ve,j):n.insert(ve+1,Math.abs(j)))}if(this.fractionalDigits===-2)w!==0&&(n.append("."),p.intMod(w,1e6)===0?n.append((""+(p.intDiv(w,1e6)+1e3)).substring(1)):p.intMod(w,1e3)===0?n.append((""+(p.intDiv(w,1e3)+1e6)).substring(1)):n.append((""+(w+1e9)).substring(1)));else if(this.fractionalDigits>0||this.fractionalDigits===-1&&w>0){n.append(".");for(var Te=1e8,et=0;this.fractionalDigits===-1&&w>0||et<this.fractionalDigits;et++){var Ot=p.intDiv(w,Te);n.append(Ot),w=w-Ot*Te,Te=p.intDiv(Te,10)}}return n.append("Z"),!0},u.parse=function(i,n,s){var f=i.copy(),E=this.fractionalDigits<0?0:this.fractionalDigits,w=this.fractionalDigits<0?9:this.fractionalDigits,b=new he().append(Q.ISO_LOCAL_DATE).appendLiteral("T").appendValue(d.HOUR_OF_DAY,2).appendLiteral(":").appendValue(d.MINUTE_OF_HOUR,2).appendLiteral(":").appendValue(d.SECOND_OF_MINUTE,2).appendFraction(d.NANO_OF_SECOND,E,w,!0).appendLiteral("Z").toFormatter()._toPrinterParser(!1),M=b.parse(f,n,s);if(M<0)return M;var k=f.getParsed(d.YEAR),V=f.getParsed(d.MONTH_OF_YEAR),$=f.getParsed(d.DAY_OF_MONTH),j=f.getParsed(d.HOUR_OF_DAY),de=f.getParsed(d.MINUTE_OF_HOUR),Ae=f.getParsed(d.SECOND_OF_MINUTE),ve=f.getParsed(d.NANO_OF_SECOND),Te=Ae??0,et=ve??0,Ot=p.intMod(k,1e4),ro=0;j===24&&de===0&&Te===0&&et===0?(j=0,ro=1):j===23&&de===59&&Te===60&&(i.setParsedLeapSecond(),Te=59);var Zr;try{var io=fe.of(Ot,V,$,j,de,Te,0).plusDays(ro);Zr=io.toEpochSecond(Z.UTC),Zr+=p.safeMultiply(p.intDiv(k,1e4),er)}catch{return~s}var bn=M;return bn=i.setParsedField(d.INSTANT_SECONDS,Zr,s,bn),i.setParsedField(d.NANO_OF_SECOND,et,s,bn)},u.toString=function(){return"Instant()"},_}(),aA=function(){function _(a,i){this._field=a,this._value=i}var u=_.prototype;return u.print=function(){return!0},u.parse=function(i,n,s){return i.getParsed(this._field)==null&&i.setParsedField(this._field,this._value,s,s),s},_}();function uA(){Gr.BASE_DATE=H.of(2e3,1,1),he.CompositePrinterParser=Du,he.PadPrinterParserDecorator=Lu,he.SettingsParser=lt,he.CharLiteralPrinterParser=Cu,he.StringLiteralPrinterParser=Cu,he.CharLiteralPrinterParser=qd,he.NumberPrinterParser=Qn,he.ReducedPrinterParser=Gr,he.FractionPrinterParser=Bd,he.OffsetIdPrinterParser=xt,he.ZoneIdPrinterParser=Yd}var Hd=function(){function _(){this._str=""}var u=_.prototype;return u.append=function(i){return this._str+=i,this},u.appendChar=function(i){return this._str+=i[0],this},u.insert=function(i,n){return this._str=this._str.slice(0,i)+n+this._str.slice(i),this},u.replace=function(i,n,s){return this._str=this._str.slice(0,i)+s+this._str.slice(n),this},u.length=function(){return this._str.length},u.setLength=function(i){return this._str=this._str.slice(0,i),this},u.toString=function(){return this._str},_}();var Q=function(){_.parsedExcessDays=function(){return _.PARSED_EXCESS_DAYS},_.parsedLeapSecond=function(){return _.PARSED_LEAP_SECOND},_.ofPattern=function(i){return new he().appendPattern(i).toFormatter()};function _(a,i,n,s,f,E,w){E===void 0&&(E=ce.INSTANCE),P(a!=null),P(n!=null),P(s!=null),this._printerParser=a,this._locale=i,this._decimalStyle=n,this._resolverStyle=s,this._resolverFields=f,this._chrono=E,this._zone=w}var u=_.prototype;return u.locale=function(){return this._locale},u.decimalStyle=function(){return this._decimalStyle},u.chronology=function(){return this._chrono},u.withChronology=function(i){return this._chrono!=null&&this._chrono.equals(i)?this:new _(this._printerParser,this._locale,this._decimalStyle,this._resolverStyle,this._resolverFields,i,this._zone)},u.withLocale=function(){return this},u.withResolverStyle=function(i){return y(i,"resolverStyle"),i.equals(this._resolverStyle)?this:new _(this._printerParser,this._locale,this._decimalStyle,i,this._resolverFields,this._chrono,this._zone)},u.format=function(i){var n=new Hd(32);return this._formatTo(i,n),n.toString()},u._formatTo=function(i,n){y(i,"temporal"),y(n,"appendable");var s=new Ud(i,this);this._printerParser.print(s,n)},u.parse=function(i,n){return arguments.length===1?this.parse1(i):this.parse2(i,n)},u.parse1=function(i){y(i,"text");try{return this._parseToBuilder(i,null).resolve(this._resolverStyle,this._resolverFields)}catch(n){throw n instanceof o?n:this._createError(i,n)}},u.parse2=function(i,n){y(i,"text"),y(n,"type");try{var s=this._parseToBuilder(i,null).resolve(this._resolverStyle,this._resolverFields);return s.build(n)}catch(f){throw f instanceof o?f:this._createError(i,f)}},u._createError=function(i,n){var s="";return i.length>64?s=i.substring(0,64)+"...":s=i,new o("Text '"+s+"' could not be parsed: "+n.message,i,0,n)},u._parseToBuilder=function(i,n){var s=n??new Au(0),f=this._parseUnresolved0(i,s);if(f==null||s.getErrorIndex()>=0||n==null&&s.getIndex()<i.length){var E="";throw i.length>64?E=i.substr(0,64).toString()+"...":E=i,s.getErrorIndex()>=0?new o("Text '"+E+"' could not be parsed at index "+s.getErrorIndex(),i,s.getErrorIndex()):new o("Text '"+E+"' could not be parsed, unparsed text found at index "+s.getIndex(),i,s.getIndex())}return f.toBuilder()},u.parseUnresolved=function(i,n){return this._parseUnresolved0(i,n)},u._parseUnresolved0=function(i,n){P(i!=null,"text",m),P(n!=null,"position",m);var s=new Fd(this),f=n.getIndex();return f=this._printerParser.parse(s,i,f),f<0?(n.setErrorIndex(~f),null):(n.setIndex(f),s.toParsed())},u._toPrinterParser=function(i){return this._printerParser.withOptional(i)},u.toString=function(){var i=this._printerParser.toString();return i.indexOf("[")===0?i:i.substring(1,i.length-1)},_}();function lA(){Q.ISO_LOCAL_DATE=new he().appendValue(d.YEAR,4,10,oe.EXCEEDS_PAD).appendLiteral("-").appendValue(d.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(d.DAY_OF_MONTH,2).toFormatter(X.STRICT).withChronology(ce.INSTANCE),Q.ISO_LOCAL_TIME=new he().appendValue(d.HOUR_OF_DAY,2).appendLiteral(":").appendValue(d.MINUTE_OF_HOUR,2).optionalStart().appendLiteral(":").appendValue(d.SECOND_OF_MINUTE,2).optionalStart().appendFraction(d.NANO_OF_SECOND,0,9,!0).toFormatter(X.STRICT),Q.ISO_LOCAL_DATE_TIME=new he().parseCaseInsensitive().append(Q.ISO_LOCAL_DATE).appendLiteral("T").append(Q.ISO_LOCAL_TIME).toFormatter(X.STRICT).withChronology(ce.INSTANCE),Q.ISO_INSTANT=new he().parseCaseInsensitive().appendInstant().toFormatter(X.STRICT),Q.ISO_OFFSET_DATE_TIME=new he().parseCaseInsensitive().append(Q.ISO_LOCAL_DATE_TIME).appendOffsetId().toFormatter(X.STRICT).withChronology(ce.INSTANCE),Q.ISO_ZONED_DATE_TIME=new he().append(Q.ISO_OFFSET_DATE_TIME).optionalStart().appendLiteral("[").parseCaseSensitive().appendZoneId().appendLiteral("]").toFormatter(X.STRICT).withChronology(ce.INSTANCE),Q.BASIC_ISO_DATE=new he().appendValue(d.YEAR,4,10,oe.EXCEEDS_PAD).appendValue(d.MONTH_OF_YEAR,2).appendValue(d.DAY_OF_MONTH,2).toFormatter(X.STRICT).withChronology(ce.INSTANCE),Q.ISO_OFFSET_DATE=new he().parseCaseInsensitive().append(Q.ISO_LOCAL_DATE).appendOffsetId().toFormatter(X.STRICT).withChronology(ce.INSTANCE),Q.ISO_OFFSET_TIME=new he().parseCaseInsensitive().append(Q.ISO_LOCAL_TIME).appendOffsetId().toFormatter(X.STRICT).withChronology(ce.INSTANCE),Q.ISO_ORDINAL_DATE=new he().appendValue(d.YEAR,4,10,oe.EXCEEDS_PAD).appendLiteral("-").appendValue(d.DAY_OF_YEAR).toFormatter(X.STRICT),Q.ISO_WEEK_DATE=new he().appendValue(d.YEAR,4,10,oe.EXCEEDS_PAD).appendLiteral("-W").appendValue(d.ALIGNED_WEEK_OF_YEAR).appendLiteral("-").appendValue(d.DAY_OF_WEEK).toFormatter(X.STRICT),Q.ISO_DATE=new he().parseCaseInsensitive().append(Q.ISO_LOCAL_DATE).optionalStart().appendOffsetId().optionalEnd().toFormatter(X.STRICT).withChronology(ce.INSTANCE),Q.ISO_TIME=new he().parseCaseInsensitive().append(Q.ISO_LOCAL_TIME).optionalStart().appendOffsetId().optionalEnd().toFormatter(X.STRICT),Q.ISO_DATE_TIME=new he().append(Q.ISO_LOCAL_DATE_TIME).optionalStart().appendOffsetId().optionalEnd().toFormatter(X.STRICT).withChronology(ce.INSTANCE),Q.PARSED_EXCESS_DAYS=Me("PARSED_EXCESS_DAYS",function(_){return _ instanceof Ji?_.excessDays:Mt.ZERO}),Q.PARSED_LEAP_SECOND=Me("PARSED_LEAP_SECOND",function(_){return _ instanceof Ji?_.leapSecond:!1})}var Kr=function(_){A(u,_),u.now=function(n){return arguments.length===0?u.now0():arguments.length===1&&n instanceof le?u.nowZoneId(n):u.nowClock(n)},u.now0=function(){return this.nowClock(pe.systemDefaultZone())},u.nowZoneId=function(n){return y(n,"zone"),this.nowClock(pe.system(n))},u.nowClock=function(n){y(n,"clock");var s=H.now(n);return u.of(s.month(),s.dayOfMonth())},u.of=function(n,s){return arguments.length===2&&n instanceof K?u.ofMonthNumber(n,s):u.ofNumberNumber(n,s)},u.ofMonthNumber=function(n,s){if(y(n,"month"),d.DAY_OF_MONTH.checkValidValue(s),s>n.maxLength())throw new r("Illegal value for DayOfMonth field, value "+s+" is not valid for month "+n.toString());return new u(n.value(),s)},u.ofNumberNumber=function(n,s){return y(n,"month"),y(s,"dayOfMonth"),u.of(K.of(n),s)},u.from=function(n){if(y(n,"temporal"),U(n,Jt,"temporal"),n instanceof u)return n;try{return u.of(n.get(d.MONTH_OF_YEAR),n.get(d.DAY_OF_MONTH))}catch{throw new r("Unable to obtain MonthDay from TemporalAccessor: "+n+", type "+(n&&n.constructor!=null?n.constructor.name:""))}},u.parse=function(n,s){return arguments.length===1?u.parseString(n):u.parseStringFormatter(n,s)},u.parseString=function(n){return u.parseStringFormatter(n,Wd)},u.parseStringFormatter=function(n,s){return y(n,"text"),y(s,"formatter"),U(s,Q,"formatter"),s.parse(n,u.FROM)};function u(i,n){var s;return s=_.call(this)||this,s._month=p.safeToInt(i),s._day=p.safeToInt(n),s}var a=u.prototype;return a.monthValue=function(){return this._month},a.month=function(){return K.of(this._month)},a.dayOfMonth=function(){return this._day},a.isSupported=function(n){return n instanceof d?n===d.MONTH_OF_YEAR||n===d.DAY_OF_MONTH:n!=null&&n.isSupportedBy(this)},a.range=function(n){return n===d.MONTH_OF_YEAR?n.range():n===d.DAY_OF_MONTH?z.of(1,this.month().minLength(),this.month().maxLength()):_.prototype.range.call(this,n)},a.get=function(n){return this.range(n).checkValidIntValue(this.getLong(n),n)},a.getLong=function(n){if(y(n,"field"),n instanceof d){switch(n){case d.DAY_OF_MONTH:return this._day;case d.MONTH_OF_YEAR:return this._month}throw new l("Unsupported field: "+n)}return n.getFrom(this)},a.isValidYear=function(n){return!(this._day===29&&this._month===2&&pt.isLeap(n)===!1)},a.withMonth=function(n){return this.with(K.of(n))},a.with=function(n){if(y(n,"month"),n.value()===this._month)return this;var s=Math.min(this._day,n.maxLength());return new u(n.value(),s)},a.withDayOfMonth=function(n){return n===this._day?this:u.of(this._month,n)},a.query=function(n){return y(n,"query"),U(n,jn,"query"),n===x.chronology()?ce.INSTANCE:_.prototype.query.call(this,n)},a.adjustInto=function(n){return y(n,"temporal"),n=n.with(d.MONTH_OF_YEAR,this._month),n.with(d.DAY_OF_MONTH,Math.min(n.range(d.DAY_OF_MONTH).maximum(),this._day))},a.atYear=function(n){return H.of(n,this._month,this.isValidYear(n)?this._day:28)},a.compareTo=function(n){y(n,"other"),U(n,u,"other");var s=this._month-n.monthValue();return s===0&&(s=this._day-n.dayOfMonth()),s},a.isAfter=function(n){return y(n,"other"),U(n,u,"other"),this.compareTo(n)>0},a.isBefore=function(n){return y(n,"other"),U(n,u,"other"),this.compareTo(n)<0},a.equals=function(n){if(this===n)return!0;if(n instanceof u){var s=n;return this.monthValue()===s.monthValue()&&this.dayOfMonth()===s.dayOfMonth()}return!1},a.toString=function(){return"--"+(this._month<10?"0":"")+this._month+(this._day<10?"-0":"-")+this._day},a.toJSON=function(){return this.toString()},a.format=function(n){return y(n,"formatter"),U(n,Q,"formatter"),n.format(this)},u}(Jt),Wd;function cA(){Wd=new he().appendLiteral("--").appendValue(d.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(d.DAY_OF_MONTH,2).toFormatter(),Kr.FROM=Me("MonthDay.FROM",function(_){return Kr.from(_)})}var tr=function(_){A(u,_),u.now=function(n){return arguments.length===0?u.now0():arguments.length===1&&n instanceof le?u.nowZoneId(n):u.nowClock(n)},u.now0=function(){return u.nowClock(pe.systemDefaultZone())},u.nowZoneId=function(n){return u.nowClock(pe.system(n))},u.nowClock=function(n){var s=H.now(n);return u.of(s.year(),s.month())},u.of=function(n,s){return arguments.length===2&&s instanceof K?u.ofNumberMonth(n,s):u.ofNumberNumber(n,s)},u.ofNumberMonth=function(n,s){return y(s,"month"),U(s,K,"month"),u.ofNumberNumber(n,s.value())},u.ofNumberNumber=function(n,s){return y(n,"year"),y(s,"month"),d.YEAR.checkValidValue(n),d.MONTH_OF_YEAR.checkValidValue(s),new u(n,s)},u.from=function(n){if(y(n,"temporal"),n instanceof u)return n;try{return u.of(n.get(d.YEAR),n.get(d.MONTH_OF_YEAR))}catch{throw new r("Unable to obtain YearMonth from TemporalAccessor: "+n+", type "+(n&&n.constructor!=null?n.constructor.name:""))}},u.parse=function(n,s){return arguments.length===1?u.parseString(n):u.parseStringFormatter(n,s)},u.parseString=function(n){return u.parseStringFormatter(n,Pu)},u.parseStringFormatter=function(n,s){return y(s,"formatter"),s.parse(n,u.FROM)};function u(i,n){var s;return s=_.call(this)||this,s._year=p.safeToInt(i),s._month=p.safeToInt(n),s}var a=u.prototype;return a.isSupported=function(n){return arguments.length===1&&n instanceof ut?this.isSupportedField(n):this.isSupportedUnit(n)},a.isSupportedField=function(n){return n instanceof d?n===d.YEAR||n===d.MONTH_OF_YEAR||n===d.PROLEPTIC_MONTH||n===d.YEAR_OF_ERA||n===d.ERA:n!=null&&n.isSupportedBy(this)},a.isSupportedUnit=function(n){return n instanceof v?n===v.MONTHS||n===v.YEARS||n===v.DECADES||n===v.CENTURIES||n===v.MILLENNIA||n===v.ERAS:n!=null&&n.isSupportedBy(this)},a.range=function(n){return n===d.YEAR_OF_ERA?this.year()<=0?z.of(1,pt.MAX_VALUE+1):z.of(1,pt.MAX_VALUE):_.prototype.range.call(this,n)},a.get=function(n){return y(n,"field"),U(n,ut,"field"),this.range(n).checkValidIntValue(this.getLong(n),n)},a.getLong=function(n){if(y(n,"field"),U(n,ut,"field"),n instanceof d){switch(n){case d.MONTH_OF_YEAR:return this._month;case d.PROLEPTIC_MONTH:return this._getProlepticMonth();case d.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case d.YEAR:return this._year;case d.ERA:return this._year<1?0:1}throw new l("Unsupported field: "+n)}return n.getFrom(this)},a._getProlepticMonth=function(){return p.safeAdd(p.safeMultiply(this._year,12),this._month-1)},a.year=function(){return this._year},a.monthValue=function(){return this._month},a.month=function(){return K.of(this._month)},a.isLeapYear=function(){return ce.isLeapYear(this._year)},a.isValidDay=function(n){return n>=1&&n<=this.lengthOfMonth()},a.lengthOfMonth=function(){return this.month().length(this.isLeapYear())},a.lengthOfYear=function(){return this.isLeapYear()?366:365},a.with=function(n,s){return arguments.length===1?this._withAdjuster(n):this._withField(n,s)},a._withField=function(n,s){if(y(n,"field"),U(n,ut,"field"),n instanceof d){var f=n;switch(f.checkValidValue(s),f){case d.MONTH_OF_YEAR:return this.withMonth(s);case d.PROLEPTIC_MONTH:return this.plusMonths(s-this.getLong(d.PROLEPTIC_MONTH));case d.YEAR_OF_ERA:return this.withYear(this._year<1?1-s:s);case d.YEAR:return this.withYear(s);case d.ERA:return this.getLong(d.ERA)===s?this:this.withYear(1-this._year)}throw new l("Unsupported field: "+n)}return n.adjustInto(this,s)},a.withYear=function(n){return d.YEAR.checkValidValue(n),new u(n,this._month)},a.withMonth=function(n){return d.MONTH_OF_YEAR.checkValidValue(n),new u(this._year,n)},a._plusUnit=function(n,s){if(y(s,"unit"),U(s,G,"unit"),s instanceof v){switch(s){case v.MONTHS:return this.plusMonths(n);case v.YEARS:return this.plusYears(n);case v.DECADES:return this.plusYears(p.safeMultiply(n,10));case v.CENTURIES:return this.plusYears(p.safeMultiply(n,100));case v.MILLENNIA:return this.plusYears(p.safeMultiply(n,1e3));case v.ERAS:return this.with(d.ERA,p.safeAdd(this.getLong(d.ERA),n))}throw new l("Unsupported unit: "+s)}return s.addTo(this,n)},a.plusYears=function(n){if(n===0)return this;var s=d.YEAR.checkValidIntValue(this._year+n);return this.withYear(s)},a.plusMonths=function(n){if(n===0)return this;var s=this._year*12+(this._month-1),f=s+n,E=d.YEAR.checkValidIntValue(p.floorDiv(f,12)),w=p.floorMod(f,12)+1;return new u(E,w)},a.minusYears=function(n){return n===p.MIN_SAFE_INTEGER?this.plusYears(p.MIN_SAFE_INTEGER).plusYears(1):this.plusYears(-n)},a.minusMonths=function(n){return n===p.MIN_SAFE_INTEGER?this.plusMonths(Math.MAX_SAFE_INTEGER).plusMonths(1):this.plusMonths(-n)},a.query=function(n){return y(n,"query"),U(n,jn,"query"),n===x.chronology()?ce.INSTANCE:n===x.precision()?v.MONTHS:n===x.localDate()||n===x.localTime()||n===x.zone()||n===x.zoneId()||n===x.offset()?null:_.prototype.query.call(this,n)},a.adjustInto=function(n){return y(n,"temporal"),U(n,Qe,"temporal"),n.with(d.PROLEPTIC_MONTH,this._getProlepticMonth())},a.until=function(n,s){y(n,"endExclusive"),y(s,"unit"),U(n,Qe,"endExclusive"),U(s,G,"unit");var f=u.from(n);if(s instanceof v){var E=f._getProlepticMonth()-this._getProlepticMonth();switch(s){case v.MONTHS:return E;case v.YEARS:return p.intDiv(E,12);case v.DECADES:return p.intDiv(E,120);case v.CENTURIES:return p.intDiv(E,1200);case v.MILLENNIA:return p.intDiv(E,12e3);case v.ERAS:return f.getLong(d.ERA)-this.getLong(d.ERA)}throw new l("Unsupported unit: "+s)}return s.between(this,f)},a.atDay=function(n){return y(n,"dayOfMonth"),H.of(this._year,this._month,n)},a.atEndOfMonth=function(){return H.of(this._year,this._month,this.lengthOfMonth())},a.compareTo=function(n){y(n,"other"),U(n,u,"other");var s=this._year-n.year();return s===0&&(s=this._month-n.monthValue()),s},a.isAfter=function(n){return this.compareTo(n)>0},a.isBefore=function(n){return this.compareTo(n)<0},a.equals=function(n){if(this===n)return!0;if(n instanceof u){var s=n;return this.year()===s.year()&&this.monthValue()===s.monthValue()}return!1},a.toString=function(){return Pu.format(this)},a.toJSON=function(){return this.toString()},a.format=function(n){return y(n,"formatter"),n.format(this)},u}(Qe),Pu;function fA(){Pu=new he().appendValue(d.YEAR,4,10,oe.EXCEEDS_PAD).appendLiteral("-").appendValue(d.MONTH_OF_YEAR,2).toFormatter(),tr.FROM=Me("YearMonth.FROM",function(_){return tr.from(_)})}var pt=function(_){A(u,_);function u(i){var n;return n=_.call(this)||this,n._year=p.safeToInt(i),n}var a=u.prototype;return a.value=function(){return this._year},u.now=function(n){return n===void 0&&(n=void 0),n===void 0?u.now0():n instanceof le?u.nowZoneId(n):u.nowClock(n)},u.now0=function(){return u.nowClock(pe.systemDefaultZone())},u.nowZoneId=function(n){return y(n,"zone"),U(n,le,"zone"),u.nowClock(pe.system(n))},u.nowClock=function(n){y(n,"clock"),U(n,pe,"clock");var s=H.now(n);return u.of(s.year())},u.of=function(n){return y(n,"isoYear"),d.YEAR.checkValidValue(n),new u(n)},u.from=function(n){if(y(n,"temporal"),U(n,Jt,"temporal"),n instanceof u)return n;try{return u.of(n.get(d.YEAR))}catch{throw new r("Unable to obtain Year from TemporalAccessor: "+n+", type "+(n&&n.constructor!=null?n.constructor.name:""))}},u.parse=function(n,s){return arguments.length<=1?u.parseText(n):u.parseTextFormatter(n,s)},u.parseText=function(n){return y(n,"text"),u.parse(n,Fu)},u.parseTextFormatter=function(n,s){return s===void 0&&(s=Fu),y(n,"text"),y(s,"formatter"),U(s,Q,"formatter"),s.parse(n,u.FROM)},u.isLeap=function(n){return p.intMod(n,4)===0&&(p.intMod(n,100)!==0||p.intMod(n,400)===0)},a.isSupported=function(n){return arguments.length===1&&n instanceof ut?this.isSupportedField(n):this.isSupportedUnit(n)},a.isSupportedField=function(n){return n instanceof d?n===d.YEAR||n===d.YEAR_OF_ERA||n===d.ERA:n!=null&&n.isSupportedBy(this)},a.isSupportedUnit=function(n){return n instanceof v?n===v.YEARS||n===v.DECADES||n===v.CENTURIES||n===v.MILLENNIA||n===v.ERAS:n!=null&&n.isSupportedBy(this)},a.range=function(n){if(this.isSupported(n))return n.range();if(n instanceof d)throw new l("Unsupported field: "+n);return _.prototype.range.call(this,n)},a.get=function(n){return this.range(n).checkValidIntValue(this.getLong(n),n)},a.getLong=function(n){if(y(n,"field"),n instanceof d){switch(n){case d.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case d.YEAR:return this._year;case d.ERA:return this._year<1?0:1}throw new l("Unsupported field: "+n)}return n.getFrom(this)},a.isLeap=function(){return u.isLeap(this._year)},a._withField=function(n,s){if(y(n,"field"),U(n,ut,"field"),n instanceof d){switch(n.checkValidValue(s),n){case d.YEAR_OF_ERA:return u.of(this._year<1?1-s:s);case d.YEAR:return u.of(s);case d.ERA:return this.getLong(d.ERA)===s?this:u.of(1-this._year)}throw new l("Unsupported field: "+n)}return n.adjustInto(this,s)},a._plusUnit=function(n,s){if(y(n,"amountToAdd"),y(s,"unit"),U(s,G,"unit"),s instanceof v){switch(s){case v.YEARS:return this.plusYears(n);case v.DECADES:return this.plusYears(p.safeMultiply(n,10));case v.CENTURIES:return this.plusYears(p.safeMultiply(n,100));case v.MILLENNIA:return this.plusYears(p.safeMultiply(n,1e3));case v.ERAS:return this.with(d.ERA,p.safeAdd(this.getLong(d.ERA),n))}throw new l("Unsupported unit: "+s)}return s.addTo(this,n)},a.plusYears=function(n){return n===0?this:u.of(d.YEAR.checkValidIntValue(p.safeAdd(this._year,n)))},a.minusYears=function(n){return n===p.MIN_SAFE_INTEGER?this.plusYears(p.MAX_SAFE_INTEGER).plusYears(1):this.plusYears(-n)},a.adjustInto=function(n){return y(n,"temporal"),n.with(d.YEAR,this._year)},a.isValidMonthDay=function(n){return n!=null&&n.isValidYear(this._year)},a.length=function(){return this.isLeap()?366:365},a.atDay=function(n){return H.ofYearDay(this._year,n)},a.atMonth=function(n){return arguments.length===1&&n instanceof K?this.atMonthMonth(n):this.atMonthNumber(n)},a.atMonthMonth=function(n){return y(n,"month"),U(n,K,"month"),tr.of(this._year,n)},a.atMonthNumber=function(n){return y(n,"month"),tr.of(this._year,n)},a.atMonthDay=function(n){return y(n,"monthDay"),U(n,Kr,"monthDay"),n.atYear(this._year)},a.query=function(n){return y(n,"query()"),U(n,jn,"query()"),n===x.chronology()?ce.INSTANCE:n===x.precision()?v.YEARS:n===x.localDate()||n===x.localTime()||n===x.zone()||n===x.zoneId()||n===x.offset()?null:_.prototype.query.call(this,n)},a.compareTo=function(n){return y(n,"other"),U(n,u,"other"),this._year-n._year},a.isAfter=function(n){return y(n,"other"),U(n,u,"other"),this._year>n._year},a.isBefore=function(n){return y(n,"other"),U(n,u,"other"),this._year<n._year},a.format=function(n){return y(n,"formatter"),U(n,Q,"formatter"),n.format(this)},a.equals=function(n){return this===n?!0:n instanceof u?this.value()===n.value():!1},a.toString=function(){return""+this._year},a.toJSON=function(){return this.toString()},a.until=function(n,s){var f=u.from(n);if(s instanceof v){var E=f.value()-this.value();switch(s){case v.YEARS:return E;case v.DECADES:return p.intDiv(E,10);case v.CENTURIES:return p.intDiv(E,100);case v.MILLENNIA:return p.intDiv(E,1e3);case v.ERAS:return f.getLong(d.ERA)-this.getLong(d.ERA)}throw new l("Unsupported unit: "+s)}return s.between(this,f)},u}(Qe),Fu;function hA(){pt.MIN_VALUE=Ce.MIN_VALUE,pt.MAX_VALUE=Ce.MAX_VALUE,Fu=new he().appendValue(d.YEAR,4,10,oe.EXCEEDS_PAD).toFormatter(),pt.FROM=Me("Year.FROM",function(_){return pt.from(_)})}var zr=function(){function _(){}var u=_.prototype;return u.adjustInto=function(i){S("adjustInto")},_}(),xu=function(){function _(){}return _.firstDayOfMonth=function(){return ke.FIRST_DAY_OF_MONTH},_.lastDayOfMonth=function(){return ke.LAST_DAY_OF_MONTH},_.firstDayOfNextMonth=function(){return ke.FIRST_DAY_OF_NEXT_MONTH},_.firstDayOfYear=function(){return ke.FIRST_DAY_OF_YEAR},_.lastDayOfYear=function(){return ke.LAST_DAY_OF_YEAR},_.firstDayOfNextYear=function(){return ke.FIRST_DAY_OF_NEXT_YEAR},_.firstInMonth=function(a){return y(a,"dayOfWeek"),new Uu(1,a)},_.lastInMonth=function(a){return y(a,"dayOfWeek"),new Uu(-1,a)},_.dayOfWeekInMonth=function(a,i){return y(i,"dayOfWeek"),new Uu(a,i)},_.next=function(a){return new eo(2,a)},_.nextOrSame=function(a){return new eo(0,a)},_.previous=function(a){return new eo(3,a)},_.previousOrSame=function(a){return new eo(1,a)},_}(),ke=function(_){A(u,_);function u(i){var n;return n=_.call(this)||this,n._ordinal=i,n}var a=u.prototype;return a.adjustInto=function(n){switch(this._ordinal){case 0:return n.with(d.DAY_OF_MONTH,1);case 1:return n.with(d.DAY_OF_MONTH,n.range(d.DAY_OF_MONTH).maximum());case 2:return n.with(d.DAY_OF_MONTH,1).plus(1,v.MONTHS);case 3:return n.with(d.DAY_OF_YEAR,1);case 4:return n.with(d.DAY_OF_YEAR,n.range(d.DAY_OF_YEAR).maximum());case 5:return n.with(d.DAY_OF_YEAR,1).plus(1,v.YEARS)}throw new g("Unreachable")},u}(zr);ke.FIRST_DAY_OF_MONTH=new ke(0),ke.LAST_DAY_OF_MONTH=new ke(1),ke.FIRST_DAY_OF_NEXT_MONTH=new ke(2),ke.FIRST_DAY_OF_YEAR=new ke(3),ke.LAST_DAY_OF_YEAR=new ke(4),ke.FIRST_DAY_OF_NEXT_YEAR=new ke(5);var Uu=function(_){A(u,_);function u(i,n){var s;return s=_.call(this)||this,s._ordinal=i,s._dowValue=n.value(),s}var a=u.prototype;return a.adjustInto=function(n){if(this._ordinal>=0){var s=n.with(d.DAY_OF_MONTH,1),f=s.get(d.DAY_OF_WEEK),E=p.intMod(this._dowValue-f+7,7);return E+=(this._ordinal-1)*7,s.plus(E,v.DAYS)}else{var w=n.with(d.DAY_OF_MONTH,n.range(d.DAY_OF_MONTH).maximum()),b=w.get(d.DAY_OF_WEEK),M=this._dowValue-b;return M=M===0?0:M>0?M-7:M,M-=(-this._ordinal-1)*7,w.plus(M,v.DAYS)}},u}(zr),eo=function(_){A(u,_);function u(i,n){var s;return s=_.call(this)||this,y(n,"dayOfWeek"),s._relative=i,s._dowValue=n.value(),s}var a=u.prototype;return a.adjustInto=function(n){var s=n.get(d.DAY_OF_WEEK);if(this._relative<2&&s===this._dowValue)return n;if((this._relative&1)===0){var f=s-this._dowValue;return n.plus(f>=0?7-f:-f,v.DAYS)}else{var E=this._dowValue-s;return n.minus(E>=0?7-E:-E,v.DAYS)}},u}(zr),ce=function(_){A(u,_);function u(){return _.apply(this,arguments)||this}u.isLeapYear=function(n){return(n&3)===0&&(n%100!==0||n%400===0)};var a=u.prototype;return a._updateResolveMap=function(n,s,f){y(n,"fieldValues"),y(s,"field");var E=n.get(s);if(E!=null&&E!==f)throw new r("Invalid state, field: "+s+" "+E+" conflicts with "+s+" "+f);n.put(s,f)},a.resolveDate=function(n,s){if(n.containsKey(d.EPOCH_DAY))return H.ofEpochDay(n.remove(d.EPOCH_DAY));var f=n.remove(d.PROLEPTIC_MONTH);f!=null&&(s!==X.LENIENT&&d.PROLEPTIC_MONTH.checkValidValue(f),this._updateResolveMap(n,d.MONTH_OF_YEAR,p.floorMod(f,12)+1),this._updateResolveMap(n,d.YEAR,p.floorDiv(f,12)));var E=n.remove(d.YEAR_OF_ERA);if(E!=null){s!==X.LENIENT&&d.YEAR_OF_ERA.checkValidValue(E);var w=n.remove(d.ERA);if(w==null){var b=n.get(d.YEAR);s===X.STRICT?b!=null?this._updateResolveMap(n,d.YEAR,b>0?E:p.safeSubtract(1,E)):n.put(d.YEAR_OF_ERA,E):this._updateResolveMap(n,d.YEAR,b==null||b>0?E:p.safeSubtract(1,E))}else if(w===1)this._updateResolveMap(n,d.YEAR,E);else if(w===0)this._updateResolveMap(n,d.YEAR,p.safeSubtract(1,E));else throw new r("Invalid value for era: "+w)}else n.containsKey(d.ERA)&&d.ERA.checkValidValue(n.get(d.ERA));if(n.containsKey(d.YEAR)){if(n.containsKey(d.MONTH_OF_YEAR)&&n.containsKey(d.DAY_OF_MONTH)){var M=d.YEAR.checkValidIntValue(n.remove(d.YEAR)),k=n.remove(d.MONTH_OF_YEAR),V=n.remove(d.DAY_OF_MONTH);if(s===X.LENIENT){var $=k-1,j=V-1;return H.of(M,1,1).plusMonths($).plusDays(j)}else return s===X.SMART&&(d.DAY_OF_MONTH.checkValidValue(V),k===4||k===6||k===9||k===11?V=Math.min(V,30):k===2&&(V=Math.min(V,K.FEBRUARY.length(pt.isLeap(M))))),H.of(M,k,V)}if(n.containsKey(d.DAY_OF_YEAR)){var de=d.YEAR.checkValidIntValue(n.remove(d.YEAR));if(s===X.LENIENT){var Ae=p.safeSubtract(n.remove(d.DAY_OF_YEAR),1);return H.ofYearDay(de,1).plusDays(Ae)}var ve=d.DAY_OF_YEAR.checkValidIntValue(n.remove(d.DAY_OF_YEAR));return H.ofYearDay(de,ve)}if(n.containsKey(d.ALIGNED_WEEK_OF_YEAR)){if(n.containsKey(d.ALIGNED_DAY_OF_WEEK_IN_YEAR)){var Te=d.YEAR.checkValidIntValue(n.remove(d.YEAR));if(s===X.LENIENT){var et=p.safeSubtract(n.remove(d.ALIGNED_WEEK_OF_YEAR),1),Ot=p.safeSubtract(n.remove(d.ALIGNED_DAY_OF_WEEK_IN_YEAR),1);return H.of(Te,1,1).plusWeeks(et).plusDays(Ot)}var ro=d.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(n.remove(d.ALIGNED_WEEK_OF_YEAR)),Zr=d.ALIGNED_DAY_OF_WEEK_IN_YEAR.checkValidIntValue(n.remove(d.ALIGNED_DAY_OF_WEEK_IN_YEAR)),io=H.of(Te,1,1).plusDays((ro-1)*7+(Zr-1));if(s===X.STRICT&&io.get(d.YEAR)!==Te)throw new r("Strict mode rejected date parsed to a different year");return io}if(n.containsKey(d.DAY_OF_WEEK)){var bn=d.YEAR.checkValidIntValue(n.remove(d.YEAR));if(s===X.LENIENT){var Qd=p.safeSubtract(n.remove(d.ALIGNED_WEEK_OF_YEAR),1),LA=p.safeSubtract(n.remove(d.DAY_OF_WEEK),1);return H.of(bn,1,1).plusWeeks(Qd).plusDays(LA)}var CA=d.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(n.remove(d.ALIGNED_WEEK_OF_YEAR)),MA=d.DAY_OF_WEEK.checkValidIntValue(n.remove(d.DAY_OF_WEEK)),ep=H.of(bn,1,1).plusWeeks(CA-1).with(xu.nextOrSame(_e.of(MA)));if(s===X.STRICT&&ep.get(d.YEAR)!==bn)throw new r("Strict mode rejected date parsed to a different month");return ep}}}return null},a.date=function(n){return H.from(n)},u}(J);function dA(){ce.INSTANCE=new ce("IsoChronology")}var Nt=function(_){A(u,_),u.from=function(n){if(y(n,"temporal"),n instanceof u)return n;if(n instanceof gt)return n.toOffsetTime();try{var s=C.from(n),f=Z.from(n);return new u(s,f)}catch{throw new r("Unable to obtain OffsetTime TemporalAccessor: "+n+", type "+(n.constructor!=null?n.constructor.name:""))}},u.now=function(n){return arguments.length===0?u._now(pe.systemDefaultZone()):n instanceof pe?u._now(n):u._now(pe.system(n))},u._now=function(n){y(n,"clock");var s=n.instant();return u.ofInstant(s,n.zone().rules().offset(s))},u.of=function(){return arguments.length<=2?u.ofTimeAndOffset.apply(this,arguments):u.ofNumbers.apply(this,arguments)},u.ofNumbers=function(n,s,f,E,w){var b=C.of(n,s,f,E);return new u(b,w)},u.ofTimeAndOffset=function(n,s){return new u(n,s)},u.ofInstant=function(n,s){y(n,"instant"),U(n,ge,"instant"),y(s,"zone"),U(s,le,"zone");var f=s.rules(),E=f.offset(n),w=n.epochSecond()%C.SECONDS_PER_DAY;w=(w+E.totalSeconds())%C.SECONDS_PER_DAY,w<0&&(w+=C.SECONDS_PER_DAY);var b=C.ofSecondOfDay(w,n.nano());return new u(b,E)},u.parse=function(n,s){return s===void 0&&(s=Q.ISO_OFFSET_TIME),y(s,"formatter"),s.parse(n,u.FROM)};function u(i,n){var s;return s=_.call(this)||this,y(i,"time"),U(i,C,"time"),y(n,"offset"),U(n,Z,"offset"),s._time=i,s._offset=n,s}var a=u.prototype;return a.adjustInto=function(n){return n.with(d.NANO_OF_DAY,this._time.toNanoOfDay()).with(d.OFFSET_SECONDS,this.offset().totalSeconds())},a.atDate=function(n){return gt.of(n,this._time,this._offset)},a.format=function(n){return y(n,"formatter"),n.format(this,u.FROM)},a.get=function(n){return _.prototype.get.call(this,n)},a.getLong=function(n){return n instanceof d?n===d.OFFSET_SECONDS?this._offset.totalSeconds():this._time.getLong(n):n.getFrom(this)},a.hour=function(){return this._time.hour()},a.minute=function(){return this._time.minute()},a.second=function(){return this._time.second()},a.nano=function(){return this._time.nano()},a.offset=function(){return this._offset},a.isAfter=function(n){return y(n,"other"),this._toEpochNano()>n._toEpochNano()},a.isBefore=function(n){return y(n,"other"),this._toEpochNano()<n._toEpochNano()},a.isEqual=function(n){return y(n,"other"),this._toEpochNano()===n._toEpochNano()},a.isSupported=function(n){return n instanceof d?n.isTimeBased()||n===d.OFFSET_SECONDS:n instanceof v?n.isTimeBased():n!=null&&n.isSupportedBy(this)},a.minusHours=function(n){return this._withLocalTimeOffset(this._time.minusHours(n),this._offset)},a.minusMinutes=function(n){return this._withLocalTimeOffset(this._time.minusMinutes(n),this._offset)},a.minusSeconds=function(n){return this._withLocalTimeOffset(this._time.minusSeconds(n),this._offset)},a.minusNanos=function(n){return this._withLocalTimeOffset(this._time.minusNanos(n),this._offset)},a._minusAmount=function(n){return y(n),n.subtractFrom(this)},a._minusUnit=function(n,s){return this.plus(-1*n,s)},a._plusAmount=function(n){return y(n),n.addTo(this)},a._plusUnit=function(n,s){return s instanceof v?this._withLocalTimeOffset(this._time.plus(n,s),this._offset):s.addTo(this,n)},a.plusHours=function(n){return this._withLocalTimeOffset(this._time.plusHours(n),this._offset)},a.plusMinutes=function(n){return this._withLocalTimeOffset(this._time.plusMinutes(n),this._offset)},a.plusSeconds=function(n){return this._withLocalTimeOffset(this._time.plusSeconds(n),this._offset)},a.plusNanos=function(n){return this._withLocalTimeOffset(this._time.plusNanos(n),this._offset)},a.query=function(n){return y(n,"query"),n===x.precision()?v.NANOS:n===x.offset()||n===x.zone()?this.offset():n===x.localTime()?this._time:n===x.chronology()||n===x.localDate()||n===x.zoneId()?null:_.prototype.query.call(this,n)},a.range=function(n){return n instanceof d?n===d.OFFSET_SECONDS?n.range():this._time.range(n):n.rangeRefinedBy(this)},a.toLocalTime=function(){return this._time},a.truncatedTo=function(n){return this._withLocalTimeOffset(this._time.truncatedTo(n),this._offset)},a.until=function(n,s){y(n,"endExclusive"),y(s,"unit");var f=u.from(n);if(s instanceof v){var E=f._toEpochNano()-this._toEpochNano();switch(s){case v.NANOS:return E;case v.MICROS:return p.intDiv(E,1e3);case v.MILLIS:return p.intDiv(E,1e6);case v.SECONDS:return p.intDiv(E,C.NANOS_PER_SECOND);case v.MINUTES:return p.intDiv(E,C.NANOS_PER_MINUTE);case v.HOURS:return p.intDiv(E,C.NANOS_PER_HOUR);case v.HALF_DAYS:return p.intDiv(E,12*C.NANOS_PER_HOUR)}throw new l("Unsupported unit: "+s)}return s.between(this,f)},a.withHour=function(n){return this._withLocalTimeOffset(this._time.withHour(n),this._offset)},a.withMinute=function(n){return this._withLocalTimeOffset(this._time.withMinute(n),this._offset)},a.withSecond=function(n){return this._withLocalTimeOffset(this._time.withSecond(n),this._offset)},a.withNano=function(n){return this._withLocalTimeOffset(this._time.withNano(n),this._offset)},a.withOffsetSameInstant=function(n){if(y(n,"offset"),n.equals(this._offset))return this;var s=n.totalSeconds()-this._offset.totalSeconds(),f=this._time.plusSeconds(s);return new u(f,n)},a.withOffsetSameLocal=function(n){return n!=null&&n.equals(this._offset)?this:new u(this._time,n)},a._toEpochNano=function(){var n=this._time.toNanoOfDay(),s=this._offset.totalSeconds()*C.NANOS_PER_SECOND;return n-s},a._withAdjuster=function(n){return y(n,"adjuster"),n instanceof C?this._withLocalTimeOffset(n,this._offset):n instanceof Z?this._withLocalTimeOffset(this._time,n):n instanceof u?n:n.adjustInto(this)},a._withField=function(n,s){return y(n,"field"),n instanceof d?n===d.OFFSET_SECONDS?this._withLocalTimeOffset(this._time,Z.ofTotalSeconds(n.checkValidIntValue(s))):this._withLocalTimeOffset(this._time.with(n,s),this._offset):n.adjustInto(this,s)},a._withLocalTimeOffset=function(n,s){return this._time===n&&this._offset.equals(s)?this:new u(n,s)},a.compareTo=function(n){if(y(n,"other"),U(n,u,"other"),this._offset.equals(n._offset))return this._time.compareTo(n._time);var s=p.compareNumbers(this._toEpochNano(),n._toEpochNano());return s===0?this._time.compareTo(n._time):s},a.equals=function(n){return this===n?!0:n instanceof u?this._time.equals(n._time)&&this._offset.equals(n._offset):!1},a.hashCode=function(){return this._time.hashCode()^this._offset.hashCode()},a.toString=function(){return this._time.toString()+this._offset.toString()},a.toJSON=function(){return this.toString()},u}(Qe);function pA(){Nt.MIN=Nt.ofNumbers(0,0,0,0,Z.MAX),Nt.MAX=Nt.ofNumbers(23,59,59,999999999,Z.MIN),Nt.FROM=Me("OffsetTime.FROM",function(_){return Nt.from(_)})}var ku=function(_){A(u,_);function u(){return _.apply(this,arguments)||this}var a=u.prototype;return a.query=function(n){return n===x.zoneId()||n===x.zone()?this.zone():n===x.chronology()?this.toLocalDate().chronology():n===x.precision()?v.NANOS:n===x.offset()?this.offset():n===x.localDate()?H.ofEpochDay(this.toLocalDate().toEpochDay()):n===x.localTime()?this.toLocalTime():_.prototype.query.call(this,n)},a.format=function(n){return y(n,"formatter"),n.format(this)},a.toInstant=function(){return ge.ofEpochSecond(this.toEpochSecond(),this.toLocalTime().nano())},a.toEpochSecond=function(){var n=this.toLocalDate().toEpochDay(),s=n*86400+this.toLocalTime().toSecondOfDay();return s-=this.offset().totalSeconds(),s},a.compareTo=function(n){y(n,"other");var s=p.compareNumbers(this.toEpochSecond(),n.toEpochSecond());return s===0&&(s=this.toLocalTime().nano()-n.toLocalTime().nano(),s===0&&(s=this.toLocalDateTime().compareTo(n.toLocalDateTime()),s===0&&(s=_A(this.zone().id(),n.zone().id())))),s},a.isAfter=function(n){y(n,"other");var s=this.toEpochSecond(),f=n.toEpochSecond();return s>f||s===f&&this.toLocalTime().nano()>n.toLocalTime().nano()},a.isBefore=function(n){y(n,"other");var s=this.toEpochSecond(),f=n.toEpochSecond();return s<f||s===f&&this.toLocalTime().nano()<n.toLocalTime().nano()},a.isEqual=function(n){return y(n,"other"),this.toEpochSecond()===n.toEpochSecond()&&this.toLocalTime().nano()===n.toLocalTime().nano()},a.equals=function(n){return this===n?!0:n instanceof u?this.compareTo(n)===0:!1},u}(Qe);function _A(_,u){return _<u?-1:_>u?1:0}var _t=function(_){A(u,_),u.now=function(n){var s;return n instanceof le?s=pe.system(n):s=n??pe.systemDefaultZone(),u.ofInstant(s.instant(),s.zone())},u.of=function(){return arguments.length<=2?u.of2.apply(this,arguments):arguments.length===3&&arguments[0]instanceof H?u.of3.apply(this,arguments):u.of8.apply(this,arguments)},u.of3=function(n,s,f){return u.of2(fe.of(n,s),f)},u.of2=function(n,s){return u.ofLocal(n,s,null)},u.of8=function(n,s,f,E,w,b,M,k){var V=fe.of(n,s,f,E,w,b,M);return u.ofLocal(V,k,null)},u.ofLocal=function(n,s,f){if(y(n,"localDateTime"),y(s,"zone"),s instanceof Z)return new u(n,s,s);var E=null,w=s.rules(),b=w.validOffsets(n);if(b.length===1)E=b[0];else if(b.length===0){var M=w.transition(n);n=n.plusSeconds(M.duration().seconds()),E=M.offsetAfter()}else f!=null&&b.some(function(k){return k.equals(f)})?E=f:E=y(b[0],"offset");return new u(n,E,s)},u.ofInstant=function(){return arguments.length===2?u.ofInstant2.apply(this,arguments):u.ofInstant3.apply(this,arguments)},u.ofInstant2=function(n,s){return y(n,"instant"),y(s,"zone"),u._create(n.epochSecond(),n.nano(),s)},u.ofInstant3=function(n,s,f){return y(n,"localDateTime"),y(s,"offset"),y(f,"zone"),u._create(n.toEpochSecond(s),n.nano(),f)},u._create=function(n,s,f){var E=f.rules(),w=ge.ofEpochSecond(n,s),b=E.offset(w),M=fe.ofEpochSecond(n,s,b);return new u(M,b,f)},u.ofStrict=function(n,s,f){y(n,"localDateTime"),y(s,"offset"),y(f,"zone");var E=f.rules();if(E.isValidOffset(n,s)===!1){var w=E.transition(n);throw w!=null&&w.isGap()?new r("LocalDateTime "+n+" does not exist in zone "+f+" due to a gap in the local time-line, typically caused by daylight savings"):new r('ZoneOffset "'+s+'" is not valid for LocalDateTime "'+n+'" in zone "'+f+'"')}return new u(n,s,f)},u.ofLenient=function(n,s,f){if(y(n,"localDateTime"),y(s,"offset"),y(f,"zone"),f instanceof Z&&s.equals(f)===!1)throw new h("ZoneId must match ZoneOffset");return new u(n,s,f)},u.from=function(n){if(y(n,"temporal"),n instanceof u)return n;var s=le.from(n);if(n.isSupported(d.INSTANT_SECONDS)){var f=u._from(n,s);if(f!=null)return f}var E=fe.from(n);return u.of2(E,s)},u._from=function(n,s){try{return u.__from(n,s)}catch(f){if(!(f instanceof r))throw f}},u.__from=function(n,s){var f=n.getLong(d.INSTANT_SECONDS),E=n.get(d.NANO_OF_SECOND);return u._create(f,E,s)},u.parse=function(n,s){return s===void 0&&(s=Q.ISO_ZONED_DATE_TIME),y(s,"formatter"),s.parse(n,u.FROM)};function u(i,n,s){var f;return y(i,"dateTime"),y(n,"offset"),y(s,"zone"),f=_.call(this)||this,f._dateTime=i,f._offset=n,f._zone=s,f}var a=u.prototype;return a._resolveLocal=function(n){return y(n,"newDateTime"),u.ofLocal(n,this._zone,this._offset)},a._resolveInstant=function(n){return u.ofInstant3(n,this._offset,this._zone)},a._resolveOffset=function(n){return n.equals(this._offset)===!1&&this._zone.rules().isValidOffset(this._dateTime,n)?new u(this._dateTime,n,this._zone):this},a.isSupported=function(n){return n instanceof d?!0:n instanceof v?n.isDateBased()||n.isTimeBased():n!=null&&n.isSupportedBy(this)},a.range=function(n){return n instanceof d?n===d.INSTANT_SECONDS||n===d.OFFSET_SECONDS?n.range():this._dateTime.range(n):n.rangeRefinedBy(this)},a.get=function(n){return this.getLong(n)},a.getLong=function(n){if(n instanceof d){switch(n){case d.INSTANT_SECONDS:return this.toEpochSecond();case d.OFFSET_SECONDS:return this._offset.totalSeconds()}return this._dateTime.getLong(n)}return y(n,"field"),n.getFrom(this)},a.offset=function(){return this._offset},a.withEarlierOffsetAtOverlap=function(){var n=this._zone.rules().transition(this._dateTime);if(n!=null&&n.isOverlap()){var s=n.offsetBefore();if(s.equals(this._offset)===!1)return new u(this._dateTime,s,this._zone)}return this},a.withLaterOffsetAtOverlap=function(){var n=this._zone.rules().transition(this.toLocalDateTime());if(n!=null){var s=n.offsetAfter();if(s.equals(this._offset)===!1)return new u(this._dateTime,s,this._zone)}return this},a.zone=function(){return this._zone},a.withZoneSameLocal=function(n){return y(n,"zone"),this._zone.equals(n)?this:u.ofLocal(this._dateTime,n,this._offset)},a.withZoneSameInstant=function(n){return y(n,"zone"),this._zone.equals(n)?this:u._create(this._dateTime.toEpochSecond(this._offset),this._dateTime.nano(),n)},a.withFixedOffsetZone=function(){return this._zone.equals(this._offset)?this:new u(this._dateTime,this._offset,this._offset)},a.year=function(){return this._dateTime.year()},a.monthValue=function(){return this._dateTime.monthValue()},a.month=function(){return this._dateTime.month()},a.dayOfMonth=function(){return this._dateTime.dayOfMonth()},a.dayOfYear=function(){return this._dateTime.dayOfYear()},a.dayOfWeek=function(){return this._dateTime.dayOfWeek()},a.hour=function(){return this._dateTime.hour()},a.minute=function(){return this._dateTime.minute()},a.second=function(){return this._dateTime.second()},a.nano=function(){return this._dateTime.nano()},a._withAdjuster=function(n){if(n instanceof H)return this._resolveLocal(fe.of(n,this._dateTime.toLocalTime()));if(n instanceof C)return this._resolveLocal(fe.of(this._dateTime.toLocalDate(),n));if(n instanceof fe)return this._resolveLocal(n);if(n instanceof ge){var s=n;return u._create(s.epochSecond(),s.nano(),this._zone)}else if(n instanceof Z)return this._resolveOffset(n);return _.prototype._withAdjuster.call(this,n)},a._withField=function(n,s){if(n instanceof d){switch(n){case d.INSTANT_SECONDS:return u._create(s,this.nano(),this._zone);case d.OFFSET_SECONDS:{var f=Z.ofTotalSeconds(n.checkValidIntValue(s));return this._resolveOffset(f)}}return this._resolveLocal(this._dateTime.with(n,s))}return n.adjustInto(this,s)},a.withYear=function(n){return this._resolveLocal(this._dateTime.withYear(n))},a.withMonth=function(n){return this._resolveLocal(this._dateTime.withMonth(n))},a.withDayOfMonth=function(n){return this._resolveLocal(this._dateTime.withDayOfMonth(n))},a.withDayOfYear=function(n){return this._resolveLocal(this._dateTime.withDayOfYear(n))},a.withHour=function(n){return this._resolveLocal(this._dateTime.withHour(n))},a.withMinute=function(n){return this._resolveLocal(this._dateTime.withMinute(n))},a.withSecond=function(n){return this._resolveLocal(this._dateTime.withSecond(n))},a.withNano=function(n){return this._resolveLocal(this._dateTime.withNano(n))},a.truncatedTo=function(n){return this._resolveLocal(this._dateTime.truncatedTo(n))},a._plusUnit=function(n,s){return s instanceof v?s.isDateBased()?this._resolveLocal(this._dateTime.plus(n,s)):this._resolveInstant(this._dateTime.plus(n,s)):(y(s,"unit"),s.addTo(this,n))},a.plusYears=function(n){return this._resolveLocal(this._dateTime.plusYears(n))},a.plusMonths=function(n){return this._resolveLocal(this._dateTime.plusMonths(n))},a.plusWeeks=function(n){return this._resolveLocal(this._dateTime.plusWeeks(n))},a.plusDays=function(n){return this._resolveLocal(this._dateTime.plusDays(n))},a.plusHours=function(n){return this._resolveInstant(this._dateTime.plusHours(n))},a.plusMinutes=function(n){return this._resolveInstant(this._dateTime.plusMinutes(n))},a.plusSeconds=function(n){return this._resolveInstant(this._dateTime.plusSeconds(n))},a.plusNanos=function(n){return this._resolveInstant(this._dateTime.plusNanos(n))},a._minusUnit=function(n,s){return this._plusUnit(-1*n,s)},a.minusYears=function(n){return this.plusYears(-1*n)},a.minusMonths=function(n){return this.plusMonths(-1*n)},a.minusWeeks=function(n){return this.plusWeeks(-1*n)},a.minusDays=function(n){return this.plusDays(-1*n)},a.minusHours=function(n){return this.plusHours(-1*n)},a.minusMinutes=function(n){return this.plusMinutes(-1*n)},a.minusSeconds=function(n){return this.plusSeconds(-1*n)},a.minusNanos=function(n){return this.plusNanos(-1*n)},a.query=function(n){return n===x.localDate()?this.toLocalDate():(y(n,"query"),_.prototype.query.call(this,n))},a.until=function(n,s){var f=u.from(n);if(s instanceof v){if(f=f.withZoneSameInstant(this._zone),s.isDateBased())return this._dateTime.until(f._dateTime,s);var E=this._offset.totalSeconds()-f._offset.totalSeconds(),w=f._dateTime.plusSeconds(E);return this._dateTime.until(w,s)}return s.between(this,f)},a.toLocalDateTime=function(){return this._dateTime},a.toLocalDate=function(){return this._dateTime.toLocalDate()},a.toLocalTime=function(){return this._dateTime.toLocalTime()},a.toOffsetDateTime=function(){return gt.of(this._dateTime,this._offset)},a.equals=function(n){return this===n?!0:n instanceof u?this._dateTime.equals(n._dateTime)&&this._offset.equals(n._offset)&&this._zone.equals(n._zone):!1},a.hashCode=function(){return p.hashCode(this._dateTime.hashCode(),this._offset.hashCode(),this._zone.hashCode())},a.toString=function(){var n=this._dateTime.toString()+this._offset.toString();return this._offset!==this._zone&&(n+="["+this._zone.toString()+"]"),n},a.toJSON=function(){return this.toString()},a.format=function(n){return _.prototype.format.call(this,n)},u}(ku);function gA(){_t.FROM=Me("ZonedDateTime.FROM",function(_){return _t.from(_)})}var gt=function(_){A(u,_),u.from=function(n){if(y(n,"temporal"),n instanceof u)return n;try{var s=Z.from(n);try{var f=fe.from(n);return u.of(f,s)}catch{var E=ge.from(n);return u.ofInstant(E,s)}}catch{throw new r("Unable to obtain OffsetDateTime TemporalAccessor: "+n+", type "+(n.constructor!=null?n.constructor.name:""))}},u.now=function(n){if(arguments.length===0)return u.now(pe.systemDefaultZone());if(y(n,"clockOrZone"),n instanceof le)return u.now(pe.system(n));if(n instanceof pe){var s=n.instant();return u.ofInstant(s,n.zone().rules().offset(s))}else throw new h("clockOrZone must be an instance of ZoneId or Clock")},u.of=function(){return arguments.length<=2?u.ofDateTime.apply(this,arguments):arguments.length===3?u.ofDateAndTime.apply(this,arguments):u.ofNumbers.apply(this,arguments)},u.ofDateTime=function(n,s){return new u(n,s)},u.ofDateAndTime=function(n,s,f){var E=fe.of(n,s);return new u(E,f)},u.ofNumbers=function(n,s,f,E,w,b,M,k){E===void 0&&(E=0),w===void 0&&(w=0),b===void 0&&(b=0),M===void 0&&(M=0);var V=fe.of(n,s,f,E,w,b,M);return new u(V,k)},u.ofInstant=function(n,s){y(n,"instant"),y(s,"zone");var f=s.rules(),E=f.offset(n),w=fe.ofEpochSecond(n.epochSecond(),n.nano(),E);return new u(w,E)},u.parse=function(n,s){return s===void 0&&(s=Q.ISO_OFFSET_DATE_TIME),y(s,"formatter"),s.parse(n,u.FROM)};function u(i,n){var s;return s=_.call(this)||this,y(i,"dateTime"),U(i,fe,"dateTime"),y(n,"offset"),U(n,Z,"offset"),s._dateTime=i,s._offset=n,s}var a=u.prototype;return a.adjustInto=function(n){return n.with(d.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(d.NANO_OF_DAY,this.toLocalTime().toNanoOfDay()).with(d.OFFSET_SECONDS,this.offset().totalSeconds())},a.until=function(n,s){var f=u.from(n);return s instanceof v?(f=f.withOffsetSameInstant(this._offset),this._dateTime.until(f._dateTime,s)):s.between(this,f)},a.atZoneSameInstant=function(n){return _t.ofInstant(this._dateTime,this._offset,n)},a.atZoneSimilarLocal=function(n){return _t.ofLocal(this._dateTime,n,this._offset)},a.query=function(n){return y(n,"query"),n===x.chronology()?ce.INSTANCE:n===x.precision()?v.NANOS:n===x.offset()||n===x.zone()?this.offset():n===x.localDate()?this.toLocalDate():n===x.localTime()?this.toLocalTime():n===x.zoneId()?null:_.prototype.query.call(this,n)},a.get=function(n){if(n instanceof d){switch(n){case d.INSTANT_SECONDS:throw new r("Field too large for an int: "+n);case d.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.get(n)}return _.prototype.get.call(this,n)},a.getLong=function(n){if(n instanceof d){switch(n){case d.INSTANT_SECONDS:return this.toEpochSecond();case d.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.getLong(n)}return n.getFrom(this)},a.offset=function(){return this._offset},a.year=function(){return this._dateTime.year()},a.monthValue=function(){return this._dateTime.monthValue()},a.month=function(){return this._dateTime.month()},a.dayOfMonth=function(){return this._dateTime.dayOfMonth()},a.dayOfYear=function(){return this._dateTime.dayOfYear()},a.dayOfWeek=function(){return this._dateTime.dayOfWeek()},a.hour=function(){return this._dateTime.hour()},a.minute=function(){return this._dateTime.minute()},a.second=function(){return this._dateTime.second()},a.nano=function(){return this._dateTime.nano()},a.toLocalDateTime=function(){return this._dateTime},a.toLocalDate=function(){return this._dateTime.toLocalDate()},a.toLocalTime=function(){return this._dateTime.toLocalTime()},a.toOffsetTime=function(){return Nt.of(this._dateTime.toLocalTime(),this._offset)},a.toZonedDateTime=function(){return _t.of(this._dateTime,this._offset)},a.toInstant=function(){return this._dateTime.toInstant(this._offset)},a.toEpochSecond=function(){return this._dateTime.toEpochSecond(this._offset)},a.isSupported=function(n){return n instanceof d||n instanceof v?n.isDateBased()||n.isTimeBased():n!=null&&n.isSupportedBy(this)},a.range=function(n){return n instanceof d?n===d.INSTANT_SECONDS||n===d.OFFSET_SECONDS?n.range():this._dateTime.range(n):n.rangeRefinedBy(this)},a._withAdjuster=function(n){return y(n),n instanceof H||n instanceof C||n instanceof fe?this._withDateTimeOffset(this._dateTime.with(n),this._offset):n instanceof ge?u.ofInstant(n,this._offset):n instanceof Z?this._withDateTimeOffset(this._dateTime,n):n instanceof u?n:n.adjustInto(this)},a._withField=function(n,s){if(y(n),n instanceof d){var f=n;switch(f){case d.INSTANT_SECONDS:return u.ofInstant(ge.ofEpochSecond(s,this.nano()),this._offset);case d.OFFSET_SECONDS:return this._withDateTimeOffset(this._dateTime,Z.ofTotalSeconds(f.checkValidIntValue(s)))}return this._withDateTimeOffset(this._dateTime.with(n,s),this._offset)}return n.adjustInto(this,s)},a._withDateTimeOffset=function(n,s){return this._dateTime===n&&this._offset.equals(s)?this:new u(n,s)},a.withYear=function(n){return this._withDateTimeOffset(this._dateTime.withYear(n),this._offset)},a.withMonth=function(n){return this._withDateTimeOffset(this._dateTime.withMonth(n),this._offset)},a.withDayOfMonth=function(n){return this._withDateTimeOffset(this._dateTime.withDayOfMonth(n),this._offset)},a.withDayOfYear=function(n){return this._withDateTimeOffset(this._dateTime.withDayOfYear(n),this._offset)},a.withHour=function(n){return this._withDateTimeOffset(this._dateTime.withHour(n),this._offset)},a.withMinute=function(n){return this._withDateTimeOffset(this._dateTime.withMinute(n),this._offset)},a.withSecond=function(n){return this._withDateTimeOffset(this._dateTime.withSecond(n),this._offset)},a.withNano=function(n){return this._withDateTimeOffset(this._dateTime.withNano(n),this._offset)},a.withOffsetSameLocal=function(n){return y(n,"offset"),this._withDateTimeOffset(this._dateTime,n)},a.withOffsetSameInstant=function(n){if(y(n,"offset"),n.equals(this._offset))return this;var s=n.totalSeconds()-this._offset.totalSeconds(),f=this._dateTime.plusSeconds(s);return new u(f,n)},a.truncatedTo=function(n){return this._withDateTimeOffset(this._dateTime.truncatedTo(n),this._offset)},a._plusAmount=function(n){return y(n,"amount"),n.addTo(this)},a._plusUnit=function(n,s){return s instanceof v?this._withDateTimeOffset(this._dateTime.plus(n,s),this._offset):s.addTo(this,n)},a.plusYears=function(n){return this._withDateTimeOffset(this._dateTime.plusYears(n),this._offset)},a.plusMonths=function(n){return this._withDateTimeOffset(this._dateTime.plusMonths(n),this._offset)},a.plusWeeks=function(n){return this._withDateTimeOffset(this._dateTime.plusWeeks(n),this._offset)},a.plusDays=function(n){return this._withDateTimeOffset(this._dateTime.plusDays(n),this._offset)},a.plusHours=function(n){return this._withDateTimeOffset(this._dateTime.plusHours(n),this._offset)},a.plusMinutes=function(n){return this._withDateTimeOffset(this._dateTime.plusMinutes(n),this._offset)},a.plusSeconds=function(n){return this._withDateTimeOffset(this._dateTime.plusSeconds(n),this._offset)},a.plusNanos=function(n){return this._withDateTimeOffset(this._dateTime.plusNanos(n),this._offset)},a._minusAmount=function(n){return y(n),n.subtractFrom(this)},a._minusUnit=function(n,s){return this.plus(-1*n,s)},a.minusYears=function(n){return this._withDateTimeOffset(this._dateTime.minusYears(n),this._offset)},a.minusMonths=function(n){return this._withDateTimeOffset(this._dateTime.minusMonths(n),this._offset)},a.minusWeeks=function(n){return this._withDateTimeOffset(this._dateTime.minusWeeks(n),this._offset)},a.minusDays=function(n){return this._withDateTimeOffset(this._dateTime.minusDays(n),this._offset)},a.minusHours=function(n){return this._withDateTimeOffset(this._dateTime.minusHours(n),this._offset)},a.minusMinutes=function(n){return this._withDateTimeOffset(this._dateTime.minusMinutes(n),this._offset)},a.minusSeconds=function(n){return this._withDateTimeOffset(this._dateTime.minusSeconds(n),this._offset)},a.minusNanos=function(n){return this._withDateTimeOffset(this._dateTime.minusNanos(n),this._offset)},a.compareTo=function(n){if(y(n,"other"),U(n,u,"other"),this.offset().equals(n.offset()))return this.toLocalDateTime().compareTo(n.toLocalDateTime());var s=p.compareNumbers(this.toEpochSecond(),n.toEpochSecond());return s===0&&(s=this.toLocalTime().nano()-n.toLocalTime().nano(),s===0&&(s=this.toLocalDateTime().compareTo(n.toLocalDateTime()))),s},a.isAfter=function(n){y(n,"other");var s=this.toEpochSecond(),f=n.toEpochSecond();return s>f||s===f&&this.toLocalTime().nano()>n.toLocalTime().nano()},a.isBefore=function(n){y(n,"other");var s=this.toEpochSecond(),f=n.toEpochSecond();return s<f||s===f&&this.toLocalTime().nano()<n.toLocalTime().nano()},a.isEqual=function(n){return y(n,"other"),this.toEpochSecond()===n.toEpochSecond()&&this.toLocalTime().nano()===n.toLocalTime().nano()},a.equals=function(n){return this===n?!0:n instanceof u?this._dateTime.equals(n._dateTime)&&this._offset.equals(n._offset):!1},a.hashCode=function(){return this._dateTime.hashCode()^this._offset.hashCode()},a.toString=function(){return this._dateTime.toString()+this._offset.toString()},a.toJSON=function(){return this.toString()},a.format=function(n){return y(n,"formatter"),n.format(this)},u}(Qe);function mA(){gt.MIN=fe.MIN.atOffset(Z.MAX),gt.MAX=fe.MAX.atOffset(Z.MIN),gt.FROM=Me("OffsetDateTime.FROM",function(_){return gt.from(_)})}var to=146097,Gd=to*5-(30*365+7),H=function(_){A(u,_),u.now=function(n){var s;return n==null?s=pe.systemDefaultZone():n instanceof le?s=pe.system(n):s=n,u.ofInstant(s.instant(),s.zone())},u.ofInstant=function(n,s){s===void 0&&(s=le.systemDefault()),y(n,"instant");var f=s.rules().offset(n),E=n.epochSecond()+f.totalSeconds(),w=p.floorDiv(E,C.SECONDS_PER_DAY);return u.ofEpochDay(w)},u.of=function(n,s,f){return new u(n,s,f)},u.ofYearDay=function(n,s){d.YEAR.checkValidValue(n);var f=ce.isLeapYear(n);s===366&&f===!1&&P(!1,"Invalid date 'DayOfYear 366' as '"+n+"' is not a leap year",r);var E=K.of(Math.floor((s-1)/31+1)),w=E.firstDayOfYear(f)+E.length(f)-1;s>w&&(E=E.plus(1));var b=s-E.firstDayOfYear(f)+1;return new u(n,E.value(),b)},u.ofEpochDay=function(n){n===void 0&&(n=0);var s,f,E,w,b;b=n+Gd,b-=60,s=0,b<0&&(f=p.intDiv(b+1,to)-1,s=f*400,b+=-f*to),w=p.intDiv(400*b+591,to),E=b-(365*w+p.intDiv(w,4)-p.intDiv(w,100)+p.intDiv(w,400)),E<0&&(w--,E=b-(365*w+p.intDiv(w,4)-p.intDiv(w,100)+p.intDiv(w,400))),w+=s;var M=E,k=p.intDiv(M*5+2,153),V=(k+2)%12+1,$=M-p.intDiv(k*306+5,10)+1;w+=p.intDiv(k,10);var j=w;return new u(j,V,$)},u.from=function(n){y(n,"temporal");var s=n.query(x.localDate());if(s==null)throw new r("Unable to obtain LocalDate from TemporalAccessor: "+n+", type "+(n.constructor!=null?n.constructor.name:""));return s},u.parse=function(n,s){return s===void 0&&(s=Q.ISO_LOCAL_DATE),P(s!=null,"formatter",m),s.parse(n,u.FROM)},u._resolvePreviousValid=function(n,s,f){switch(s){case 2:f=Math.min(f,ce.isLeapYear(n)?29:28);break;case 4:case 6:case 9:case 11:f=Math.min(f,30);break}return u.of(n,s,f)};function u(i,n,s){var f;return f=_.call(this)||this,y(i,"year"),y(n,"month"),y(s,"dayOfMonth"),n instanceof K&&(n=n.value()),f._year=p.safeToInt(i),f._month=p.safeToInt(n),f._day=p.safeToInt(s),u._validate(f._year,f._month,f._day),f}u._validate=function(n,s,f){var E;if(d.YEAR.checkValidValue(n),d.MONTH_OF_YEAR.checkValidValue(s),d.DAY_OF_MONTH.checkValidValue(f),f>28){switch(E=31,s){case 2:E=ce.isLeapYear(n)?29:28;break;case 4:case 6:case 9:case 11:E=30}f>E&&(f===29?P(!1,"Invalid date 'February 29' as '"+n+"' is not a leap year",r):P(!1,"Invalid date '"+n+"' '"+s+"' '"+f+"'",r))}};var a=u.prototype;return a.isSupported=function(n){return _.prototype.isSupported.call(this,n)},a.range=function(n){if(n instanceof d){if(n.isDateBased()){switch(n){case d.DAY_OF_MONTH:return z.of(1,this.lengthOfMonth());case d.DAY_OF_YEAR:return z.of(1,this.lengthOfYear());case d.ALIGNED_WEEK_OF_MONTH:return z.of(1,this.month()===K.FEBRUARY&&this.isLeapYear()===!1?4:5);case d.YEAR_OF_ERA:return this._year<=0?z.of(1,pt.MAX_VALUE+1):z.of(1,pt.MAX_VALUE)}return n.range()}throw new l("Unsupported field: "+n)}return n.rangeRefinedBy(this)},a.get=function(n){return this.getLong(n)},a.getLong=function(n){return P(n!=null,"",m),n instanceof d?this._get0(n):n.getFrom(this)},a._get0=function(n){switch(n){case d.DAY_OF_WEEK:return this.dayOfWeek().value();case d.ALIGNED_DAY_OF_WEEK_IN_MONTH:return p.intMod(this._day-1,7)+1;case d.ALIGNED_DAY_OF_WEEK_IN_YEAR:return p.intMod(this.dayOfYear()-1,7)+1;case d.DAY_OF_MONTH:return this._day;case d.DAY_OF_YEAR:return this.dayOfYear();case d.EPOCH_DAY:return this.toEpochDay();case d.ALIGNED_WEEK_OF_MONTH:return p.intDiv(this._day-1,7)+1;case d.ALIGNED_WEEK_OF_YEAR:return p.intDiv(this.dayOfYear()-1,7)+1;case d.MONTH_OF_YEAR:return this._month;case d.PROLEPTIC_MONTH:return this._prolepticMonth();case d.YEAR_OF_ERA:return this._year>=1?this._year:1-this._year;case d.YEAR:return this._year;case d.ERA:return this._year>=1?1:0}throw new l("Unsupported field: "+n)},a._prolepticMonth=function(){return this._year*12+(this._month-1)},a.chronology=function(){return ce.INSTANCE},a.year=function(){return this._year},a.monthValue=function(){return this._month},a.month=function(){return K.of(this._month)},a.dayOfMonth=function(){return this._day},a.dayOfYear=function(){return this.month().firstDayOfYear(this.isLeapYear())+this._day-1},a.dayOfWeek=function(){var n=p.floorMod(this.toEpochDay()+3,7);return _e.of(n+1)},a.isLeapYear=function(){return ce.isLeapYear(this._year)},a.lengthOfMonth=function(){switch(this._month){case 2:return this.isLeapYear()?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},a.lengthOfYear=function(){return this.isLeapYear()?366:365},a._withAdjuster=function(n){return y(n,"adjuster"),n instanceof u?n:_.prototype._withAdjuster.call(this,n)},a._withField=function(n,s){if(P(n!=null,"field",m),n instanceof d){var f=n;switch(f.checkValidValue(s),f){case d.DAY_OF_WEEK:return this.plusDays(s-this.dayOfWeek().value());case d.ALIGNED_DAY_OF_WEEK_IN_MONTH:return this.plusDays(s-this.getLong(d.ALIGNED_DAY_OF_WEEK_IN_MONTH));case d.ALIGNED_DAY_OF_WEEK_IN_YEAR:return this.plusDays(s-this.getLong(d.ALIGNED_DAY_OF_WEEK_IN_YEAR));case d.DAY_OF_MONTH:return this.withDayOfMonth(s);case d.DAY_OF_YEAR:return this.withDayOfYear(s);case d.EPOCH_DAY:return u.ofEpochDay(s);case d.ALIGNED_WEEK_OF_MONTH:return this.plusWeeks(s-this.getLong(d.ALIGNED_WEEK_OF_MONTH));case d.ALIGNED_WEEK_OF_YEAR:return this.plusWeeks(s-this.getLong(d.ALIGNED_WEEK_OF_YEAR));case d.MONTH_OF_YEAR:return this.withMonth(s);case d.PROLEPTIC_MONTH:return this.plusMonths(s-this.getLong(d.PROLEPTIC_MONTH));case d.YEAR_OF_ERA:return this.withYear(this._year>=1?s:1-s);case d.YEAR:return this.withYear(s);case d.ERA:return this.getLong(d.ERA)===s?this:this.withYear(1-this._year)}throw new l("Unsupported field: "+n)}return n.adjustInto(this,s)},a.withYear=function(n){return this._year===n?this:(d.YEAR.checkValidValue(n),u._resolvePreviousValid(n,this._month,this._day))},a.withMonth=function(n){var s=n instanceof K?n.value():n;return this._month===s?this:(d.MONTH_OF_YEAR.checkValidValue(s),u._resolvePreviousValid(this._year,s,this._day))},a.withDayOfMonth=function(n){return this._day===n?this:u.of(this._year,this._month,n)},a.withDayOfYear=function(n){return this.dayOfYear()===n?this:u.ofYearDay(this._year,n)},a._plusUnit=function(n,s){if(y(n,"amountToAdd"),y(s,"unit"),s instanceof v){switch(s){case v.DAYS:return this.plusDays(n);case v.WEEKS:return this.plusWeeks(n);case v.MONTHS:return this.plusMonths(n);case v.YEARS:return this.plusYears(n);case v.DECADES:return this.plusYears(p.safeMultiply(n,10));case v.CENTURIES:return this.plusYears(p.safeMultiply(n,100));case v.MILLENNIA:return this.plusYears(p.safeMultiply(n,1e3));case v.ERAS:return this.with(d.ERA,p.safeAdd(this.getLong(d.ERA),n))}throw new l("Unsupported unit: "+s)}return s.addTo(this,n)},a.plusYears=function(n){if(n===0)return this;var s=d.YEAR.checkValidIntValue(this._year+n);return u._resolvePreviousValid(s,this._month,this._day)},a.plusMonths=function(n){if(n===0)return this;var s=this._year*12+(this._month-1),f=s+n,E=d.YEAR.checkValidIntValue(p.floorDiv(f,12)),w=p.floorMod(f,12)+1;return u._resolvePreviousValid(E,w,this._day)},a.plusWeeks=function(n){return this.plusDays(p.safeMultiply(n,7))},a.plusDays=function(n){if(n===0)return this;var s=p.safeAdd(this.toEpochDay(),n);return u.ofEpochDay(s)},a._minusUnit=function(n,s){return y(n,"amountToSubtract"),y(s,"unit"),this._plusUnit(-1*n,s)},a.minusYears=function(n){return this.plusYears(n*-1)},a.minusMonths=function(n){return this.plusMonths(n*-1)},a.minusWeeks=function(n){return this.plusWeeks(n*-1)},a.minusDays=function(n){return this.plusDays(n*-1)},a.query=function(n){return y(n,"query"),n===x.localDate()?this:_.prototype.query.call(this,n)},a.adjustInto=function(n){return _.prototype.adjustInto.call(this,n)},a.until=function(n,s){return arguments.length<2?this.until1(n):this.until2(n,s)},a.until2=function(n,s){var f=u.from(n);if(s instanceof v){switch(s){case v.DAYS:return this.daysUntil(f);case v.WEEKS:return p.intDiv(this.daysUntil(f),7);case v.MONTHS:return this._monthsUntil(f);case v.YEARS:return p.intDiv(this._monthsUntil(f),12);case v.DECADES:return p.intDiv(this._monthsUntil(f),120);case v.CENTURIES:return p.intDiv(this._monthsUntil(f),1200);case v.MILLENNIA:return p.intDiv(this._monthsUntil(f),12e3);case v.ERAS:return f.getLong(d.ERA)-this.getLong(d.ERA)}throw new l("Unsupported unit: "+s)}return s.between(this,f)},a.daysUntil=function(n){return n.toEpochDay()-this.toEpochDay()},a._monthsUntil=function(n){var s=this._prolepticMonth()*32+this.dayOfMonth(),f=n._prolepticMonth()*32+n.dayOfMonth();return p.intDiv(f-s,32)},a.until1=function(n){var s=u.from(n),f=s._prolepticMonth()-this._prolepticMonth(),E=s._day-this._day;if(f>0&&E<0){f--;var w=this.plusMonths(f);E=s.toEpochDay()-w.toEpochDay()}else f<0&&E>0&&(f++,E-=s.lengthOfMonth());var b=p.intDiv(f,12),M=p.intMod(f,12);return Mt.of(b,M,E)},a.atTime=function(){return arguments.length===1?this.atTime1.apply(this,arguments):this.atTime4.apply(this,arguments)},a.atTime1=function(n){if(y(n,"time"),n instanceof C)return fe.of(this,n);if(n instanceof Nt)return this._atTimeOffsetTime(n);throw new h("time must be an instance of LocalTime or OffsetTime"+(n&&n.constructor&&n.constructor.name?", but is "+n.constructor.name:""))},a.atTime4=function(n,s,f,E){return f===void 0&&(f=0),E===void 0&&(E=0),this.atTime1(C.of(n,s,f,E))},a._atTimeOffsetTime=function(n){return gt.of(fe.of(this,n.toLocalTime()),n.offset())},a.atStartOfDay=function(n){return n!=null?this._atStartOfDayWithZone(n):fe.of(this,C.MIDNIGHT)},a._atStartOfDayWithZone=function(n){y(n,"zone");var s=this.atTime(C.MIDNIGHT);if(!(n instanceof Z)){var f=n.rules().transition(s);f!=null&&f.isGap()&&(s=f.dateTimeAfter())}return _t.of(s,n)},a.toEpochDay=function(){var n=this._year,s=this._month,f=0;return f+=365*n,n>=0?f+=p.intDiv(n+3,4)-p.intDiv(n+99,100)+p.intDiv(n+399,400):f-=p.intDiv(n,-4)-p.intDiv(n,-100)+p.intDiv(n,-400),f+=p.intDiv(367*s-362,12),f+=this.dayOfMonth()-1,s>2&&(f--,ce.isLeapYear(n)||f--),f-Gd},a.compareTo=function(n){return y(n,"other"),U(n,u,"other"),this._compareTo0(n)},a._compareTo0=function(n){var s=this._year-n._year;return s===0&&(s=this._month-n._month,s===0&&(s=this._day-n._day)),s},a.isAfter=function(n){return this.compareTo(n)>0},a.isBefore=function(n){return this.compareTo(n)<0},a.isEqual=function(n){return this.compareTo(n)===0},a.equals=function(n){return this===n?!0:n instanceof u?this._compareTo0(n)===0:!1},a.hashCode=function(){var n=this._year,s=this._month,f=this._day;return p.hash(n&4294965248^(n<<11)+(s<<6)+f)},a.toString=function(){var n,s,f,E=this._year,w=this._month,b=this._day,M=Math.abs(E);return M<1e3?E<0?f="-"+(""+(E-1e4)).slice(-4):f=(""+(E+1e4)).slice(-4):E>9999?f="+"+E:f=""+E,w<10?s="-0"+w:s="-"+w,b<10?n="-0"+b:n="-"+b,f+s+n},a.toJSON=function(){return this.toString()},a.format=function(n){return y(n,"formatter"),U(n,Q,"formatter"),_.prototype.format.call(this,n)},u}(zn);function EA(){H.MIN=H.of(Ce.MIN_VALUE,1,1),H.MAX=H.of(Ce.MAX_VALUE,12,31),H.EPOCH_0=H.ofEpochDay(0),H.FROM=Me("LocalDate.FROM",function(_){return H.from(_)})}var qu=function(_){A(u,_);function u(){return _.apply(this,arguments)||this}var a=u.prototype;return a.chronology=function(){return this.toLocalDate().chronology()},a.query=function(n){return n===x.chronology()?this.chronology():n===x.precision()?v.NANOS:n===x.localDate()?H.ofEpochDay(this.toLocalDate().toEpochDay()):n===x.localTime()?this.toLocalTime():n===x.zone()||n===x.zoneId()||n===x.offset()?null:_.prototype.query.call(this,n)},a.adjustInto=function(n){return n.with(d.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(d.NANO_OF_DAY,this.toLocalTime().toNanoOfDay())},a.toInstant=function(n){return U(n,Z,"zoneId"),ge.ofEpochSecond(this.toEpochSecond(n),this.toLocalTime().nano())},a.toEpochSecond=function(n){y(n,"offset");var s=this.toLocalDate().toEpochDay(),f=s*86400+this.toLocalTime().toSecondOfDay();return f-=n.totalSeconds(),p.safeToInt(f)},u}(Qe),fe=function(_){A(u,_),u.now=function(n){return n==null?u._now(pe.systemDefaultZone()):n instanceof pe?u._now(n):u._now(pe.system(n))},u._now=function(n){return y(n,"clock"),u.ofInstant(n.instant(),n.zone())},u._ofEpochMillis=function(n,s){var f=p.floorDiv(n,1e3)+s.totalSeconds(),E=p.floorDiv(f,C.SECONDS_PER_DAY),w=p.floorMod(f,C.SECONDS_PER_DAY),b=p.floorMod(n,1e3)*1e6,M=H.ofEpochDay(E),k=C.ofSecondOfDay(w,b);return new u(M,k)},u.of=function(){return arguments.length<=2?u.ofDateAndTime.apply(this,arguments):u.ofNumbers.apply(this,arguments)},u.ofNumbers=function(n,s,f,E,w,b,M){E===void 0&&(E=0),w===void 0&&(w=0),b===void 0&&(b=0),M===void 0&&(M=0);var k=H.of(n,s,f),V=C.of(E,w,b,M);return new u(k,V)},u.ofDateAndTime=function(n,s){return y(n,"date"),y(s,"time"),new u(n,s)},u.ofInstant=function(n,s){s===void 0&&(s=le.systemDefault()),y(n,"instant"),U(n,ge,"instant"),y(s,"zone");var f=s.rules().offset(n);return u.ofEpochSecond(n.epochSecond(),n.nano(),f)},u.ofEpochSecond=function(n,s,f){n===void 0&&(n=0),s===void 0&&(s=0),arguments.length===2&&s instanceof Z&&(f=s,s=0),y(f,"offset");var E=n+f.totalSeconds(),w=p.floorDiv(E,C.SECONDS_PER_DAY),b=p.floorMod(E,C.SECONDS_PER_DAY),M=H.ofEpochDay(w),k=C.ofSecondOfDay(b,s);return new u(M,k)},u.from=function(n){if(y(n,"temporal"),n instanceof u)return n;if(n instanceof _t)return n.toLocalDateTime();try{var s=H.from(n),f=C.from(n);return new u(s,f)}catch{throw new r("Unable to obtain LocalDateTime TemporalAccessor: "+n+", type "+(n.constructor!=null?n.constructor.name:""))}},u.parse=function(n,s){return s===void 0&&(s=Q.ISO_LOCAL_DATE_TIME),y(s,"formatter"),s.parse(n,u.FROM)};function u(i,n){var s;return s=_.call(this)||this,U(i,H,"date"),U(n,C,"time"),s._date=i,s._time=n,s}var a=u.prototype;return a._withDateTime=function(n,s){return this._date.equals(n)&&this._time.equals(s)?this:new u(n,s)},a.isSupported=function(n){return n instanceof d||n instanceof v?n.isDateBased()||n.isTimeBased():n!=null&&n.isSupportedBy(this)},a.range=function(n){return n instanceof d?n.isTimeBased()?this._time.range(n):this._date.range(n):n.rangeRefinedBy(this)},a.get=function(n){return n instanceof d?n.isTimeBased()?this._time.get(n):this._date.get(n):_.prototype.get.call(this,n)},a.getLong=function(n){return y(n,"field"),n instanceof d?n.isTimeBased()?this._time.getLong(n):this._date.getLong(n):n.getFrom(this)},a.year=function(){return this._date.year()},a.monthValue=function(){return this._date.monthValue()},a.month=function(){return this._date.month()},a.dayOfMonth=function(){return this._date.dayOfMonth()},a.dayOfYear=function(){return this._date.dayOfYear()},a.dayOfWeek=function(){return this._date.dayOfWeek()},a.hour=function(){return this._time.hour()},a.minute=function(){return this._time.minute()},a.second=function(){return this._time.second()},a.nano=function(){return this._time.nano()},a._withAdjuster=function(n){return y(n,"adjuster"),n instanceof H?this._withDateTime(n,this._time):n instanceof C?this._withDateTime(this._date,n):n instanceof u?n:_.prototype._withAdjuster.call(this,n)},a._withField=function(n,s){return y(n,"field"),n instanceof d?n.isTimeBased()?this._withDateTime(this._date,this._time.with(n,s)):this._withDateTime(this._date.with(n,s),this._time):n.adjustInto(this,s)},a.withYear=function(n){return this._withDateTime(this._date.withYear(n),this._time)},a.withMonth=function(n){return this._withDateTime(this._date.withMonth(n),this._time)},a.withDayOfMonth=function(n){return this._withDateTime(this._date.withDayOfMonth(n),this._time)},a.withDayOfYear=function(n){return this._withDateTime(this._date.withDayOfYear(n),this._time)},a.withHour=function(n){var s=this._time.withHour(n);return this._withDateTime(this._date,s)},a.withMinute=function(n){var s=this._time.withMinute(n);return this._withDateTime(this._date,s)},a.withSecond=function(n){var s=this._time.withSecond(n);return this._withDateTime(this._date,s)},a.withNano=function(n){var s=this._time.withNano(n);return this._withDateTime(this._date,s)},a.truncatedTo=function(n){return this._withDateTime(this._date,this._time.truncatedTo(n))},a._plusUnit=function(n,s){if(y(s,"unit"),s instanceof v){switch(s){case v.NANOS:return this.plusNanos(n);case v.MICROS:return this.plusDays(p.intDiv(n,C.MICROS_PER_DAY)).plusNanos(p.intMod(n,C.MICROS_PER_DAY)*1e3);case v.MILLIS:return this.plusDays(p.intDiv(n,C.MILLIS_PER_DAY)).plusNanos(p.intMod(n,C.MILLIS_PER_DAY)*1e6);case v.SECONDS:return this.plusSeconds(n);case v.MINUTES:return this.plusMinutes(n);case v.HOURS:return this.plusHours(n);case v.HALF_DAYS:return this.plusDays(p.intDiv(n,256)).plusHours(p.intMod(n,256)*12)}return this._withDateTime(this._date.plus(n,s),this._time)}return s.addTo(this,n)},a.plusYears=function(n){var s=this._date.plusYears(n);return this._withDateTime(s,this._time)},a.plusMonths=function(n){var s=this._date.plusMonths(n);return this._withDateTime(s,this._time)},a.plusWeeks=function(n){var s=this._date.plusWeeks(n);return this._withDateTime(s,this._time)},a.plusDays=function(n){var s=this._date.plusDays(n);return this._withDateTime(s,this._time)},a.plusHours=function(n){return this._plusWithOverflow(this._date,n,0,0,0,1)},a.plusMinutes=function(n){return this._plusWithOverflow(this._date,0,n,0,0,1)},a.plusSeconds=function(n){return this._plusWithOverflow(this._date,0,0,n,0,1)},a.plusNanos=function(n){return this._plusWithOverflow(this._date,0,0,0,n,1)},a._minusUnit=function(n,s){return y(s,"unit"),this._plusUnit(-1*n,s)},a.minusYears=function(n){return this.plusYears(-1*n)},a.minusMonths=function(n){return this.plusMonths(-1*n)},a.minusWeeks=function(n){return this.plusWeeks(-1*n)},a.minusDays=function(n){return this.plusDays(-1*n)},a.minusHours=function(n){return this._plusWithOverflow(this._date,n,0,0,0,-1)},a.minusMinutes=function(n){return this._plusWithOverflow(this._date,0,n,0,0,-1)},a.minusSeconds=function(n){return this._plusWithOverflow(this._date,0,0,n,0,-1)},a.minusNanos=function(n){return this._plusWithOverflow(this._date,0,0,0,n,-1)},a._plusWithOverflow=function(n,s,f,E,w,b){if(s===0&&f===0&&E===0&&w===0)return this._withDateTime(n,this._time);var M=p.intDiv(w,C.NANOS_PER_DAY)+p.intDiv(E,C.SECONDS_PER_DAY)+p.intDiv(f,C.MINUTES_PER_DAY)+p.intDiv(s,C.HOURS_PER_DAY);M*=b;var k=p.intMod(w,C.NANOS_PER_DAY)+p.intMod(E,C.SECONDS_PER_DAY)*C.NANOS_PER_SECOND+p.intMod(f,C.MINUTES_PER_DAY)*C.NANOS_PER_MINUTE+p.intMod(s,C.HOURS_PER_DAY)*C.NANOS_PER_HOUR,V=this._time.toNanoOfDay();k=k*b+V,M+=p.floorDiv(k,C.NANOS_PER_DAY);var $=p.floorMod(k,C.NANOS_PER_DAY),j=$===V?this._time:C.ofNanoOfDay($);return this._withDateTime(n.plusDays(M),j)},a.query=function(n){return y(n,"query"),n===x.localDate()?this.toLocalDate():_.prototype.query.call(this,n)},a.adjustInto=function(n){return _.prototype.adjustInto.call(this,n)},a.until=function(n,s){y(n,"endExclusive"),y(s,"unit");var f=u.from(n);if(s instanceof v){if(s.isTimeBased()){var E=this._date.daysUntil(f._date),w=f._time.toNanoOfDay()-this._time.toNanoOfDay();E>0&&w<0?(E--,w+=C.NANOS_PER_DAY):E<0&&w>0&&(E++,w-=C.NANOS_PER_DAY);var b=E;switch(s){case v.NANOS:return b=p.safeMultiply(b,C.NANOS_PER_DAY),p.safeAdd(b,w);case v.MICROS:return b=p.safeMultiply(b,C.MICROS_PER_DAY),p.safeAdd(b,p.intDiv(w,1e3));case v.MILLIS:return b=p.safeMultiply(b,C.MILLIS_PER_DAY),p.safeAdd(b,p.intDiv(w,1e6));case v.SECONDS:return b=p.safeMultiply(b,C.SECONDS_PER_DAY),p.safeAdd(b,p.intDiv(w,C.NANOS_PER_SECOND));case v.MINUTES:return b=p.safeMultiply(b,C.MINUTES_PER_DAY),p.safeAdd(b,p.intDiv(w,C.NANOS_PER_MINUTE));case v.HOURS:return b=p.safeMultiply(b,C.HOURS_PER_DAY),p.safeAdd(b,p.intDiv(w,C.NANOS_PER_HOUR));case v.HALF_DAYS:return b=p.safeMultiply(b,2),p.safeAdd(b,p.intDiv(w,C.NANOS_PER_HOUR*12))}throw new l("Unsupported unit: "+s)}var M=f._date,k=f._time;return M.isAfter(this._date)&&k.isBefore(this._time)?M=M.minusDays(1):M.isBefore(this._date)&&k.isAfter(this._time)&&(M=M.plusDays(1)),this._date.until(M,s)}return s.between(this,f)},a.atOffset=function(n){return gt.of(this,n)},a.atZone=function(n){return _t.of(this,n)},a.toLocalDate=function(){return this._date},a.toLocalTime=function(){return this._time},a.compareTo=function(n){return y(n,"other"),U(n,u,"other"),this._compareTo0(n)},a._compareTo0=function(n){var s=this._date.compareTo(n.toLocalDate());return s===0&&(s=this._time.compareTo(n.toLocalTime())),s},a.isAfter=function(n){return this.compareTo(n)>0},a.isBefore=function(n){return this.compareTo(n)<0},a.isEqual=function(n){return this.compareTo(n)===0},a.equals=function(n){return this===n?!0:n instanceof u?this._date.equals(n._date)&&this._time.equals(n._time):!1},a.hashCode=function(){return this._date.hashCode()^this._time.hashCode()},a.toString=function(){return this._date.toString()+"T"+this._time.toString()},a.toJSON=function(){return this.toString()},a.format=function(n){return y(n,"formatter"),n.format(this)},u}(qu);function yA(){fe.MIN=fe.of(H.MIN,C.MIN),fe.MAX=fe.of(H.MAX,C.MAX),fe.FROM=Me("LocalDateTime.FROM",function(_){return fe.from(_)})}var C=function(_){A(u,_),u.now=function(n){return n==null?u._now(pe.systemDefaultZone()):n instanceof pe?u._now(n):u._now(pe.system(n))},u._now=function(n){return n===void 0&&(n=pe.systemDefaultZone()),y(n,"clock"),u.ofInstant(n.instant(),n.zone())},u.ofInstant=function(n,s){s===void 0&&(s=le.systemDefault());var f=s.rules().offset(n),E=p.intMod(n.epochSecond(),u.SECONDS_PER_DAY);return E=p.intMod(E+f.totalSeconds(),u.SECONDS_PER_DAY),E<0&&(E+=u.SECONDS_PER_DAY),u.ofSecondOfDay(E,n.nano())},u.of=function(n,s,f,E){return new u(n,s,f,E)},u.ofSecondOfDay=function(n,s){n===void 0&&(n=0),s===void 0&&(s=0),d.SECOND_OF_DAY.checkValidValue(n),d.NANO_OF_SECOND.checkValidValue(s);var f=p.intDiv(n,u.SECONDS_PER_HOUR);n-=f*u.SECONDS_PER_HOUR;var E=p.intDiv(n,u.SECONDS_PER_MINUTE);return n-=E*u.SECONDS_PER_MINUTE,new u(f,E,n,s)},u.ofNanoOfDay=function(n){n===void 0&&(n=0),d.NANO_OF_DAY.checkValidValue(n);var s=p.intDiv(n,u.NANOS_PER_HOUR);n-=s*u.NANOS_PER_HOUR;var f=p.intDiv(n,u.NANOS_PER_MINUTE);n-=f*u.NANOS_PER_MINUTE;var E=p.intDiv(n,u.NANOS_PER_SECOND);return n-=E*u.NANOS_PER_SECOND,new u(s,f,E,n)},u.from=function(n){y(n,"temporal");var s=n.query(x.localTime());if(s==null)throw new r("Unable to obtain LocalTime TemporalAccessor: "+n+", type "+(n.constructor!=null?n.constructor.name:""));return s},u.parse=function(n,s){return s===void 0&&(s=Q.ISO_LOCAL_TIME),y(s,"formatter"),s.parse(n,u.FROM)};function u(i,n,s,f){var E;i===void 0&&(i=0),n===void 0&&(n=0),s===void 0&&(s=0),f===void 0&&(f=0),E=_.call(this)||this;var w=p.safeToInt(i),b=p.safeToInt(n),M=p.safeToInt(s),k=p.safeToInt(f);return u._validate(w,b,M,k),b===0&&M===0&&k===0?(u.HOURS[w]||(E._hour=w,E._minute=b,E._second=M,E._nano=k,u.HOURS[w]=F(E)),u.HOURS[w]||F(E)):(E._hour=w,E._minute=b,E._second=M,E._nano=k,E)}u._validate=function(n,s,f,E){d.HOUR_OF_DAY.checkValidValue(n),d.MINUTE_OF_HOUR.checkValidValue(s),d.SECOND_OF_MINUTE.checkValidValue(f),d.NANO_OF_SECOND.checkValidValue(E)};var a=u.prototype;return a.isSupported=function(n){return n instanceof d||n instanceof v?n.isTimeBased():n!=null&&n.isSupportedBy(this)},a.range=function(n){return y(n),_.prototype.range.call(this,n)},a.get=function(n){return this.getLong(n)},a.getLong=function(n){return y(n,"field"),n instanceof d?this._get0(n):n.getFrom(this)},a._get0=function(n){switch(n){case d.NANO_OF_SECOND:return this._nano;case d.NANO_OF_DAY:return this.toNanoOfDay();case d.MICRO_OF_SECOND:return p.intDiv(this._nano,1e3);case d.MICRO_OF_DAY:return p.intDiv(this.toNanoOfDay(),1e3);case d.MILLI_OF_SECOND:return p.intDiv(this._nano,1e6);case d.MILLI_OF_DAY:return p.intDiv(this.toNanoOfDay(),1e6);case d.SECOND_OF_MINUTE:return this._second;case d.SECOND_OF_DAY:return this.toSecondOfDay();case d.MINUTE_OF_HOUR:return this._minute;case d.MINUTE_OF_DAY:return this._hour*60+this._minute;case d.HOUR_OF_AMPM:return p.intMod(this._hour,12);case d.CLOCK_HOUR_OF_AMPM:{var s=p.intMod(this._hour,12);return s%12===0?12:s}case d.HOUR_OF_DAY:return this._hour;case d.CLOCK_HOUR_OF_DAY:return this._hour===0?24:this._hour;case d.AMPM_OF_DAY:return p.intDiv(this._hour,12)}throw new l("Unsupported field: "+n)},a.hour=function(){return this._hour},a.minute=function(){return this._minute},a.second=function(){return this._second},a.nano=function(){return this._nano},a._withAdjuster=function(n){return y(n,"adjuster"),n instanceof u?n:_.prototype._withAdjuster.call(this,n)},a._withField=function(n,s){if(y(n,"field"),U(n,ut,"field"),n instanceof d){switch(n.checkValidValue(s),n){case d.NANO_OF_SECOND:return this.withNano(s);case d.NANO_OF_DAY:return u.ofNanoOfDay(s);case d.MICRO_OF_SECOND:return this.withNano(s*1e3);case d.MICRO_OF_DAY:return u.ofNanoOfDay(s*1e3);case d.MILLI_OF_SECOND:return this.withNano(s*1e6);case d.MILLI_OF_DAY:return u.ofNanoOfDay(s*1e6);case d.SECOND_OF_MINUTE:return this.withSecond(s);case d.SECOND_OF_DAY:return this.plusSeconds(s-this.toSecondOfDay());case d.MINUTE_OF_HOUR:return this.withMinute(s);case d.MINUTE_OF_DAY:return this.plusMinutes(s-(this._hour*60+this._minute));case d.HOUR_OF_AMPM:return this.plusHours(s-p.intMod(this._hour,12));case d.CLOCK_HOUR_OF_AMPM:return this.plusHours((s===12?0:s)-p.intMod(this._hour,12));case d.HOUR_OF_DAY:return this.withHour(s);case d.CLOCK_HOUR_OF_DAY:return this.withHour(s===24?0:s);case d.AMPM_OF_DAY:return this.plusHours((s-p.intDiv(this._hour,12))*12)}throw new l("Unsupported field: "+n)}return n.adjustInto(this,s)},a.withHour=function(n){return n===void 0&&(n=0),this._hour===n?this:new u(n,this._minute,this._second,this._nano)},a.withMinute=function(n){return n===void 0&&(n=0),this._minute===n?this:new u(this._hour,n,this._second,this._nano)},a.withSecond=function(n){return n===void 0&&(n=0),this._second===n?this:new u(this._hour,this._minute,n,this._nano)},a.withNano=function(n){return n===void 0&&(n=0),this._nano===n?this:new u(this._hour,this._minute,this._second,n)},a.truncatedTo=function(n){if(y(n,"unit"),n===v.NANOS)return this;var s=n.duration();if(s.seconds()>u.SECONDS_PER_DAY)throw new r("Unit is too large to be used for truncation");var f=s.toNanos();if(p.intMod(u.NANOS_PER_DAY,f)!==0)throw new r("Unit must divide into a standard day without remainder");var E=this.toNanoOfDay();return u.ofNanoOfDay(p.intDiv(E,f)*f)},a._plusUnit=function(n,s){if(y(s,"unit"),s instanceof v){switch(s){case v.NANOS:return this.plusNanos(n);case v.MICROS:return this.plusNanos(p.intMod(n,u.MICROS_PER_DAY)*1e3);case v.MILLIS:return this.plusNanos(p.intMod(n,u.MILLIS_PER_DAY)*1e6);case v.SECONDS:return this.plusSeconds(n);case v.MINUTES:return this.plusMinutes(n);case v.HOURS:return this.plusHours(n);case v.HALF_DAYS:return this.plusHours(p.intMod(n,2)*12)}throw new l("Unsupported unit: "+s)}return s.addTo(this,n)},a.plusHours=function(n){if(n===0)return this;var s=p.intMod(p.intMod(n,u.HOURS_PER_DAY)+this._hour+u.HOURS_PER_DAY,u.HOURS_PER_DAY);return new u(s,this._minute,this._second,this._nano)},a.plusMinutes=function(n){if(n===0)return this;var s=this._hour*u.MINUTES_PER_HOUR+this._minute,f=p.intMod(p.intMod(n,u.MINUTES_PER_DAY)+s+u.MINUTES_PER_DAY,u.MINUTES_PER_DAY);if(s===f)return this;var E=p.intDiv(f,u.MINUTES_PER_HOUR),w=p.intMod(f,u.MINUTES_PER_HOUR);return new u(E,w,this._second,this._nano)},a.plusSeconds=function(n){if(n===0)return this;var s=this._hour*u.SECONDS_PER_HOUR+this._minute*u.SECONDS_PER_MINUTE+this._second,f=p.intMod(p.intMod(n,u.SECONDS_PER_DAY)+s+u.SECONDS_PER_DAY,u.SECONDS_PER_DAY);if(s===f)return this;var E=p.intDiv(f,u.SECONDS_PER_HOUR),w=p.intMod(p.intDiv(f,u.SECONDS_PER_MINUTE),u.MINUTES_PER_HOUR),b=p.intMod(f,u.SECONDS_PER_MINUTE);return new u(E,w,b,this._nano)},a.plusNanos=function(n){if(n===0)return this;var s=this.toNanoOfDay(),f=p.intMod(p.intMod(n,u.NANOS_PER_DAY)+s+u.NANOS_PER_DAY,u.NANOS_PER_DAY);if(s===f)return this;var E=p.intDiv(f,u.NANOS_PER_HOUR),w=p.intMod(p.intDiv(f,u.NANOS_PER_MINUTE),u.MINUTES_PER_HOUR),b=p.intMod(p.intDiv(f,u.NANOS_PER_SECOND),u.SECONDS_PER_MINUTE),M=p.intMod(f,u.NANOS_PER_SECOND);return new u(E,w,b,M)},a._minusUnit=function(n,s){return y(s,"unit"),this._plusUnit(-1*n,s)},a.minusHours=function(n){return this.plusHours(-1*p.intMod(n,u.HOURS_PER_DAY))},a.minusMinutes=function(n){return this.plusMinutes(-1*p.intMod(n,u.MINUTES_PER_DAY))},a.minusSeconds=function(n){return this.plusSeconds(-1*p.intMod(n,u.SECONDS_PER_DAY))},a.minusNanos=function(n){return this.plusNanos(-1*p.intMod(n,u.NANOS_PER_DAY))},a.query=function(n){return y(n,"query"),n===x.precision()?v.NANOS:n===x.localTime()?this:n===x.chronology()||n===x.zoneId()||n===x.zone()||n===x.offset()||n===x.localDate()?null:n.queryFrom(this)},a.adjustInto=function(n){return n.with(u.NANO_OF_DAY,this.toNanoOfDay())},a.until=function(n,s){y(n,"endExclusive"),y(s,"unit");var f=u.from(n);if(s instanceof v){var E=f.toNanoOfDay()-this.toNanoOfDay();switch(s){case v.NANOS:return E;case v.MICROS:return p.intDiv(E,1e3);case v.MILLIS:return p.intDiv(E,1e6);case v.SECONDS:return p.intDiv(E,u.NANOS_PER_SECOND);case v.MINUTES:return p.intDiv(E,u.NANOS_PER_MINUTE);case v.HOURS:return p.intDiv(E,u.NANOS_PER_HOUR);case v.HALF_DAYS:return p.intDiv(E,12*u.NANOS_PER_HOUR)}throw new l("Unsupported unit: "+s)}return s.between(this,f)},a.atDate=function(n){return fe.of(n,this)},a.atOffset=function(n){return Nt.of(this,n)},a.toSecondOfDay=function(){var n=this._hour*u.SECONDS_PER_HOUR;return n+=this._minute*u.SECONDS_PER_MINUTE,n+=this._second,n},a.toNanoOfDay=function(){var n=this._hour*u.NANOS_PER_HOUR;return n+=this._minute*u.NANOS_PER_MINUTE,n+=this._second*u.NANOS_PER_SECOND,n+=this._nano,n},a.compareTo=function(n){y(n,"other"),U(n,u,"other");var s=p.compareNumbers(this._hour,n._hour);return s===0&&(s=p.compareNumbers(this._minute,n._minute),s===0&&(s=p.compareNumbers(this._second,n._second),s===0&&(s=p.compareNumbers(this._nano,n._nano)))),s},a.isAfter=function(n){return this.compareTo(n)>0},a.isBefore=function(n){return this.compareTo(n)<0},a.equals=function(n){return this===n?!0:n instanceof u?this._hour===n._hour&&this._minute===n._minute&&this._second===n._second&&this._nano===n._nano:!1},a.hashCode=function(){var n=this.toNanoOfDay();return p.hash(n)},a.toString=function(){var n="",s=this._hour,f=this._minute,E=this._second,w=this._nano;return n+=s<10?"0":"",n+=s,n+=f<10?":0":":",n+=f,(E>0||w>0)&&(n+=E<10?":0":":",n+=E,w>0&&(n+=".",p.intMod(w,1e6)===0?n+=(""+(p.intDiv(w,1e6)+1e3)).substring(1):p.intMod(w,1e3)===0?n+=(""+(p.intDiv(w,1e3)+1e6)).substring(1):n+=(""+(w+1e9)).substring(1))),n},a.toJSON=function(){return this.toString()},a.format=function(n){return y(n,"formatter"),n.format(this)},u}(Qe);function wA(){C.HOURS=[];for(var _=0;_<24;_++)C.of(_,0,0,0);C.MIN=C.HOURS[0],C.MAX=new C(23,59,59,999999999),C.MIDNIGHT=C.HOURS[0],C.NOON=C.HOURS[12],C.FROM=Me("LocalTime.FROM",function(u){return C.from(u)})}C.HOURS_PER_DAY=24,C.MINUTES_PER_HOUR=60,C.MINUTES_PER_DAY=C.MINUTES_PER_HOUR*C.HOURS_PER_DAY,C.SECONDS_PER_MINUTE=60,C.SECONDS_PER_HOUR=C.SECONDS_PER_MINUTE*C.MINUTES_PER_HOUR,C.SECONDS_PER_DAY=C.SECONDS_PER_HOUR*C.HOURS_PER_DAY,C.MILLIS_PER_DAY=C.SECONDS_PER_DAY*1e3,C.MICROS_PER_DAY=C.SECONDS_PER_DAY*1e6,C.NANOS_PER_SECOND=1e9,C.NANOS_PER_MINUTE=C.NANOS_PER_SECOND*C.SECONDS_PER_MINUTE,C.NANOS_PER_HOUR=C.NANOS_PER_MINUTE*C.MINUTES_PER_HOUR,C.NANOS_PER_DAY=C.NANOS_PER_HOUR*C.HOURS_PER_DAY;var no=1e6,ge=function(_){A(u,_),u.now=function(n){return n===void 0&&(n=pe.systemUTC()),n.instant()},u.ofEpochSecond=function(n,s){s===void 0&&(s=0);var f=n+p.floorDiv(s,C.NANOS_PER_SECOND),E=p.floorMod(s,C.NANOS_PER_SECOND);return u._create(f,E)},u.ofEpochMilli=function(n){var s=p.floorDiv(n,1e3),f=p.floorMod(n,1e3);return u._create(s,f*1e6)},u.ofEpochMicro=function(n){var s=p.floorDiv(n,1e6),f=p.floorMod(n,1e6);return u._create(s,f*1e3)},u.from=function(n){try{var s=n.getLong(d.INSTANT_SECONDS),f=n.get(d.NANO_OF_SECOND);return u.ofEpochSecond(s,f)}catch(E){throw new r("Unable to obtain Instant from TemporalAccessor: "+n+", type "+typeof n,E)}},u.parse=function(n){return Q.ISO_INSTANT.parse(n,u.FROM)},u._create=function(n,s){return n===0&&s===0?u.EPOCH:new u(n,s)},u._validate=function(n,s){if(n<u.MIN_SECONDS||n>u.MAX_SECONDS)throw new r("Instant exceeds minimum or maximum instant");if(s<0||s>C.NANOS_PER_SECOND)throw new r("Instant exceeds minimum or maximum instant")};function u(i,n){var s;return s=_.call(this)||this,u._validate(i,n),s._seconds=p.safeToInt(i),s._nanos=p.safeToInt(n),s}var a=u.prototype;return a.isSupported=function(n){return n instanceof d?n===d.INSTANT_SECONDS||n===d.NANO_OF_SECOND||n===d.MICRO_OF_SECOND||n===d.MILLI_OF_SECOND:n instanceof v?n.isTimeBased()||n===v.DAYS:n!=null&&n.isSupportedBy(this)},a.range=function(n){return _.prototype.range.call(this,n)},a.get=function(n){return this.getLong(n)},a.getLong=function(n){if(n instanceof d){switch(n){case d.NANO_OF_SECOND:return this._nanos;case d.MICRO_OF_SECOND:return p.intDiv(this._nanos,1e3);case d.MILLI_OF_SECOND:return p.intDiv(this._nanos,no);case d.INSTANT_SECONDS:return this._seconds}throw new l("Unsupported field: "+n)}return n.getFrom(this)},a.epochSecond=function(){return this._seconds},a.nano=function(){return this._nanos},a._withField=function(n,s){if(y(n,"field"),n instanceof d){switch(n.checkValidValue(s),n){case d.MILLI_OF_SECOND:{var f=s*no;return f!==this._nanos?u._create(this._seconds,f):this}case d.MICRO_OF_SECOND:{var E=s*1e3;return E!==this._nanos?u._create(this._seconds,E):this}case d.NANO_OF_SECOND:return s!==this._nanos?u._create(this._seconds,s):this;case d.INSTANT_SECONDS:return s!==this._seconds?u._create(s,this._nanos):this}throw new l("Unsupported field: "+n)}return n.adjustInto(this,s)},a.truncatedTo=function(n){if(y(n,"unit"),n===v.NANOS)return this;var s=n.duration();if(s.seconds()>C.SECONDS_PER_DAY)throw new r("Unit is too large to be used for truncation");var f=s.toNanos();if(p.intMod(C.NANOS_PER_DAY,f)!==0)throw new r("Unit must divide into a standard day without remainder");var E=p.intMod(this._seconds,C.SECONDS_PER_DAY)*C.NANOS_PER_SECOND+this._nanos,w=p.intDiv(E,f)*f;return this.plusNanos(w-E)},a._plusUnit=function(n,s){if(y(n,"amountToAdd"),y(s,"unit"),U(s,G),s instanceof v){switch(s){case v.NANOS:return this.plusNanos(n);case v.MICROS:return this.plusMicros(n);case v.MILLIS:return this.plusMillis(n);case v.SECONDS:return this.plusSeconds(n);case v.MINUTES:return this.plusSeconds(p.safeMultiply(n,C.SECONDS_PER_MINUTE));case v.HOURS:return this.plusSeconds(p.safeMultiply(n,C.SECONDS_PER_HOUR));case v.HALF_DAYS:return this.plusSeconds(p.safeMultiply(n,C.SECONDS_PER_DAY/2));case v.DAYS:return this.plusSeconds(p.safeMultiply(n,C.SECONDS_PER_DAY))}throw new l("Unsupported unit: "+s)}return s.addTo(this,n)},a.plusSeconds=function(n){return this._plus(n,0)},a.plusMillis=function(n){return this._plus(p.intDiv(n,1e3),p.intMod(n,1e3)*no)},a.plusNanos=function(n){return this._plus(0,n)},a.plusMicros=function(n){return this._plus(p.intDiv(n,1e6),p.intMod(n,1e6)*1e3)},a._plus=function(n,s){if(n===0&&s===0)return this;var f=this._seconds+n;f=f+p.intDiv(s,C.NANOS_PER_SECOND);var E=this._nanos+s%C.NANOS_PER_SECOND;return u.ofEpochSecond(f,E)},a._minusUnit=function(n,s){return this._plusUnit(-1*n,s)},a.minusSeconds=function(n){return this.plusSeconds(n*-1)},a.minusMillis=function(n){return this.plusMillis(-1*n)},a.minusNanos=function(n){return this.plusNanos(-1*n)},a.minusMicros=function(n){return this.plusMicros(-1*n)},a.query=function(n){return y(n,"query"),n===x.precision()?v.NANOS:n===x.localDate()||n===x.localTime()||n===x.chronology()||n===x.zoneId()||n===x.zone()||n===x.offset()?null:n.queryFrom(this)},a.adjustInto=function(n){return y(n,"temporal"),n.with(d.INSTANT_SECONDS,this._seconds).with(d.NANO_OF_SECOND,this._nanos)},a.until=function(n,s){y(n,"endExclusive"),y(s,"unit");var f=u.from(n);if(s instanceof v){switch(s){case v.NANOS:return this._nanosUntil(f);case v.MICROS:return this._microsUntil(f);case v.MILLIS:return p.safeSubtract(f.toEpochMilli(),this.toEpochMilli());case v.SECONDS:return this._secondsUntil(f);case v.MINUTES:return p.intDiv(this._secondsUntil(f),C.SECONDS_PER_MINUTE);case v.HOURS:return p.intDiv(this._secondsUntil(f),C.SECONDS_PER_HOUR);case v.HALF_DAYS:return p.intDiv(this._secondsUntil(f),12*C.SECONDS_PER_HOUR);case v.DAYS:return p.intDiv(this._secondsUntil(f),C.SECONDS_PER_DAY)}throw new l("Unsupported unit: "+s)}return s.between(this,f)},a._microsUntil=function(n){var s=p.safeSubtract(n.epochSecond(),this.epochSecond()),f=p.safeMultiply(s,1e6);return p.safeAdd(f,p.intDiv(n.nano()-this.nano(),1e3))},a._nanosUntil=function(n){var s=p.safeSubtract(n.epochSecond(),this.epochSecond()),f=p.safeMultiply(s,C.NANOS_PER_SECOND);return p.safeAdd(f,n.nano()-this.nano())},a._secondsUntil=function(n){var s=p.safeSubtract(n.epochSecond(),this.epochSecond()),f=n.nano()-this.nano();return s>0&&f<0?s--:s<0&&f>0&&s++,s},a.atOffset=function(n){return gt.ofInstant(this,n)},a.atZone=function(n){return _t.ofInstant(this,n)},a.toEpochMilli=function(){var n=p.safeMultiply(this._seconds,1e3);return n+p.intDiv(this._nanos,no)},a.compareTo=function(n){y(n,"otherInstant"),U(n,u,"otherInstant");var s=p.compareNumbers(this._seconds,n._seconds);return s!==0?s:this._nanos-n._nanos},a.isAfter=function(n){return this.compareTo(n)>0},a.isBefore=function(n){return this.compareTo(n)<0},a.equals=function(n){return this===n?!0:n instanceof u?this.epochSecond()===n.epochSecond()&&this.nano()===n.nano():!1},a.hashCode=function(){return p.hashCode(this._seconds,this._nanos)},a.toString=function(){return Q.ISO_INSTANT.format(this)},a.toJSON=function(){return this.toString()},u}(Qe);function vA(){ge.MIN_SECONDS=-31619119219200,ge.MAX_SECONDS=31494816403199,ge.EPOCH=new ge(0,0),ge.MIN=ge.ofEpochSecond(ge.MIN_SECONDS,0),ge.MAX=ge.ofEpochSecond(ge.MAX_SECONDS,999999999),ge.FROM=Me("Instant.FROM",function(_){return ge.from(_)})}var pe=function(){function _(){}_.systemUTC=function(){return new Bu(Z.UTC)},_.systemDefaultZone=function(){return new Bu(le.systemDefault())},_.system=function(i){return new Bu(i)},_.fixed=function(i,n){return new TA(i,n)},_.offset=function(i,n){return new SA(i,n)};var u=_.prototype;return u.millis=function(){S("Clock.millis")},u.instant=function(){S("Clock.instant")},u.zone=function(){S("Clock.zone")},u.withZone=function(){S("Clock.withZone")},_}(),Bu=function(_){A(u,_);function u(i){var n;return y(i,"zone"),n=_.call(this)||this,n._zone=i,n}var a=u.prototype;return a.zone=function(){return this._zone},a.millis=function(){return new Date().getTime()},a.instant=function(){return ge.ofEpochMilli(this.millis())},a.equals=function(n){return n instanceof u?this._zone.equals(n._zone):!1},a.withZone=function(n){return n.equals(this._zone)?this:new u(n)},a.toString=function(){return"SystemClock["+this._zone.toString()+"]"},u}(pe),TA=function(_){A(u,_);function u(i,n){var s;return s=_.call(this)||this,s._instant=i,s._zoneId=n,s}var a=u.prototype;return a.instant=function(){return this._instant},a.millis=function(){return this._instant.toEpochMilli()},a.zone=function(){return this._zoneId},a.toString=function(){return"FixedClock[]"},a.equals=function(n){return n instanceof u?this._instant.equals(n._instant)&&this._zoneId.equals(n._zoneId):!1},a.withZone=function(n){return n.equals(this._zoneId)?this:new u(this._instant,n)},u}(pe),SA=function(_){A(u,_);function u(i,n){var s;return s=_.call(this)||this,s._baseClock=i,s._offset=n,s}var a=u.prototype;return a.zone=function(){return this._baseClock.zone()},a.withZone=function(n){return n.equals(this._baseClock.zone())?this:new u(this._baseClock.withZone(n),this._offset)},a.millis=function(){return this._baseClock.millis()+this._offset.toMillis()},a.instant=function(){return this._baseClock.instant().plus(this._offset)},a.equals=function(n){return n instanceof u?this._baseClock.equals(n._baseClock)&&this._offset.equals(n._offset):!1},a.toString=function(){return"OffsetClock["+this._baseClock+","+this._offset+"]"},u}(pe);var $d=function(){_.of=function(i,n,s){return new _(i,n,s)};function _(a,i,n){if(y(a,"transition"),y(i,"offsetBefore"),y(n,"offsetAfter"),i.equals(n))throw new h("Offsets must not be equal");if(a.nano()!==0)throw new h("Nano-of-second must be zero");a instanceof fe?this._transition=a:this._transition=fe.ofEpochSecond(a,0,i),this._offsetBefore=i,this._offsetAfter=n}var u=_.prototype;return u.instant=function(){return this._transition.toInstant(this._offsetBefore)},u.toEpochSecond=function(){return this._transition.toEpochSecond(this._offsetBefore)},u.dateTimeBefore=function(){return this._transition},u.dateTimeAfter=function(){return this._transition.plusSeconds(this.durationSeconds())},u.offsetBefore=function(){return this._offsetBefore},u.offsetAfter=function(){return this._offsetAfter},u.duration=function(){return q.ofSeconds(this.durationSeconds())},u.durationSeconds=function(){return this._offsetAfter.totalSeconds()-this._offsetBefore.totalSeconds()},u.isGap=function(){return this._offsetAfter.totalSeconds()>this._offsetBefore.totalSeconds()},u.isOverlap=function(){return this._offsetAfter.totalSeconds()<this._offsetBefore.totalSeconds()},u.isValidOffset=function(i){return this.isGap()?!1:this._offsetBefore.equals(i)||this._offsetAfter.equals(i)},u.validOffsets=function(){return this.isGap()?[]:[this._offsetBefore,this._offsetAfter]},u.compareTo=function(i){return this.instant().compareTo(i.instant())},u.equals=function(i){if(i===this)return!0;if(i instanceof _){var n=i;return this._transition.equals(n._transition)&&this._offsetBefore.equals(n.offsetBefore())&&this._offsetAfter.equals(n.offsetAfter())}return!1},u.hashCode=function(){return this._transition.hashCode()^this._offsetBefore.hashCode()^this._offsetAfter.hashCode()>>>16},u.toString=function(){return"Transition["+(this.isGap()?"Gap":"Overlap")+" at "+this._transition.toString()+this._offsetBefore.toString()+" to "+this._offsetAfter+"]"},_}();function NA(){x.ZONE_ID=Me("ZONE_ID",function(_){return _.query(x.ZONE_ID)}),x.CHRONO=Me("CHRONO",function(_){return _.query(x.CHRONO)}),x.PRECISION=Me("PRECISION",function(_){return _.query(x.PRECISION)}),x.OFFSET=Me("OFFSET",function(_){return _.isSupported(d.OFFSET_SECONDS)?Z.ofTotalSeconds(_.get(d.OFFSET_SECONDS)):null}),x.ZONE=Me("ZONE",function(_){var u=_.query(x.ZONE_ID);return u??_.query(x.OFFSET)}),x.LOCAL_DATE=Me("LOCAL_DATE",function(_){return _.isSupported(d.EPOCH_DAY)?H.ofEpochDay(_.getLong(d.EPOCH_DAY)):null}),x.LOCAL_TIME=Me("LOCAL_TIME",function(_){return _.isSupported(d.NANO_OF_DAY)?C.ofNanoOfDay(_.getLong(d.NANO_OF_DAY)):null})}var OA=function(_){A(u,_);function u(){return _.apply(this,arguments)||this}var a=u.prototype;return a.isFixedOffset=function(){return!1},a.offsetOfInstant=function(n){var s=new Date(n.toEpochMilli()).getTimezoneOffset();return Z.ofTotalMinutes(s*-1)},a.offsetOfEpochMilli=function(n){var s=new Date(n).getTimezoneOffset();return Z.ofTotalMinutes(s*-1)},a.offsetOfLocalDateTime=function(n){var s=n.toEpochSecond(Z.UTC)*1e3,f=new Date(s).getTimezoneOffset(),E=s+f*6e4,w=new Date(E).getTimezoneOffset();return Z.ofTotalMinutes(w*-1)},a.validOffsets=function(n){return[this.offsetOfLocalDateTime(n)]},a.transition=function(){return null},a.standardOffset=function(n){return this.offsetOfInstant(n)},a.daylightSavings=function(){this._throwNotSupported()},a.isDaylightSavings=function(){this._throwNotSupported()},a.isValidOffset=function(n,s){return this.offsetOfLocalDateTime(n).equals(s)},a.nextTransition=function(){this._throwNotSupported()},a.previousTransition=function(){this._throwNotSupported()},a.transitions=function(){this._throwNotSupported()},a.transitionRules=function(){this._throwNotSupported()},a._throwNotSupported=function(){throw new r("not supported operation")},a.equals=function(n){return this===n||n instanceof u},a.toString=function(){return"SYSTEM"},u}(Hr),AA=function(_){A(u,_);function u(){var i;return i=_.call(this)||this,i._rules=new OA,i}var a=u.prototype;return a.rules=function(){return this._rules},a.equals=function(n){return this===n},a.id=function(){return"SYSTEM"},u}(le);var nr=function(){function _(){}return _.systemDefault=function(){return Yu},_.getAvailableZoneIds=function(){return $r.getAvailableZoneIds()},_.of=function(a){if(y(a,"zoneId"),a==="Z")return Z.UTC;if(a.length===1)throw new r("Invalid zone: "+a);if(Pt.startsWith(a,"+")||Pt.startsWith(a,"-"))return Z.of(a);if(a==="UTC"||a==="GMT"||a==="GMT0"||a==="UT")return new St(a,Z.UTC.rules());if(Pt.startsWith(a,"UTC+")||Pt.startsWith(a,"GMT+")||Pt.startsWith(a,"UTC-")||Pt.startsWith(a,"GMT-")){var i=Z.of(a.substring(3));return i.totalSeconds()===0?new St(a.substring(0,3),i.rules()):new St(a.substring(0,3)+i.id(),i.rules())}if(Pt.startsWith(a,"UT+")||Pt.startsWith(a,"UT-")){var n=Z.of(a.substring(2));return n.totalSeconds()===0?new St("UT",n.rules()):new St("UT"+n.id(),n.rules())}return a==="SYSTEM"?le.systemDefault():St.ofId(a)},_.ofOffset=function(a,i){if(y(a,"prefix"),y(i,"offset"),a.length===0)return i;if(a==="GMT"||a==="UTC"||a==="UT")return i.totalSeconds()===0?new St(a,i.rules()):new St(a+i.id(),i.rules());throw new h("Invalid prefix, must be GMT, UTC or UT: "+a)},_.from=function(a){y(a,"temporal");var i=a.query(x.zone());if(i==null)throw new r("Unable to obtain ZoneId from TemporalAccessor: "+a+", type "+(a.constructor!=null?a.constructor.name:""));return i},_}(),Yu=null;function IA(){Yu=new AA,le.systemDefault=nr.systemDefault,le.getAvailableZoneIds=nr.getAvailableZoneIds,le.of=nr.of,le.ofOffset=nr.ofOffset,le.from=nr.from,Z.from=nr.from,le.SYSTEM=Yu,le.UTC=Z.ofTotalSeconds(0)}var jd=!1;function bA(){jd||(jd=!0,An(),rt(),$n(),$O(),wA(),iA(),NA(),jO(),vA(),EA(),yA(),hA(),KO(),fA(),cA(),ZO(),JO(),gA(),IA(),dA(),lA(),uA(),mA(),pA())}bA();var DA=function(){function _(a,i){var n;if(a instanceof ge){this.instant=a;return}else if(a instanceof H)i=i??le.systemDefault(),n=a.atStartOfDay(i);else if(a instanceof fe)i=i??le.systemDefault(),n=a.atZone(i);else if(a instanceof _t)i==null?n=a:n=a.withZoneSameInstant(i);else throw new h("unsupported instance for convert operation:"+a);this.instant=n.toInstant()}var u=_.prototype;return u.toDate=function(){return new Date(this.instant.toEpochMilli())},u.toEpochMilli=function(){return this.instant.toEpochMilli()},_}();function Kd(_,u){return new DA(_,u)}function zd(_,u){if(u===void 0&&(u=le.systemDefault()),y(_,"date"),y(u,"zone"),_ instanceof Date)return ge.ofEpochMilli(_.getTime()).atZone(u);if(typeof _.toDate=="function"&&_.toDate()instanceof Date)return ge.ofEpochMilli(_.toDate().getTime()).atZone(u);throw new h("date must be a javascript Date or a moment instance")}function RA(_){var u=[];return function(i){return~u.indexOf(i)||(i(_),u.push(i)),_}}var Zd={assert:L,DateTimeBuilder:Ji,DateTimeParseContext:Fd,DateTimePrintContext:Ud,MathUtil:p,StringUtil:Pt,StringBuilder:Hd},Xd={_:Zd,convert:Kd,nativeJs:zd,ArithmeticException:c,DateTimeException:r,DateTimeParseException:o,IllegalArgumentException:h,IllegalStateException:g,UnsupportedTemporalTypeException:l,NullPointerException:m,Clock:pe,DayOfWeek:_e,Duration:q,Instant:ge,LocalDate:H,LocalTime:C,LocalDateTime:fe,OffsetTime:Nt,OffsetDateTime:gt,Month:K,MonthDay:Kr,ParsePosition:Au,Period:Mt,Year:pt,YearConstants:Ce,YearMonth:tr,ZonedDateTime:_t,ZoneOffset:Z,ZoneId:le,ZoneRegion:St,ZoneOffsetTransition:$d,ZoneRules:Hr,ZoneRulesProvider:$r,ChronoLocalDate:zn,ChronoLocalDateTime:qu,ChronoZonedDateTime:ku,IsoChronology:ce,ChronoField:d,ChronoUnit:v,IsoFields:dt,Temporal:Qe,TemporalAccessor:Jt,TemporalAdjuster:zr,TemporalAdjusters:xu,TemporalAmount:Y,TemporalField:ut,TemporalQueries:x,TemporalQuery:jn,TemporalUnit:G,ValueRange:z,DateTimeFormatter:Q,DateTimeFormatterBuilder:he,DecimalStyle:Wr,ResolverStyle:X,SignStyle:oe,TextStyle:ue},Jd=RA(Xd);Xd.use=Jd,t.ArithmeticException=c,t.ChronoField=d,t.ChronoLocalDate=zn,t.ChronoLocalDateTime=qu,t.ChronoUnit=v,t.ChronoZonedDateTime=ku,t.Clock=pe,t.DateTimeException=r,t.DateTimeFormatter=Q,t.DateTimeFormatterBuilder=he,t.DateTimeParseException=o,t.DayOfWeek=_e,t.DecimalStyle=Wr,t.Duration=q,t.IllegalArgumentException=h,t.IllegalStateException=g,t.Instant=ge,t.IsoChronology=ce,t.IsoFields=dt,t.LocalDate=H,t.LocalDateTime=fe,t.LocalTime=C,t.Month=K,t.MonthDay=Kr,t.NullPointerException=m,t.OffsetDateTime=gt,t.OffsetTime=Nt,t.ParsePosition=Au,t.Period=Mt,t.ResolverStyle=X,t.SignStyle=oe,t.Temporal=Qe,t.TemporalAccessor=Jt,t.TemporalAdjuster=zr,t.TemporalAdjusters=xu,t.TemporalAmount=Y,t.TemporalField=ut,t.TemporalQueries=x,t.TemporalQuery=jn,t.TemporalUnit=G,t.TextStyle=ue,t.UnsupportedTemporalTypeException=l,t.ValueRange=z,t.Year=pt,t.YearConstants=Ce,t.YearMonth=tr,t.ZoneId=le,t.ZoneOffset=Z,t.ZoneOffsetTransition=$d,t.ZoneRegion=St,t.ZoneRules=Hr,t.ZoneRulesProvider=$r,t.ZonedDateTime=_t,t._=Zd,t.convert=Kd,t.nativeJs=zd,t.use=Jd})});var jm=O((Zs,$m)=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.default=void 0;var gM=mM(Bs()),zs=Ei();function mM(t){return t&&t.__esModule?t:{default:t}}var EM=zs.LocalDate.ofYearDay(1900,1),yM=Buffer.from([0]),wM=Buffer.from([8]),Gm={id:61,type:"DATETIME",name:"DateTime",declaration:function(){return"datetime"},generateTypeInfo(){return Buffer.from([gM.default.id,8])},generateParameterLength(t,e){return t.value==null?yM:wM},generateParameterData:function*(t,e){if(t.value==null)return;let r=t.value,o;e.useUTC?o=zs.LocalDate.of(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate()):o=zs.LocalDate.of(r.getFullYear(),r.getMonth()+1,r.getDate());let l=EM.until(o,zs.ChronoUnit.DAYS),c,h;if(e.useUTC){let m=r.getUTCHours()*60*60;m+=r.getUTCMinutes()*60,m+=r.getUTCSeconds(),c=m*1e3+r.getUTCMilliseconds()}else{let m=r.getHours()*60*60;m+=r.getMinutes()*60,m+=r.getSeconds(),c=m*1e3+r.getMilliseconds()}h=c/(3+1/3),h=Math.round(h),h===2592e4&&(l+=1,h=0);let g=Buffer.alloc(8);g.writeInt32LE(l,0),g.writeUInt32LE(h,4),yield g},validate:function(t,e,r){if(t==null)return null;t instanceof Date||(t=new Date(Date.parse(t))),t=t;let o;if(r&&r.useUTC?o=t.getUTCFullYear():o=t.getFullYear(),o<1753||o>9999)throw new TypeError("Out of range.");if(isNaN(t))throw new TypeError("Invalid date.");return t}},vM=Gm;Zs.default=vM;$m.exports=Gm});var Zm=O((Xs,zm)=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.default=void 0;var TM=SM(Hs());function SM(t){return t&&t.__esModule?t:{default:t}}var NM=Buffer.from([0]),Km={id:62,type:"FLT8",name:"Float",declaration:function(){return"float"},generateTypeInfo(){return Buffer.from([TM.default.id,8])},generateParameterLength(t,e){return t.value==null?NM:Buffer.from([8])},*generateParameterData(t,e){if(t.value==null)return;let r=Buffer.alloc(8);r.writeDoubleLE(parseFloat(t.value),0),yield r},validate:function(t){if(t==null)return null;if(t=parseFloat(t),isNaN(t))throw new TypeError("Invalid number.");return t}},OM=Km;Xs.default=OM;zm.exports=Km});var Qc=O((Js,Jm)=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.default=void 0;var Xm={id:106,type:"DECIMALN",name:"DecimalN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},AM=Xm;Js.default=AM;Jm.exports=Xm});var nE=O((Qs,tE)=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.default=void 0;var IM=Qm(Qc()),ef=Qm(it());function Qm(t){return t&&t.__esModule?t:{default:t}}var bM=Buffer.from([0]),eE={id:55,type:"DECIMAL",name:"Decimal",declaration:function(t){return"decimal("+this.resolvePrecision(t)+", "+this.resolveScale(t)+")"},resolvePrecision:function(t){return t.precision!=null?t.precision:t.value===null?1:18},resolveScale:function(t){return t.scale!=null?t.scale:0},generateTypeInfo(t,e){let r;return t.precision<=9?r=5:t.precision<=19?r=9:t.precision<=28?r=13:r=17,Buffer.from([IM.default.id,r,t.precision,t.scale])},generateParameterLength(t,e){if(t.value==null)return bM;let r=t.precision;return r<=9?Buffer.from([5]):r<=19?Buffer.from([9]):r<=28?Buffer.from([13]):Buffer.from([17])},*generateParameterData(t,e){if(t.value==null)return;let r=t.value<0?0:1,o=Math.round(Math.abs(t.value*Math.pow(10,t.scale))),l=t.precision;if(l<=9){let c=Buffer.alloc(5);c.writeUInt8(r,0),c.writeUInt32LE(o,1),yield c}else if(l<=19){let c=new ef.default(9);c.writeUInt8(r),c.writeUInt64LE(o),yield c.data}else if(l<=28){let c=new ef.default(13);c.writeUInt8(r),c.writeUInt64LE(o),c.writeUInt32LE(0),yield c.data}else{let c=new ef.default(17);c.writeUInt8(r),c.writeUInt64LE(o),c.writeUInt32LE(0),c.writeUInt32LE(0),yield c.data}},validate:function(t){if(t==null)return null;if(t=parseFloat(t),isNaN(t))throw new TypeError("Invalid number.");return t}},DM=eE;Qs.default=DM;tE.exports=eE});var tf=O((ea,iE)=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.default=void 0;var rE={id:108,type:"NUMERICN",name:"NumericN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},RM=rE;ea.default=RM;iE.exports=rE});var uE=O((ta,aE)=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.default=void 0;var LM=oE(tf()),nf=oE(it());function oE(t){return t&&t.__esModule?t:{default:t}}var CM=Buffer.from([0]),sE={id:63,type:"NUMERIC",name:"Numeric",declaration:function(t){return"numeric("+this.resolvePrecision(t)+", "+this.resolveScale(t)+")"},resolvePrecision:function(t){return t.precision!=null?t.precision:t.value===null?1:18},resolveScale:function(t){return t.scale!=null?t.scale:0},generateTypeInfo(t){let e;return t.precision<=9?e=5:t.precision<=19?e=9:t.precision<=28?e=13:e=17,Buffer.from([LM.default.id,e,t.precision,t.scale])},generateParameterLength(t,e){if(t.value==null)return CM;let r=t.precision;return r<=9?Buffer.from([5]):r<=19?Buffer.from([9]):r<=28?Buffer.from([13]):Buffer.from([17])},*generateParameterData(t,e){if(t.value==null)return;let r=t.value<0?0:1,o=Math.round(Math.abs(t.value*Math.pow(10,t.scale)));if(t.precision<=9){let l=Buffer.alloc(5);l.writeUInt8(r,0),l.writeUInt32LE(o,1),yield l}else if(t.precision<=19){let l=new nf.default(10);l.writeUInt8(r),l.writeUInt64LE(o),yield l.data}else if(t.precision<=28){let l=new nf.default(14);l.writeUInt8(r),l.writeUInt64LE(o),l.writeUInt32LE(0),yield l.data}else{let l=new nf.default(18);l.writeUInt8(r),l.writeUInt64LE(o),l.writeUInt32LE(0),l.writeUInt32LE(0),yield l.data}},validate:function(t){if(t==null)return null;if(t=parseFloat(t),isNaN(t))throw new TypeError("Invalid number.");return t}},MM=sE;ta.default=MM;aE.exports=sE});var fE=O((na,cE)=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.default=void 0;var PM=FM($s());function FM(t){return t&&t.__esModule?t:{default:t}}var xM=Buffer.from([4]),UM=Buffer.from([0]),lE={id:122,type:"MONEY4",name:"SmallMoney",declaration:function(){return"smallmoney"},generateTypeInfo:function(){return Buffer.from([PM.default.id,4])},generateParameterLength(t,e){return t.value==null?UM:xM},*generateParameterData(t,e){if(t.value==null)return;let r=Buffer.alloc(4);r.writeInt32LE(t.value*1e4,0),yield r},validate:function(t){if(t==null)return null;if(t=parseFloat(t),isNaN(t))throw new TypeError("Invalid number.");if(t<-214748.3648||t>214748.3647)throw new TypeError("Value must be between -214748.3648 and 214748.3647.");return t}},kM=lE;na.default=kM;cE.exports=lE});var _E=O((ra,pE)=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.default=void 0;var qM=hE(Sr()),BM=hE(it());function hE(t){return t&&t.__esModule?t:{default:t}}var YM=Buffer.from([8]),VM=Buffer.from([0]),dE={id:127,type:"INT8",name:"BigInt",declaration:function(){return"bigint"},generateTypeInfo(){return Buffer.from([qM.default.id,8])},generateParameterLength(t,e){return t.value==null?VM:YM},*generateParameterData(t,e){if(t.value==null)return;let r=new BM.default(8);r.writeInt64LE(Number(t.value)),yield r.data},validate:function(t){if(t==null)return null;if(typeof t!="number"&&(t=Number(t)),isNaN(t))throw new TypeError("Invalid number.");if(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER)throw new TypeError(`Value must be between ${Number.MIN_SAFE_INTEGER} and ${Number.MAX_SAFE_INTEGER}, inclusive.  For smaller or bigger numbers, use VarChar type.`);return t}},HM=dE;ra.default=HM;pE.exports=dE});var EE=O((ia,mE)=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.default=void 0;var WM=Buffer.from([255,255,255,255]),gE={id:34,type:"IMAGE",name:"Image",hasTableName:!0,declaration:function(){return"image"},resolveLength:function(t){return t.value!=null?t.value.length:-1},generateTypeInfo(t){let e=Buffer.alloc(5);return e.writeUInt8(this.id,0),e.writeInt32LE(t.length,1),e},generateParameterLength(t,e){if(t.value==null)return WM;let r=Buffer.alloc(4);return r.writeInt32LE(t.value.length,0),r},*generateParameterData(t,e){t.value!=null&&(yield t.value)},validate:function(t){if(t==null)return null;if(!Buffer.isBuffer(t))throw new TypeError("Invalid buffer.");return t}},GM=gE;ia.default=GM;mE.exports=gE});var vE=O((oa,wE)=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.default=void 0;var $M=jM(require("iconv-lite"));function jM(t){return t&&t.__esModule?t:{default:t}}var KM=Buffer.from([255,255,255,255]),yE={id:35,type:"TEXT",name:"Text",hasTableName:!0,declaration:function(){return"text"},resolveLength:function(t){let e=t.value;return e!=null?e.length:-1},generateTypeInfo(t,e){let r=Buffer.alloc(10);return r.writeUInt8(this.id,0),r.writeInt32LE(t.length,1),t.collation&&t.collation.toBuffer().copy(r,5,0,5),r},generateParameterLength(t,e){let r=t.value;if(r==null)return KM;let o=Buffer.alloc(4);return o.writeInt32LE(r.length,0),o},generateParameterData:function*(t,e){let r=t.value;r!=null&&(yield r)},validate:function(t,e){if(t==null)return null;if(typeof t!="string")throw new TypeError("Invalid string.");if(!e)throw new Error("No collation was set by the server for the current connection.");if(!e.codepage)throw new Error("The collation set by the server has no associated encoding.");return $M.default.encode(t,e.codepage)}},zM=yE;oa.default=zM;wE.exports=yE});var rf=O(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.bufferToLowerCaseGuid=XM;yi.bufferToUpperCaseGuid=ZM;yi.guidToArray=JM;var Ke=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],ze=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function ZM(t){return Ke[t[3]]+Ke[t[2]]+Ke[t[1]]+Ke[t[0]]+"-"+Ke[t[5]]+Ke[t[4]]+"-"+Ke[t[7]]+Ke[t[6]]+"-"+Ke[t[8]]+Ke[t[9]]+"-"+Ke[t[10]]+Ke[t[11]]+Ke[t[12]]+Ke[t[13]]+Ke[t[14]]+Ke[t[15]]}function XM(t){return ze[t[3]]+ze[t[2]]+ze[t[1]]+ze[t[0]]+"-"+ze[t[5]]+ze[t[4]]+"-"+ze[t[7]]+ze[t[6]]+"-"+ze[t[8]]+ze[t[9]]+"-"+ze[t[10]]+ze[t[11]]+ze[t[12]]+ze[t[13]]+ze[t[14]]+ze[t[15]]}var Ve={},Nr=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"].map(t=>t.charCodeAt(0));for(let t=0;t<Nr.length;t++){let e=Ve[Nr[t]]={};for(let r=0;r<Nr.length;r++){let o=String.fromCharCode(Nr[t],Nr[r]),l=parseInt(o,16);e[Nr[r]]=l}}function JM(t){return[Ve[t.charCodeAt(6)][t.charCodeAt(7)],Ve[t.charCodeAt(4)][t.charCodeAt(5)],Ve[t.charCodeAt(2)][t.charCodeAt(3)],Ve[t.charCodeAt(0)][t.charCodeAt(1)],Ve[t.charCodeAt(11)][t.charCodeAt(12)],Ve[t.charCodeAt(9)][t.charCodeAt(10)],Ve[t.charCodeAt(16)][t.charCodeAt(17)],Ve[t.charCodeAt(14)][t.charCodeAt(15)],Ve[t.charCodeAt(19)][t.charCodeAt(20)],Ve[t.charCodeAt(21)][t.charCodeAt(22)],Ve[t.charCodeAt(24)][t.charCodeAt(25)],Ve[t.charCodeAt(26)][t.charCodeAt(27)],Ve[t.charCodeAt(28)][t.charCodeAt(29)],Ve[t.charCodeAt(30)][t.charCodeAt(31)],Ve[t.charCodeAt(32)][t.charCodeAt(33)],Ve[t.charCodeAt(34)][t.charCodeAt(35)]]}});var NE=O((sa,SE)=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.default=void 0;var QM=rf(),eP=Buffer.from([0]),tP=Buffer.from([16]),TE={id:36,type:"GUIDN",name:"UniqueIdentifier",declaration:function(){return"uniqueidentifier"},resolveLength:function(){return 16},generateTypeInfo(){return Buffer.from([this.id,16])},generateParameterLength(t,e){return t.value==null?eP:tP},generateParameterData:function*(t,e){t.value!=null&&(yield Buffer.from((0,QM.guidToArray)(t.value)))},validate:function(t){if(t==null)return null;if(typeof t!="string")throw new TypeError("Invalid string.");if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))throw new TypeError("Invalid GUID.");return t}},nP=TE;sa.default=nP;SE.exports=TE});var IE=O((aa,AE)=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.default=void 0;var rP=Buffer.from([255,255,255,255]),OE={id:99,type:"NTEXT",name:"NText",hasTableName:!0,declaration:function(){return"ntext"},resolveLength:function(t){let e=t.value;return e!=null?e.length:-1},generateTypeInfo(t,e){let r=Buffer.alloc(10);return r.writeUInt8(this.id,0),r.writeInt32LE(t.length,1),t.collation&&t.collation.toBuffer().copy(r,5,0,5),r},generateParameterLength(t,e){if(t.value==null)return rP;let r=Buffer.alloc(4);return r.writeInt32LE(Buffer.byteLength(t.value,"ucs2"),0),r},generateParameterData:function*(t,e){t.value!=null&&(yield Buffer.from(t.value.toString(),"ucs2"))},validate:function(t){if(t==null)return null;if(typeof t!="string")throw new TypeError("Invalid string.");return t}},iP=OE;aa.default=iP;AE.exports=OE});var RE=O((ua,DE)=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.default=void 0;var oP=(1<<16)-1,sP=Buffer.from([254,255,255,255,255,255,255,255]),aP=Buffer.from([0,0,0,0]),uP=Buffer.from([255,255]),lP=Buffer.from([255,255,255,255,255,255,255,255]),bE={id:165,type:"BIGVARBIN",name:"VarBinary",maximumLength:8e3,declaration:function(t){let e=t.value,r;return t.length?r=t.length:e!=null?r=e.length||1:e===null&&!t.output?r=1:r=this.maximumLength,r<=this.maximumLength?"varbinary("+r+")":"varbinary(max)"},resolveLength:function(t){let e=t.value;return t.length!=null?t.length:e!=null?e.length:this.maximumLength},generateTypeInfo:function(t){let e=Buffer.alloc(3);return e.writeUInt8(this.id,0),t.length<=this.maximumLength?e.writeUInt16LE(t.length,1):e.writeUInt16LE(oP,1),e},generateParameterLength(t,e){if(t.value==null)return t.length<=this.maximumLength?uP:lP;let r=t.value;Buffer.isBuffer(r)||(r=r.toString());let o=Buffer.byteLength(r,"ucs2");if(t.length<=this.maximumLength){let l=Buffer.alloc(2);return l.writeUInt16LE(o,0),l}else return sP},*generateParameterData(t,e){if(t.value==null)return;let r=t.value;if(t.length<=this.maximumLength)Buffer.isBuffer(r)?yield r:yield Buffer.from(r.toString(),"ucs2");else{Buffer.isBuffer(r)||(r=r.toString());let o=Buffer.byteLength(r,"ucs2");if(o>0){let l=Buffer.alloc(4);l.writeUInt32LE(o,0),yield l,Buffer.isBuffer(r)?yield r:yield Buffer.from(r,"ucs2")}yield aP}},validate:function(t){if(t==null)return null;if(!Buffer.isBuffer(t))throw new TypeError("Invalid buffer.");return t}},cP=bE;ua.default=cP;DE.exports=bE});var ME=O((la,CE)=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.default=void 0;var fP=hP(require("iconv-lite"));function hP(t){return t&&t.__esModule?t:{default:t}}var dP=(1<<16)-1,pP=Buffer.from([254,255,255,255,255,255,255,255]),_P=Buffer.from([0,0,0,0]),gP=Buffer.from([255,255]),mP=Buffer.from([255,255,255,255,255,255,255,255]),LE={id:167,type:"BIGVARCHR",name:"VarChar",maximumLength:8e3,declaration:function(t){let e=t.value,r;return t.length?r=t.length:e!=null?r=e.length||1:e===null&&!t.output?r=1:r=this.maximumLength,r<=this.maximumLength?"varchar("+r+")":"varchar(max)"},resolveLength:function(t){let e=t.value;return t.length!=null?t.length:e!=null?e.length||1:this.maximumLength},generateTypeInfo(t){let e=Buffer.alloc(8);return e.writeUInt8(this.id,0),t.length<=this.maximumLength?e.writeUInt16LE(t.length,1):e.writeUInt16LE(dP,1),t.collation&&t.collation.toBuffer().copy(e,3,0,5),e},generateParameterLength(t,e){let r=t.value;if(r==null)return t.length<=this.maximumLength?gP:mP;if(t.length<=this.maximumLength){let o=Buffer.alloc(2);return o.writeUInt16LE(r.length,0),o}else return pP},*generateParameterData(t,e){let r=t.value;if(r!=null)if(t.length<=this.maximumLength)yield r;else{if(r.length>0){let o=Buffer.alloc(4);o.writeUInt32LE(r.length,0),yield o,yield r}yield _P}},validate:function(t,e){if(t==null)return null;if(typeof t!="string")throw new TypeError("Invalid string.");if(!e)throw new Error("No collation was set by the server for the current connection.");if(!e.codepage)throw new Error("The collation set by the server has no associated encoding.");return fP.default.encode(t,e.codepage)}},EP=LE;la.default=EP;CE.exports=LE});var xE=O((ca,FE)=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.default=void 0;var yP=Buffer.from([255,255]),PE={id:173,type:"BIGBinary",name:"Binary",maximumLength:8e3,declaration:function(t){let e=t.value,r;return t.length?r=t.length:e!=null?r=e.length||1:e===null&&!t.output?r=1:r=this.maximumLength,"binary("+r+")"},resolveLength:function(t){let e=t.value;return e!=null?e.length:this.maximumLength},generateTypeInfo(t){let e=Buffer.alloc(3);return e.writeUInt8(this.id,0),e.writeUInt16LE(t.length,1),e},generateParameterLength(t,e){if(t.value==null)return yP;let r=Buffer.alloc(2);return r.writeUInt16LE(t.length,0),r},*generateParameterData(t,e){t.value!=null&&(yield t.value.slice(0,t.length!==void 0?Math.min(t.length,this.maximumLength):this.maximumLength))},validate:function(t){if(t==null)return null;if(!Buffer.isBuffer(t))throw new TypeError("Invalid buffer.");return t}},wP=PE;ca.default=wP;FE.exports=PE});var qE=O((fa,kE)=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.default=void 0;var vP=TP(require("iconv-lite"));function TP(t){return t&&t.__esModule?t:{default:t}}var SP=Buffer.from([255,255]),UE={id:175,type:"BIGCHAR",name:"Char",maximumLength:8e3,declaration:function(t){let e=t.value,r;return t.length?r=t.length:e!=null?r=e.length||1:e===null&&!t.output?r=1:r=this.maximumLength,r<this.maximumLength?"char("+r+")":"char("+this.maximumLength+")"},resolveLength:function(t){let e=t.value;return t.length!=null?t.length:e!=null?e.length||1:this.maximumLength},generateTypeInfo(t){let e=Buffer.alloc(8);return e.writeUInt8(this.id,0),e.writeUInt16LE(t.length,1),t.collation&&t.collation.toBuffer().copy(e,3,0,5),e},generateParameterLength(t,e){let r=t.value;if(r==null)return SP;let o=Buffer.alloc(2);return o.writeUInt16LE(r.length,0),o},*generateParameterData(t,e){t.value!=null&&(yield Buffer.from(t.value,"ascii"))},validate:function(t,e){if(t==null)return null;if(typeof t!="string")throw new TypeError("Invalid string.");if(!e)throw new Error("No collation was set by the server for the current connection.");if(!e.codepage)throw new Error("The collation set by the server has no associated encoding.");return vP.default.encode(t,e.codepage)}},NP=UE;fa.default=NP;kE.exports=UE});var VE=O((ha,YE)=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.default=void 0;var OP=(1<<16)-1,AP=Buffer.from([254,255,255,255,255,255,255,255]),IP=Buffer.from([0,0,0,0]),bP=Buffer.from([255,255]),DP=Buffer.from([255,255,255,255,255,255,255,255]),BE={id:231,type:"NVARCHAR",name:"NVarChar",maximumLength:4e3,declaration:function(t){let e=t.value,r;return t.length?r=t.length:e!=null?r=e.toString().length||1:e===null&&!t.output?r=1:r=this.maximumLength,r<=this.maximumLength?"nvarchar("+r+")":"nvarchar(max)"},resolveLength:function(t){let e=t.value;return t.length!=null?t.length:e!=null?Buffer.isBuffer(e)?e.length/2||1:e.toString().length||1:this.maximumLength},generateTypeInfo(t){let e=Buffer.alloc(8);return e.writeUInt8(this.id,0),t.length<=this.maximumLength?e.writeUInt16LE(t.length*2,1):e.writeUInt16LE(OP,1),t.collation&&t.collation.toBuffer().copy(e,3,0,5),e},generateParameterLength(t,e){if(t.value==null)return t.length<=this.maximumLength?bP:DP;let r=t.value;if(t.length<=this.maximumLength){let o;r instanceof Buffer?o=r.length:(r=r.toString(),o=Buffer.byteLength(r,"ucs2"));let l=Buffer.alloc(2);return l.writeUInt16LE(o,0),l}else return AP},*generateParameterData(t,e){if(t.value==null)return;let r=t.value;if(t.length<=this.maximumLength)r instanceof Buffer?yield r:(r=r.toString(),yield Buffer.from(r,"ucs2"));else{if(r instanceof Buffer){let o=r.length;if(o>0){let l=Buffer.alloc(4);l.writeUInt32LE(o,0),yield l,yield r}}else{r=r.toString();let o=Buffer.byteLength(r,"ucs2");if(o>0){let l=Buffer.alloc(4);l.writeUInt32LE(o,0),yield l,yield Buffer.from(r,"ucs2")}}yield IP}},validate:function(t){if(t==null)return null;if(typeof t!="string")throw new TypeError("Invalid string.");return t}},RP=BE;ha.default=RP;YE.exports=BE});var GE=O((da,WE)=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.default=void 0;var LP=Buffer.from([255,255]),HE={id:239,type:"NCHAR",name:"NChar",maximumLength:4e3,declaration:function(t){let e=t.value,r;return t.length?r=t.length:t.value!=null?r=e.toString().length||1:t.value===null&&!t.output?r=1:r=this.maximumLength,r<this.maximumLength?"nchar("+r+")":"nchar("+this.maximumLength+")"},resolveLength:function(t){let e=t.value;return t.length!=null?t.length:t.value!=null?Buffer.isBuffer(t.value)?t.value.length/2||1:e.toString().length||1:this.maximumLength},generateTypeInfo:function(t){let e=Buffer.alloc(8);return e.writeUInt8(this.id,0),e.writeUInt16LE(t.length*2,1),t.collation&&t.collation.toBuffer().copy(e,3,0,5),e},generateParameterLength(t,e){if(t.value==null)return LP;let{value:r}=t;if(r instanceof Buffer){let o=r.length,l=Buffer.alloc(2);return l.writeUInt16LE(o,0),l}else{let o=Buffer.byteLength(r.toString(),"ucs2"),l=Buffer.alloc(2);return l.writeUInt16LE(o,0),l}},*generateParameterData(t,e){if(t.value==null)return;let r=t.value;r instanceof Buffer?yield r:yield Buffer.from(r,"ucs2")},validate:function(t){if(t==null)return null;if(typeof t!="string")throw new TypeError("Invalid string.");return t}},CP=HE;da.default=CP;WE.exports=HE});var KE=O((pa,jE)=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.default=void 0;var $E={id:241,type:"XML",name:"Xml",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},MP=$E;pa.default=MP;jE.exports=$E});var XE=O((_a,ZE)=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.default=void 0;var PP=FP(it());function FP(t){return t&&t.__esModule?t:{default:t}}var xP=Buffer.from([0]),zE={id:41,type:"TIMEN",name:"Time",declaration:function(t){return"time("+this.resolveScale(t)+")"},resolveScale:function(t){return t.scale!=null?t.scale:t.value===null?0:7},generateTypeInfo(t){return Buffer.from([this.id,t.scale])},generateParameterLength(t,e){if(t.value==null)return xP;switch(t.scale){case 0:case 1:case 2:return Buffer.from([3]);case 3:case 4:return Buffer.from([4]);case 5:case 6:case 7:return Buffer.from([5]);default:throw new Error("invalid scale")}},*generateParameterData(t,e){if(t.value==null)return;let r=new PP.default(16),o=t.value,l;switch(e.useUTC?l=((o.getUTCHours()*60+o.getUTCMinutes())*60+o.getUTCSeconds())*1e3+o.getUTCMilliseconds():l=((o.getHours()*60+o.getMinutes())*60+o.getSeconds())*1e3+o.getMilliseconds(),l=l*Math.pow(10,t.scale-3),l+=(t.value.nanosecondDelta!=null?t.value.nanosecondDelta:0)*Math.pow(10,t.scale),l=Math.round(l),t.scale){case 0:case 1:case 2:r.writeUInt24LE(l);break;case 3:case 4:r.writeUInt32LE(l);break;case 5:case 6:case 7:r.writeUInt40LE(l)}yield r.data},validate:function(t){if(t==null)return null;if(t instanceof Date||(t=new Date(Date.parse(t))),isNaN(t))throw new TypeError("Invalid time.");return t}},UP=zE;_a.default=UP;ZE.exports=zE});var ey=O((ma,QE)=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.default=void 0;var ga=Ei(),of=global.Date,kP=ga.LocalDate.ofYearDay(1,1),qP=Buffer.from([0]),BP=Buffer.from([3]),JE={id:40,type:"DATEN",name:"Date",declaration:function(){return"date"},generateTypeInfo:function(){return Buffer.from([this.id])},generateParameterLength(t,e){return t.value==null?qP:BP},*generateParameterData(t,e){if(t.value==null)return;let r=t.value,o;e.useUTC?o=ga.LocalDate.of(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate()):o=ga.LocalDate.of(r.getFullYear(),r.getMonth()+1,r.getDate());let l=kP.until(o,ga.ChronoUnit.DAYS),c=Buffer.alloc(3);c.writeUIntLE(l,0,3),yield c},validate:function(t,e,r){if(t==null)return null;t instanceof of||(t=new of(of.parse(t))),t=t;let o;if(r&&r.useUTC?o=t.getUTCFullYear():o=t.getFullYear(),o<1||o>9999)throw new TypeError("Out of range.");if(isNaN(t))throw new TypeError("Invalid date.");return t}},YP=JE;ma.default=YP;QE.exports=JE});var ry=O((ya,ny)=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.default=void 0;var Ea=Ei(),VP=HP(it());function HP(t){return t&&t.__esModule?t:{default:t}}var WP=Ea.LocalDate.ofYearDay(1,1),GP=Buffer.from([0]),ty={id:42,type:"DATETIME2N",name:"DateTime2",declaration:function(t){return"datetime2("+this.resolveScale(t)+")"},resolveScale:function(t){return t.scale!=null?t.scale:t.value===null?0:7},generateTypeInfo(t,e){return Buffer.from([this.id,t.scale])},generateParameterLength(t,e){if(t.value==null)return GP;switch(t.scale){case 0:case 1:case 2:return Buffer.from([6]);case 3:case 4:return Buffer.from([7]);case 5:case 6:case 7:return Buffer.from([8]);default:throw new Error("invalid scale")}},*generateParameterData(t,e){if(t.value==null)return;let r=t.value,o=t.scale,l=new VP.default(16);o=o;let c;switch(e.useUTC?c=((r.getUTCHours()*60+r.getUTCMinutes())*60+r.getUTCSeconds())*1e3+r.getUTCMilliseconds():c=((r.getHours()*60+r.getMinutes())*60+r.getSeconds())*1e3+r.getMilliseconds(),c=c*Math.pow(10,o-3),c+=(r.nanosecondDelta!=null?r.nanosecondDelta:0)*Math.pow(10,o),c=Math.round(c),o){case 0:case 1:case 2:l.writeUInt24LE(c);break;case 3:case 4:l.writeUInt32LE(c);break;case 5:case 6:case 7:l.writeUInt40LE(c)}let h;e.useUTC?h=Ea.LocalDate.of(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate()):h=Ea.LocalDate.of(r.getFullYear(),r.getMonth()+1,r.getDate());let g=WP.until(h,Ea.ChronoUnit.DAYS);l.writeUInt24LE(g),yield l.data},validate:function(t,e,r){if(t==null)return null;t instanceof Date||(t=new Date(Date.parse(t))),t=t;let o;if(r&&r.useUTC?o=t.getUTCFullYear():o=t.getFullYear(),o<1||o>9999)throw new TypeError("Out of range.");if(isNaN(t))throw new TypeError("Invalid date.");return t}},$P=ty;ya.default=$P;ny.exports=ty});var sy=O((wa,oy)=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.default=void 0;var sf=Ei(),jP=KP(it());function KP(t){return t&&t.__esModule?t:{default:t}}var zP=sf.LocalDate.ofYearDay(1,1),ZP=Buffer.from([0]),iy={id:43,type:"DATETIMEOFFSETN",name:"DateTimeOffset",declaration:function(t){return"datetimeoffset("+this.resolveScale(t)+")"},resolveScale:function(t){return t.scale!=null?t.scale:t.value===null?0:7},generateTypeInfo(t){return Buffer.from([this.id,t.scale])},generateParameterLength(t,e){if(t.value==null)return ZP;switch(t.scale){case 0:case 1:case 2:return Buffer.from([8]);case 3:case 4:return Buffer.from([9]);case 5:case 6:case 7:return Buffer.from([10]);default:throw new Error("invalid scale")}},*generateParameterData(t,e){if(t.value==null)return;let r=t.value,o=t.scale,l=new jP.default(16);o=o;let c;switch(c=((r.getUTCHours()*60+r.getUTCMinutes())*60+r.getUTCSeconds())*1e3+r.getMilliseconds(),c=c*Math.pow(10,o-3),c+=(r.nanosecondDelta!=null?r.nanosecondDelta:0)*Math.pow(10,o),c=Math.round(c),o){case 0:case 1:case 2:l.writeUInt24LE(c);break;case 3:case 4:l.writeUInt32LE(c);break;case 5:case 6:case 7:l.writeUInt40LE(c)}let h=sf.LocalDate.of(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate()),g=zP.until(h,sf.ChronoUnit.DAYS);l.writeUInt24LE(g);let m=-r.getTimezoneOffset();l.writeInt16LE(m),yield l.data},validate:function(t,e,r){if(t==null)return null;t instanceof Date||(t=new Date(Date.parse(t))),t=t;let o;if(r&&r.useUTC?o=t.getUTCFullYear():o=t.getFullYear(),o<1||o>9999)throw new TypeError("Out of range.");if(isNaN(t))throw new TypeError("Invalid date.");return t}},XP=iy;wa.default=XP;oy.exports=iy});var ly=O((va,uy)=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.default=void 0;var ay={id:240,type:"UDTTYPE",name:"UDT",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},JP=ay;va.default=JP;uy.exports=ay});var hy=O((Sa,fy)=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.default=void 0;var QP=eF(it());function eF(t){return t&&t.__esModule?t:{default:t}}var tF=Buffer.from([1]),Ta=Buffer.from([0]),nF=Buffer.from([255,255]),cy={id:243,type:"TVPTYPE",name:"TVP",declaration:function(t){return t.value.name+" readonly"},generateTypeInfo(t){var e,r;let o="",l=((e=t.value)===null||e===void 0?void 0:e.schema)??"",c=((r=t.value)===null||r===void 0?void 0:r.name)??"",h=1+1+Buffer.byteLength(o,"ucs2")+1+Buffer.byteLength(l,"ucs2")+1+Buffer.byteLength(c,"ucs2"),g=new QP.default(h,"ucs2");return g.writeUInt8(this.id),g.writeBVarchar(o),g.writeBVarchar(l),g.writeBVarchar(c),g.data},generateParameterLength(t,e){if(t.value==null)return nF;let{columns:r}=t.value,o=Buffer.alloc(2);return o.writeUInt16LE(r.length,0),o},*generateParameterData(t,e){if(t.value==null){yield Ta,yield Ta;return}let{columns:r,rows:o}=t.value;for(let l=0,c=r.length;l<c;l++){let h=r[l],g=Buffer.alloc(6);g.writeUInt32LE(0,0),g.writeUInt16LE(0,4),yield g,yield h.type.generateTypeInfo(h),yield Buffer.from([0])}yield Ta;for(let l=0,c=o.length;l<c;l++){yield tF;let h=o[l];for(let g=0,m=h.length;g<m;g++){let T=r[g],N=h[g],A={value:T.type.validate(N,t.collation),length:T.length,scale:T.scale,precision:T.precision};yield T.type.generateParameterLength(A,e),yield*T.type.generateParameterData(A,e)}}yield Ta},validate:function(t){if(t==null)return null;if(typeof t!="object")throw new TypeError("Invalid table.");if(!Array.isArray(t.columns))throw new TypeError("Invalid table.");if(!Array.isArray(t.rows))throw new TypeError("Invalid table.");return t}},rF=cy;Sa.default=rF;fy.exports=cy});var _y=O((Na,py)=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.default=void 0;var dy={id:98,type:"SSVARIANTTYPE",name:"Variant",declaration:function(){return"sql_variant"},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},iF=dy;Na.default=iF;py.exports=dy});var wi=O(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.typeByName=mn.TYPES=mn.TYPE=void 0;var gy=re(fm()),af=re(gm()),uf=re(vm()),lf=re(Nm()),cf=re(Im()),ff=re(Mm()),hf=re(km()),df=re(Hm()),pf=re(jm()),_f=re(Zm()),gf=re(nE()),mf=re(uE()),Ef=re(fE()),yf=re(_E()),wf=re(EE()),vf=re(vE()),Tf=re(NE()),my=re(Sr()),Sf=re(IE()),Ey=re(Jc()),yy=re(Qc()),wy=re(tf()),vy=re(Hs()),Ty=re($s()),Sy=re(Bs()),Nf=re(RE()),Of=re(ME()),Af=re(xE()),If=re(qE()),bf=re(VE()),Df=re(GE()),Rf=re(KE()),Lf=re(XE()),Cf=re(ey()),Mf=re(ry()),Pf=re(sy()),Ff=re(ly()),xf=re(hy()),Uf=re(_y());function re(t){return t&&t.__esModule?t:{default:t}}var oF={[gy.default.id]:gy.default,[af.default.id]:af.default,[uf.default.id]:uf.default,[lf.default.id]:lf.default,[cf.default.id]:cf.default,[ff.default.id]:ff.default,[hf.default.id]:hf.default,[df.default.id]:df.default,[pf.default.id]:pf.default,[_f.default.id]:_f.default,[gf.default.id]:gf.default,[mf.default.id]:mf.default,[Ef.default.id]:Ef.default,[yf.default.id]:yf.default,[wf.default.id]:wf.default,[vf.default.id]:vf.default,[Tf.default.id]:Tf.default,[my.default.id]:my.default,[Sf.default.id]:Sf.default,[Ey.default.id]:Ey.default,[yy.default.id]:yy.default,[wy.default.id]:wy.default,[vy.default.id]:vy.default,[Ty.default.id]:Ty.default,[Sy.default.id]:Sy.default,[Nf.default.id]:Nf.default,[Of.default.id]:Of.default,[Af.default.id]:Af.default,[If.default.id]:If.default,[bf.default.id]:bf.default,[Df.default.id]:Df.default,[Rf.default.id]:Rf.default,[Lf.default.id]:Lf.default,[Cf.default.id]:Cf.default,[Mf.default.id]:Mf.default,[Pf.default.id]:Pf.default,[Ff.default.id]:Ff.default,[xf.default.id]:xf.default,[Uf.default.id]:Uf.default};mn.TYPE=oF;var Ny={TinyInt:af.default,Bit:uf.default,SmallInt:lf.default,Int:cf.default,SmallDateTime:ff.default,Real:hf.default,Money:df.default,DateTime:pf.default,Float:_f.default,Decimal:gf.default,Numeric:mf.default,SmallMoney:Ef.default,BigInt:yf.default,Image:wf.default,Text:vf.default,UniqueIdentifier:Tf.default,NText:Sf.default,VarBinary:Nf.default,VarChar:Of.default,Binary:Af.default,Char:If.default,NVarChar:bf.default,NChar:Df.default,Xml:Rf.default,Time:Lf.default,Date:Cf.default,DateTime2:Mf.default,DateTimeOffset:Pf.default,UDT:Ff.default,TVP:xf.default,Variant:Uf.default};mn.TYPES=Ny;var sF=Ny;mn.typeByName=sF});var He=O(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.Result=Oe.NotEnoughDataError=void 0;Oe.readBVarByte=EF;Oe.readBVarChar=mF;Oe.readBigInt64LE=pF;Oe.readBigUInt64LE=dF;Oe.readDoubleLE=gF;Oe.readFloatLE=_F;Oe.readInt16LE=aF;Oe.readInt32LE=hF;Oe.readUInt16LE=qf;Oe.readUInt24LE=uF;Oe.readUInt32BE=cF;Oe.readUInt32LE=lF;Oe.readUInt40LE=fF;Oe.readUInt8=kf;Oe.readUNumeric128LE=SF;Oe.readUNumeric64LE=vF;Oe.readUNumeric96LE=TF;Oe.readUsVarByte=wF;Oe.readUsVarChar=yF;var De=class{constructor(e,r){this.value=e,this.offset=r}};Oe.Result=De;var Re=class extends Error{byteCount;constructor(e){super(),this.byteCount=e}};Oe.NotEnoughDataError=Re;function kf(t,e){if(e=+e,t.length<e+1)throw new Re(e+1);return new De(t.readUInt8(e),e+1)}function qf(t,e){if(e=+e,t.length<e+2)throw new Re(e+2);return new De(t.readUInt16LE(e),e+2)}function aF(t,e){if(e=+e,t.length<e+2)throw new Re(e+2);return new De(t.readInt16LE(e),e+2)}function uF(t,e){if(e=+e,t.length<e+3)throw new Re(e+3);return new De(t.readUIntLE(e,3),e+3)}function lF(t,e){if(e=+e,t.length<e+4)throw new Re(e+4);return new De(t.readUInt32LE(e),e+4)}function cF(t,e){if(e=+e,t.length<e+4)throw new Re(e+4);return new De(t.readUInt32BE(e),e+4)}function fF(t,e){if(e=+e,t.length<e+5)throw new Re(e+5);return new De(t.readUIntLE(e,5),e+5)}function hF(t,e){if(e=+e,t.length<e+4)throw new Re(e+4);return new De(t.readInt32LE(e),e+4)}function dF(t,e){if(e=+e,t.length<e+8)throw new Re(e+8);return new De(t.readBigUInt64LE(e),e+8)}function pF(t,e){if(e=+e,t.length<e+8)throw new Re(e+8);return new De(t.readBigInt64LE(e),e+8)}function _F(t,e){if(e=+e,t.length<e+4)throw new Re(e+4);return new De(t.readFloatLE(e),e+4)}function gF(t,e){if(e=+e,t.length<e+8)throw new Re(e+8);return new De(t.readDoubleLE(e),e+8)}function mF(t,e){e=+e;let r;({offset:e,value:r}=kf(t,e));let o=r*2;if(t.length<e+o)throw new Re(e+o);return new De(t.toString("ucs2",e,e+o),e+o)}function EF(t,e){e=+e;let r;if({offset:e,value:r}=kf(t,e),t.length<e+r)throw new Re(e+r);return new De(t.slice(e,e+r),e+r)}function yF(t,e){e=+e;let r;({offset:e,value:r}=qf(t,e));let o=r*2;if(t.length<e+o)throw new Re(e+o);return new De(t.toString("ucs2",e,e+o),e+o)}function wF(t,e){e=+e;let r;if({offset:e,value:r}=qf(t,e),t.length<e+r)throw new Re(e+r);return new De(t.slice(e,e+r),e+r)}function vF(t,e){if(e=+e,t.length<e+8)throw new Re(e+8);let r=t.readUInt32LE(e),o=t.readUInt32LE(e+4);return new De(4294967296*o+r,e+8)}function TF(t,e){if(e=+e,t.length<e+12)throw new Re(e+12);let r=t.readUInt32LE(e),o=t.readUInt32LE(e+4),l=t.readUInt32LE(e+8);return new De(r+4294967296*o+4294967296*4294967296*l,e+12)}function SF(t,e){if(e=+e,t.length<e+16)throw new Re(e+16);let r=t.readUInt32LE(e),o=t.readUInt32LE(e+4),l=t.readUInt32LE(e+8),c=t.readUInt32LE(e+12);return new De(r+4294967296*o+4294967296*4294967296*l+4294967296*4294967296*4294967296*c,e+16)}});var Ia=O((Or,Aa)=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.default=void 0;Or.readCollation=Oa;Or.readMetadata=Bf;var NF=Xc(),OF=wi(),Oy=rr(),ne=He();function Oa(t,e){if(e=+e,t.length<e+5)throw new ne.NotEnoughDataError(e+5);let r=NF.Collation.fromBuffer(t.slice(e,e+5));return new ne.Result(r,e+5)}function AF(t,e){e=+e;let r;if({offset:e,value:r}=(0,ne.readUInt8)(t,e),r!==1)return new ne.Result(void 0,e);let o;({offset:e,value:o}=(0,ne.readBVarChar)(t,e));let l;({offset:e,value:l}=(0,ne.readBVarChar)(t,e));let c;return{offset:e,value:c}=(0,ne.readUsVarChar)(t,e),new ne.Result({dbname:o,owningSchema:l,xmlSchemaCollection:c},e)}function IF(t,e){let r;({offset:e,value:r}=(0,ne.readUInt16LE)(t,e));let o;({offset:e,value:o}=(0,ne.readBVarChar)(t,e));let l;({offset:e,value:l}=(0,ne.readBVarChar)(t,e));let c;({offset:e,value:c}=(0,ne.readBVarChar)(t,e));let h;return{offset:e,value:h}=(0,ne.readUsVarChar)(t,e),new ne.Result({maxByteSize:r,dbname:o,owningSchema:l,typeName:c,assemblyName:h},e)}function Bf(t,e,r){let o;({offset:e,value:o}=(r.tdsVersion<"7_2"?ne.readUInt16LE:ne.readUInt32LE)(t,e));let l;({offset:e,value:l}=(0,ne.readUInt16LE)(t,e));let c;({offset:e,value:c}=(0,ne.readUInt8)(t,e));let h=OF.TYPE[c];if(!h)throw new Error((0,Oy.sprintf)("Unrecognised data type 0x%02X",c));switch(h.name){case"Null":case"TinyInt":case"SmallInt":case"Int":case"BigInt":case"Real":case"Float":case"SmallMoney":case"Money":case"Bit":case"SmallDateTime":case"DateTime":case"Date":return new ne.Result({userType:o,flags:l,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:void 0,udtInfo:void 0},e);case"IntN":case"FloatN":case"MoneyN":case"BitN":case"UniqueIdentifier":case"DateTimeN":{let g;return{offset:e,value:g}=(0,ne.readUInt8)(t,e),new ne.Result({userType:o,flags:l,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:g,schema:void 0,udtInfo:void 0},e)}case"Variant":{let g;return{offset:e,value:g}=(0,ne.readUInt32LE)(t,e),new ne.Result({userType:o,flags:l,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:g,schema:void 0,udtInfo:void 0},e)}case"VarChar":case"Char":case"NVarChar":case"NChar":{let g;({offset:e,value:g}=(0,ne.readUInt16LE)(t,e));let m;return{offset:e,value:m}=Oa(t,e),new ne.Result({userType:o,flags:l,type:h,collation:m,precision:void 0,scale:void 0,dataLength:g,schema:void 0,udtInfo:void 0},e)}case"Text":case"NText":{let g;({offset:e,value:g}=(0,ne.readUInt32LE)(t,e));let m;return{offset:e,value:m}=Oa(t,e),new ne.Result({userType:o,flags:l,type:h,collation:m,precision:void 0,scale:void 0,dataLength:g,schema:void 0,udtInfo:void 0},e)}case"VarBinary":case"Binary":{let g;return{offset:e,value:g}=(0,ne.readUInt16LE)(t,e),new ne.Result({userType:o,flags:l,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:g,schema:void 0,udtInfo:void 0},e)}case"Image":{let g;return{offset:e,value:g}=(0,ne.readUInt32LE)(t,e),new ne.Result({userType:o,flags:l,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:g,schema:void 0,udtInfo:void 0},e)}case"Xml":{let g;return{offset:e,value:g}=AF(t,e),new ne.Result({userType:o,flags:l,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:g,udtInfo:void 0},e)}case"Time":case"DateTime2":case"DateTimeOffset":{let g;return{offset:e,value:g}=(0,ne.readUInt8)(t,e),new ne.Result({userType:o,flags:l,type:h,collation:void 0,precision:void 0,scale:g,dataLength:void 0,schema:void 0,udtInfo:void 0},e)}case"NumericN":case"DecimalN":{let g;({offset:e,value:g}=(0,ne.readUInt8)(t,e));let m;({offset:e,value:m}=(0,ne.readUInt8)(t,e));let T;return{offset:e,value:T}=(0,ne.readUInt8)(t,e),new ne.Result({userType:o,flags:l,type:h,collation:void 0,precision:m,scale:T,dataLength:g,schema:void 0,udtInfo:void 0},e)}case"UDT":{let g;return{offset:e,value:g}=IF(t,e),new ne.Result({userType:o,flags:l,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:void 0,udtInfo:g},e)}default:throw new Error((0,Oy.sprintf)("Unrecognised type %s",h.name))}}function Ay(t,e,r){(async()=>{for(;;){let o;try{o=Bf(t.buffer,t.position,e)}catch(l){if(l instanceof ne.NotEnoughDataError){await t.waitForChunk();continue}throw l}return t.position=o.offset,r(o.value)}})()}var bF=Ay;Or.default=bF;Aa.exports=Ay;Aa.exports.readCollation=Oa;Aa.exports.readMetadata=Bf});var Dy=O((ba,by)=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.default=void 0;var DF=Ia(),RF=We(),ct=He();function LF(t,e,r,o){if(!r.type.hasTableName)return new ct.Result(void 0,e);if(o.tdsVersion<"7_2")return(0,ct.readUsVarChar)(t,e);let l;({offset:e,value:l}=(0,ct.readUInt8)(t,e));let c=[];for(let h=0;h<l;h++){let g;({offset:e,value:g}=(0,ct.readUsVarChar)(t,e)),c.push(g)}return new ct.Result(c,e)}function CF(t,e,r,o,l){let c;return{offset:e,value:c}=(0,ct.readBVarChar)(t,e),l.columnNameReplacer?new ct.Result(l.columnNameReplacer(c,r,o),e):l.camelCaseColumns?new ct.Result(c.replace(/^[A-Z]/,function(h){return h.toLowerCase()}),e):new ct.Result(c,e)}function MF(t,e,r,o){let l;({offset:e,value:l}=(0,DF.readMetadata)(t,e,r));let c;({offset:e,value:c}=LF(t,e,l,r));let h;return{offset:e,value:h}=CF(t,e,o,l,r),new ct.Result({userType:l.userType,flags:l.flags,type:l.type,collation:l.collation,precision:l.precision,scale:l.scale,udtInfo:l.udtInfo,dataLength:l.dataLength,schema:l.schema,colName:h,tableName:c},e)}async function Iy(t){let e;for(;;){let o;try{({offset:o,value:e}=(0,ct.readUInt16LE)(t.buffer,t.position))}catch(l){if(l instanceof ct.NotEnoughDataError){await t.waitForChunk();continue}throw l}t.position=o;break}let r=[];for(let o=0;o<e;o++)for(;;){let l,c;try{({offset:c,value:l}=MF(t.buffer,t.position,t.options,o))}catch(h){if(h instanceof ct.NotEnoughDataError){await t.waitForChunk();continue}throw h}t.position=c,r.push(l);break}return new RF.ColMetadataToken(r)}var PF=Iy;ba.default=PF;by.exports=Iy});var Ry=O(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.doneInProcParser=xF;Ti.doneParser=FF;Ti.doneProcParser=UF;var Yf=We(),En=He(),vi={MORE:1,ERROR:2,INXACT:4,COUNT:16,ATTN:32,SRVERROR:256};function Vf(t,e,r){let o;({offset:e,value:o}=(0,En.readUInt16LE)(t,e));let l=!!(o&vi.MORE),c=!!(o&vi.ERROR),h=!!(o&vi.COUNT),g=!!(o&vi.ATTN),m=!!(o&vi.SRVERROR),T;({offset:e,value:T}=(0,En.readUInt16LE)(t,e));let N;return{offset:e,value:N}=(r.tdsVersion<"7_2"?En.readUInt32LE:En.readBigUInt64LE)(t,e),new En.Result({more:l,sqlError:c,attention:g,serverError:m,rowCount:h?Number(N):void 0,curCmd:T},e)}function FF(t,e,r){let o;return{offset:e,value:o}=Vf(t,e,r),new En.Result(new Yf.DoneToken(o),e)}function xF(t,e,r){let o;return{offset:e,value:o}=Vf(t,e,r),new En.Result(new Yf.DoneInProcToken(o),e)}function UF(t,e,r){let o;return{offset:e,value:o}=Vf(t,e,r),new En.Result(new Yf.DoneProcToken(o),e)}});var Py=O((Da,My)=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.default=void 0;var Ly=Xc(),Rt=We(),Le=He(),kF={1:{name:"DATABASE",event:"databaseChange"},2:{name:"LANGUAGE",event:"languageChange"},3:{name:"CHARSET",event:"charsetChange"},4:{name:"PACKET_SIZE",event:"packetSizeChange"},7:{name:"SQL_COLLATION",event:"sqlCollationChange"},8:{name:"BEGIN_TXN",event:"beginTransaction"},9:{name:"COMMIT_TXN",event:"commitTransaction"},10:{name:"ROLLBACK_TXN",event:"rollbackTransaction"},13:{name:"DATABASE_MIRRORING_PARTNER",event:"partnerNode"},17:{name:"TXN_ENDED"},18:{name:"RESET_CONNECTION",event:"resetConnection"},20:{name:"ROUTING_CHANGE",event:"routingChange"}};function qF(t,e,r,o){switch(o.name){case"DATABASE":case"LANGUAGE":case"CHARSET":case"PACKET_SIZE":case"DATABASE_MIRRORING_PARTNER":{let l;({offset:e,value:l}=(0,Le.readBVarChar)(t,e));let c;switch({offset:e,value:c}=(0,Le.readBVarChar)(t,e),o.name){case"PACKET_SIZE":return new Le.Result(new Rt.PacketSizeEnvChangeToken(parseInt(l),parseInt(c)),e);case"DATABASE":return new Le.Result(new Rt.DatabaseEnvChangeToken(l,c),e);case"LANGUAGE":return new Le.Result(new Rt.LanguageEnvChangeToken(l,c),e);case"CHARSET":return new Le.Result(new Rt.CharsetEnvChangeToken(l,c),e);case"DATABASE_MIRRORING_PARTNER":return new Le.Result(new Rt.DatabaseMirroringPartnerEnvChangeToken(l,c),e)}throw new Error("unreachable")}case"SQL_COLLATION":case"BEGIN_TXN":case"COMMIT_TXN":case"ROLLBACK_TXN":case"RESET_CONNECTION":{let l;({offset:e,value:l}=(0,Le.readBVarByte)(t,e));let c;switch({offset:e,value:c}=(0,Le.readBVarByte)(t,e),o.name){case"SQL_COLLATION":{let h=l.length?Ly.Collation.fromBuffer(l):void 0,g=c.length?Ly.Collation.fromBuffer(c):void 0;return new Le.Result(new Rt.CollationChangeToken(h,g),e)}case"BEGIN_TXN":return new Le.Result(new Rt.BeginTransactionEnvChangeToken(l,c),e);case"COMMIT_TXN":return new Le.Result(new Rt.CommitTransactionEnvChangeToken(l,c),e);case"ROLLBACK_TXN":return new Le.Result(new Rt.RollbackTransactionEnvChangeToken(l,c),e);case"RESET_CONNECTION":return new Le.Result(new Rt.ResetConnectionEnvChangeToken(l,c),e)}throw new Error("unreachable")}case"ROUTING_CHANGE":{let l;({offset:e,value:l}=(0,Le.readUsVarByte)(t,e));let c;({offset:e,value:c}=(0,Le.readUsVarByte)(t,e));let h=l.readUInt8(0);if(h!==0)throw new Error("Unknown protocol byte in routing change event");let g=l.readUInt16LE(1),m=l.readUInt16LE(3),T=l.toString("ucs2",5,5+m*2),N={protocol:h,port:g,server:T};return new Le.Result(new Rt.RoutingEnvChangeToken(N,c),e)}default:return console.error("Tedious > Unsupported ENVCHANGE type "+o.name),new Le.Result(void 0,e+r-1)}}function Cy(t,e,r){let o;if({offset:e,value:o}=(0,Le.readUInt16LE)(t,e),t.length<e+o)throw new Le.NotEnoughDataError(e+o);let l;({offset:e,value:l}=(0,Le.readUInt8)(t,e));let c=kF[l];return c?qF(t,e,o,c):(console.error("Tedious > Unsupported ENVCHANGE type "+l),new Le.Result(void 0,e+o-1))}var BF=Cy;Da.default=BF;My.exports=Cy});var Uy=O(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.errorParser=VF;Ra.infoParser=YF;var ft=He(),Fy=We();function xy(t,e,r){let o;if({offset:e,value:o}=(0,ft.readUInt16LE)(t,e),t.length<o+e)throw new ft.NotEnoughDataError(o+e);let l;({offset:e,value:l}=(0,ft.readUInt32LE)(t,e));let c;({offset:e,value:c}=(0,ft.readUInt8)(t,e));let h;({offset:e,value:h}=(0,ft.readUInt8)(t,e));let g;({offset:e,value:g}=(0,ft.readUsVarChar)(t,e));let m;({offset:e,value:m}=(0,ft.readBVarChar)(t,e));let T;({offset:e,value:T}=(0,ft.readBVarChar)(t,e));let N;return{offset:e,value:N}=r.tdsVersion<"7_2"?(0,ft.readUInt16LE)(t,e):(0,ft.readUInt32LE)(t,e),new ft.Result({number:l,state:c,class:h,message:g,serverName:m,procName:T,lineNumber:N},e)}function YF(t,e,r){let o;return{offset:e,value:o}=xy(t,e,r),new ft.Result(new Fy.InfoMessageToken(o),e)}function VF(t,e,r){let o;return{offset:e,value:o}=xy(t,e,r),new ft.Result(new Fy.ErrorMessageToken(o),e)}});var Yy=O((La,By)=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.default=void 0;var Hf=He(),HF=We(),ky={STSURL:1,SPN:2};function WF(t){let e=0,r,o,l=t.readUInt32LE(e);e+=4;for(let c=0;c<l;c++){let h=t.readUInt8(e);e+=1;let g=t.readUInt32LE(e);e+=4;let m=t.readUInt32LE(e);switch(e+=4,h){case ky.SPN:r=t.toString("ucs2",m,m+g);break;case ky.STSURL:o=t.toString("ucs2",m,m+g);break;default:break}}return{spn:r,stsurl:o}}function qy(t,e,r){let o;if({offset:e,value:o}=(0,Hf.readUInt32LE)(t,e),t.length<e+o)throw new Hf.NotEnoughDataError(e+o);let l=t.slice(e,e+o);e+=o;let{spn:c,stsurl:h}=WF(l);return new Hf.Result(new HF.FedAuthInfoToken(c,h),e)}var GF=qy;La.default=GF;By.exports=qy});var Wy=O((Ma,Hy)=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.default=void 0;var Ca=He(),$F=We(),Wf={SESSIONRECOVERY:1,FEDAUTH:2,COLUMNENCRYPTION:4,GLOBALTRANSACTIONS:5,AZURESQLSUPPORT:8,UTF8_SUPPORT:10,TERMINATOR:255};function Vy(t,e,r){let o,l;for(;;){let c;if({value:c,offset:e}=(0,Ca.readUInt8)(t,e),c===Wf.TERMINATOR)return new Ca.Result(new $F.FeatureExtAckToken(o,l),e);let h;if({value:h,offset:e}=(0,Ca.readUInt32LE)(t,e),t.length<e+h)throw new Ca.NotEnoughDataError(e+h);let g=t.slice(e,e+h);switch(e+=h,c){case Wf.FEDAUTH:o=g;break;case Wf.UTF8_SUPPORT:l=!!g[0];break}}}var jF=Vy;Ma.default=jF;Hy.exports=Vy});var jy=O((Pa,$y)=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.default=void 0;var KF=We(),zF=Qr(),Gt=He(),ZF={0:"SQL_DFLT",1:"SQL_TSQL"};function Gy(t,e,r){let o;if({offset:e,value:o}=(0,Gt.readUInt16LE)(t,e),t.length<o+e)throw new Gt.NotEnoughDataError(o+e);let l;({offset:e,value:l}=(0,Gt.readUInt8)(t,e));let c=ZF[l],h;({offset:e,value:h}=(0,Gt.readUInt32BE)(t,e));let g=zF.versionsByValue[h],m;({offset:e,value:m}=(0,Gt.readBVarChar)(t,e));let T;({offset:e,value:T}=(0,Gt.readUInt8)(t,e));let N;({offset:e,value:N}=(0,Gt.readUInt8)(t,e));let A;({offset:e,value:A}=(0,Gt.readUInt8)(t,e));let R;return{offset:e,value:R}=(0,Gt.readUInt8)(t,e),new Gt.Result(new KF.LoginAckToken({interface:c,tdsVersion:g,progName:m,progVersion:{major:T,minor:N,buildNumHi:A,buildNumLow:R}}),e)}var XF=Gy;Pa.default=XF;$y.exports=Gy});var Zy=O((xa,zy)=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.default=void 0;var JF=We(),Fa=He();function Ky(t,e,r){let o;if({offset:e,value:o}=(0,Fa.readUInt16LE)(t,e),t.length<e+o)throw new Fa.NotEnoughDataError(e+o);let l=[];for(let c=0;c<o;c+=2){let h;({offset:e,value:h}=(0,Fa.readUInt16LE)(t,e)),l.push(h)}return new Fa.Result(new JF.OrderToken(l),e)}var QF=Ky;xa.default=QF;zy.exports=Ky});var ew=O((Ua,Qy)=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.default=void 0;var Xy=He(),ex=We();function Jy(t,e,r){let o;return{value:o,offset:e}=(0,Xy.readInt32LE)(t,e),new Xy.Result(new ex.ReturnStatusToken(o),e)}var tx=Jy;Ua.default=tx;Qy.exports=Jy});var Ba=O((Si,qa)=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.isPLPStream=sw;Si.readPLPStream=lw;Si.readValue=ow;var tw=Ia(),nx=wi(),rx=ix(require("iconv-lite")),rw=rr(),nw=rf(),B=He();function ix(t){return t&&t.__esModule?t:{default:t}}var Gf=(1<<16)-1,ox=(1<<16)-1,sx=3+1/3,iw=1e4,ax=0xFFFFFFFFFFFFFFFFn,ux=0xFFFFFFFFFFFFFFFEn,lx="utf8";function $f(t,e){return(0,B.readUInt8)(t,e)}function jf(t,e){return(0,B.readInt16LE)(t,e)}function Kf(t,e){return(0,B.readInt32LE)(t,e)}function zf(t,e){let r;return{offset:e,value:r}=(0,B.readBigInt64LE)(t,e),new B.Result(r.toString(),e)}function Zf(t,e){return(0,B.readFloatLE)(t,e)}function Xf(t,e){return(0,B.readDoubleLE)(t,e)}function Jf(t,e){let r;return{offset:e,value:r}=(0,B.readInt32LE)(t,e),new B.Result(r/iw,e)}function Qf(t,e){let r;({offset:e,value:r}=(0,B.readInt32LE)(t,e));let o;return{offset:e,value:o}=(0,B.readUInt32LE)(t,e),new B.Result((o+4294967296*r)/iw,e)}function eh(t,e){let r;return{offset:e,value:r}=(0,B.readUInt8)(t,e),new B.Result(!!r,e)}function ow(t,e,r,o){switch(r.type.name){case"Null":return new B.Result(null,e);case"TinyInt":return $f(t,e);case"SmallInt":return jf(t,e);case"Int":return Kf(t,e);case"BigInt":return zf(t,e);case"IntN":{let c;switch({offset:e,value:c}=(0,B.readUInt8)(t,e),c){case 0:return new B.Result(null,e);case 1:return $f(t,e);case 2:return jf(t,e);case 4:return Kf(t,e);case 8:return zf(t,e);default:throw new Error("Unsupported dataLength "+c+" for IntN")}}case"Real":return Zf(t,e);case"Float":return Xf(t,e);case"FloatN":{let c;switch({offset:e,value:c}=(0,B.readUInt8)(t,e),c){case 0:return new B.Result(null,e);case 4:return Zf(t,e);case 8:return Xf(t,e);default:throw new Error("Unsupported dataLength "+c+" for FloatN")}}case"SmallMoney":return Jf(t,e);case"Money":return Qf(t,e);case"MoneyN":{let c;switch({offset:e,value:c}=(0,B.readUInt8)(t,e),c){case 0:return new B.Result(null,e);case 4:return Jf(t,e);case 8:return Qf(t,e);default:throw new Error("Unsupported dataLength "+c+" for MoneyN")}}case"Bit":return eh(t,e);case"BitN":{let c;switch({offset:e,value:c}=(0,B.readUInt8)(t,e),c){case 0:return new B.Result(null,e);case 1:return eh(t,e);default:throw new Error("Unsupported dataLength "+c+" for BitN")}}case"VarChar":case"Char":{let c=r.collation.codepage,h;return{offset:e,value:h}=(0,B.readUInt16LE)(t,e),h===Gf?new B.Result(null,e):th(t,e,h,c)}case"NVarChar":case"NChar":{let c;return{offset:e,value:c}=(0,B.readUInt16LE)(t,e),c===Gf?new B.Result(null,e):nh(t,e,c)}case"VarBinary":case"Binary":{let c;return{offset:e,value:c}=(0,B.readUInt16LE)(t,e),c===Gf?new B.Result(null,e):$t(t,e,c)}case"Text":{let c;if({offset:e,value:c}=(0,B.readUInt8)(t,e),c===0)return new B.Result(null,e);({offset:e}=$t(t,e,c)),{offset:e}=$t(t,e,8);let h;return{offset:e,value:h}=(0,B.readUInt32LE)(t,e),th(t,e,h,r.collation.codepage)}case"NText":{let c;if({offset:e,value:c}=(0,B.readUInt8)(t,e),c===0)return new B.Result(null,e);({offset:e}=$t(t,e,c)),{offset:e}=$t(t,e,8);let h;return{offset:e,value:h}=(0,B.readUInt32LE)(t,e),nh(t,e,h)}case"Image":{let c;if({offset:e,value:c}=(0,B.readUInt8)(t,e),c===0)return new B.Result(null,e);({offset:e}=$t(t,e,c)),{offset:e}=$t(t,e,8);let h;return{offset:e,value:h}=(0,B.readUInt32LE)(t,e),$t(t,e,h)}case"SmallDateTime":return rh(t,e,o.useUTC);case"DateTime":return ih(t,e,o.useUTC);case"DateTimeN":{let c;switch({offset:e,value:c}=(0,B.readUInt8)(t,e),c){case 0:return new B.Result(null,e);case 4:return rh(t,e,o.useUTC);case 8:return ih(t,e,o.useUTC);default:throw new Error("Unsupported dataLength "+c+" for DateTimeN")}}case"Time":{let c;return{offset:e,value:c}=(0,B.readUInt8)(t,e),c===0?new B.Result(null,e):ka(t,e,c,r.scale,o.useUTC)}case"Date":{let c;return{offset:e,value:c}=(0,B.readUInt8)(t,e),c===0?new B.Result(null,e):cw(t,e,o.useUTC)}case"DateTime2":{let c;return{offset:e,value:c}=(0,B.readUInt8)(t,e),c===0?new B.Result(null,e):fw(t,e,c,r.scale,o.useUTC)}case"DateTimeOffset":{let c;return{offset:e,value:c}=(0,B.readUInt8)(t,e),c===0?new B.Result(null,e):hw(t,e,c,r.scale)}case"NumericN":case"DecimalN":{let c;return{offset:e,value:c}=(0,B.readUInt8)(t,e),c===0?new B.Result(null,e):uw(t,e,c,r.precision,r.scale)}case"UniqueIdentifier":{let c;switch({offset:e,value:c}=(0,B.readUInt8)(t,e),c){case 0:return new B.Result(null,e);case 16:return aw(t,e,o);default:throw new Error((0,rw.sprintf)("Unsupported guid size %d",c-1))}}case"Variant":{let c;return{offset:e,value:c}=(0,B.readUInt32LE)(t,e),c===0?new B.Result(null,e):cx(t,e,o,c)}default:throw new Error("Invalid type!")}}function sw(t){switch(t.type.name){case"VarChar":case"NVarChar":case"VarBinary":return t.dataLength===ox;case"Xml":return!0;case"UDT":return!0}}function aw(t,e,r){let o;return{value:o,offset:e}=$t(t,e,16),new B.Result(r.lowerCaseGuids?(0,nw.bufferToLowerCaseGuid)(o):(0,nw.bufferToUpperCaseGuid)(o),e)}function uw(t,e,r,o,l){let c;({offset:e,value:c}=(0,B.readUInt8)(t,e)),c=c===1?1:-1;let h;if(r===5)({offset:e,value:h}=(0,B.readUInt32LE)(t,e));else if(r===9)({offset:e,value:h}=(0,B.readUNumeric64LE)(t,e));else if(r===13)({offset:e,value:h}=(0,B.readUNumeric96LE)(t,e));else if(r===17)({offset:e,value:h}=(0,B.readUNumeric128LE)(t,e));else throw new Error((0,rw.sprintf)("Unsupported numeric dataLength %d",r));return new B.Result(h*c/Math.pow(10,l),e)}function cx(t,e,r,o){let l;({value:l,offset:e}=(0,B.readUInt8)(t,e));let c=nx.TYPE[l],h;switch({value:h,offset:e}=(0,B.readUInt8)(t,e),o=o-h-2,c.name){case"UniqueIdentifier":return aw(t,e,r);case"Bit":return eh(t,e);case"TinyInt":return $f(t,e);case"SmallInt":return jf(t,e);case"Int":return Kf(t,e);case"BigInt":return zf(t,e);case"SmallDateTime":return rh(t,e,r.useUTC);case"DateTime":return ih(t,e,r.useUTC);case"Real":return Zf(t,e);case"Float":return Xf(t,e);case"SmallMoney":return Jf(t,e);case"Money":return Qf(t,e);case"Date":return cw(t,e,r.useUTC);case"Time":{let g;return{value:g,offset:e}=(0,B.readUInt8)(t,e),ka(t,e,o,g,r.useUTC)}case"DateTime2":{let g;return{value:g,offset:e}=(0,B.readUInt8)(t,e),fw(t,e,o,g,r.useUTC)}case"DateTimeOffset":{let g;return{value:g,offset:e}=(0,B.readUInt8)(t,e),hw(t,e,o,g)}case"VarBinary":case"Binary":return{offset:e}=(0,B.readUInt16LE)(t,e),$t(t,e,o);case"NumericN":case"DecimalN":{let g;({value:g,offset:e}=(0,B.readUInt8)(t,e));let m;return{value:m,offset:e}=(0,B.readUInt8)(t,e),uw(t,e,o,g,m)}case"VarChar":case"Char":{({offset:e}=(0,B.readUInt16LE)(t,e));let g;return{value:g,offset:e}=(0,tw.readCollation)(t,e),th(t,e,o,g.codepage)}case"NVarChar":case"NChar":return{offset:e}=(0,B.readUInt16LE)(t,e),{offset:e}=(0,tw.readCollation)(t,e),nh(t,e,o);default:throw new Error("Invalid type!")}}function $t(t,e,r){if(t.length<e+r)throw new B.NotEnoughDataError(e+r);return new B.Result(t.slice(e,e+r),e+r)}function th(t,e,r,o){if(t.length<e+r)throw new B.NotEnoughDataError(e+r);return new B.Result(rx.default.decode(t.slice(e,e+r),o??lx),e+r)}function nh(t,e,r){if(t.length<e+r)throw new B.NotEnoughDataError(e+r);return new B.Result(t.toString("ucs2",e,e+r),e+r)}async function lw(t){for(;t.buffer.length<t.position+8;)await t.waitForChunk();let e=t.buffer.readBigUInt64LE(t.position);if(t.position+=8,e===ax)return null;let r=[],o=0;for(;;){for(;t.buffer.length<t.position+4;)await t.waitForChunk();let l=t.buffer.readUInt32LE(t.position);if(t.position+=4,!l)break;for(;t.buffer.length<t.position+l;)await t.waitForChunk();r.push(t.buffer.slice(t.position,t.position+l)),t.position+=l,o+=l}if(e!==ux&&o!==Number(e))throw new Error("Partially Length-prefixed Bytes unmatched lengths : expected "+e+", but got "+o+" bytes");return r}function rh(t,e,r){let o;({offset:e,value:o}=(0,B.readUInt16LE)(t,e));let l;({offset:e,value:l}=(0,B.readUInt16LE)(t,e));let c;return r?c=new Date(Date.UTC(1900,0,1+o,0,l)):c=new Date(1900,0,1+o,0,l),new B.Result(c,e)}function ih(t,e,r){let o;({offset:e,value:o}=(0,B.readInt32LE)(t,e));let l;({offset:e,value:l}=(0,B.readInt32LE)(t,e));let c=Math.round(l*sx),h;return r?h=new Date(Date.UTC(1900,0,1+o,0,0,0,c)):h=new Date(1900,0,1+o,0,0,0,c),new B.Result(h,e)}function ka(t,e,r,o,l){let c;switch(r){case 3:{({value:c,offset:e}=(0,B.readUInt24LE)(t,e));break}case 4:{({value:c,offset:e}=(0,B.readUInt32LE)(t,e));break}case 5:{({value:c,offset:e}=(0,B.readUInt40LE)(t,e));break}default:throw new Error("unreachable")}if(o<7)for(let g=o;g<7;g++)c*=10;let h;return l?h=new Date(Date.UTC(1970,0,1,0,0,0,c/1e4)):h=new Date(1970,0,1,0,0,0,c/1e4),Object.defineProperty(h,"nanosecondsDelta",{enumerable:!1,value:c%1e4/Math.pow(10,7)}),new B.Result(h,e)}function cw(t,e,r){let o;return{offset:e,value:o}=(0,B.readUInt24LE)(t,e),r?new B.Result(new Date(Date.UTC(2e3,0,o-730118)),e):new B.Result(new Date(2e3,0,o-730118),e)}function fw(t,e,r,o,l){let c;({offset:e,value:c}=ka(t,e,r-3,o,l));let h;({offset:e,value:h}=(0,B.readUInt24LE)(t,e));let g;return l?g=new Date(Date.UTC(2e3,0,h-730118,0,0,0,+c)):g=new Date(2e3,0,h-730118,c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds()),Object.defineProperty(g,"nanosecondsDelta",{enumerable:!1,value:c.nanosecondsDelta}),new B.Result(g,e)}function hw(t,e,r,o){let l;({offset:e,value:l}=ka(t,e,r-5,o,!0));let c;({offset:e,value:c}=(0,B.readUInt24LE)(t,e)),{offset:e}=(0,B.readUInt16LE)(t,e);let h=new Date(Date.UTC(2e3,0,c-730118,0,0,0,+l));return Object.defineProperty(h,"nanosecondsDelta",{enumerable:!1,value:l.nanosecondsDelta}),new B.Result(h,e)}qa.exports.readValue=ow;qa.exports.isPLPStream=sw;qa.exports.readPLPStream=lw});var gw=O((Ya,_w)=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.default=void 0;var fx=We(),hx=Ia(),oh=Ba(),Ni=He(),dx=px(require("iconv-lite"));function dw(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(dw=function(o){return o?r:e})(t)}function px(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=dw(e);if(r&&r.has(t))return r.get(t);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(c!=="default"&&Object.prototype.hasOwnProperty.call(t,c)){var h=l?Object.getOwnPropertyDescriptor(t,c):null;h&&(h.get||h.set)?Object.defineProperty(o,c,h):o[c]=t[c]}return o.default=t,r&&r.set(t,o),o}async function pw(t){let e,r,o;for(;;){let h=t.buffer,g=t.position;try{({offset:g,value:r}=(0,Ni.readUInt16LE)(h,g)),{offset:g,value:e}=(0,Ni.readBVarChar)(h,g),{offset:g}=(0,Ni.readUInt8)(h,g),{offset:g,value:o}=(0,hx.readMetadata)(h,g,t.options),e.charAt(0)==="@"&&(e=e.slice(1))}catch(m){if(m instanceof Ni.NotEnoughDataError){await t.waitForChunk();continue}throw m}t.position=g;break}let l;for(;;){let h=t.buffer,g=t.position;if((0,oh.isPLPStream)(o)){let m=await(0,oh.readPLPStream)(t);if(m===null)l=m;else if(o.type.name==="NVarChar"||o.type.name==="Xml")l=Buffer.concat(m).toString("ucs2");else if(o.type.name==="VarChar"){var c;l=dx.decode(Buffer.concat(m),((c=o.collation)===null||c===void 0?void 0:c.codepage)??"utf8")}else(o.type.name==="VarBinary"||o.type.name==="UDT")&&(l=Buffer.concat(m))}else{try{({value:l,offset:g}=(0,oh.readValue)(h,g,o,t.options))}catch(m){if(m instanceof Ni.NotEnoughDataError){await t.waitForChunk();continue}throw m}t.position=g}break}return new fx.ReturnValueToken({paramOrdinal:r,paramName:e,metadata:o,value:l})}var _x=pw;Ya.default=_x;_w.exports=pw});var vw=O((Va,ww)=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.default=void 0;var mw=We(),gx=Ex(require("iconv-lite")),sh=Ba(),mx=He();function Ew(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(Ew=function(o){return o?r:e})(t)}function Ex(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=Ew(e);if(r&&r.has(t))return r.get(t);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(c!=="default"&&Object.prototype.hasOwnProperty.call(t,c)){var h=l?Object.getOwnPropertyDescriptor(t,c):null;h&&(h.get||h.set)?Object.defineProperty(o,c,h):o[c]=t[c]}return o.default=t,r&&r.set(t,o),o}async function yw(t){let e=[];for(let o of t.colMetadata)for(;;){if((0,sh.isPLPStream)(o)){let l=await(0,sh.readPLPStream)(t);if(l===null)e.push({value:l,metadata:o});else if(o.type.name==="NVarChar"||o.type.name==="Xml")e.push({value:Buffer.concat(l).toString("ucs2"),metadata:o});else if(o.type.name==="VarChar"){var r;e.push({value:gx.decode(Buffer.concat(l),((r=o.collation)===null||r===void 0?void 0:r.codepage)??"utf8"),metadata:o})}else(o.type.name==="VarBinary"||o.type.name==="UDT")&&e.push({value:Buffer.concat(l),metadata:o})}else{let l;try{l=(0,sh.readValue)(t.buffer,t.position,o,t.options)}catch(c){if(c instanceof mx.NotEnoughDataError){await t.waitForChunk();continue}throw c}t.position=l.offset,e.push({value:l.value,metadata:o})}break}if(t.options.useColumnNames){let o=Object.create(null);return e.forEach(l=>{let c=l.metadata.colName;o[c]==null&&(o[c]=l)}),new mw.RowToken(o)}else return new mw.RowToken(e)}var yx=yw;Va.default=yx;ww.exports=yw});var Aw=O((Ha,Ow)=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.default=void 0;var Tw=We(),wx=Tx(require("iconv-lite")),ah=Ba(),vx=He();function Sw(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(Sw=function(o){return o?r:e})(t)}function Tx(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=Sw(e);if(r&&r.has(t))return r.get(t);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(c!=="default"&&Object.prototype.hasOwnProperty.call(t,c)){var h=l?Object.getOwnPropertyDescriptor(t,c):null;h&&(h.get||h.set)?Object.defineProperty(o,c,h):o[c]=t[c]}return o.default=t,r&&r.set(t,o),o}async function Nw(t){let e=t.colMetadata,r=[],o=[],l=Math.ceil(e.length/8);for(;t.buffer.length-t.position<l;)await t.waitForChunk();let c=t.buffer.slice(t.position,t.position+l);t.position+=l;for(let g=0,m=c.length;g<m;g++){let T=c[g];o.push(!!(T&1)),o.push(!!(T&2)),o.push(!!(T&4)),o.push(!!(T&8)),o.push(!!(T&16)),o.push(!!(T&32)),o.push(!!(T&64)),o.push(!!(T&128))}for(let g=0;g<e.length;g++){let m=e[g];if(o[g]){r.push({value:null,metadata:m});continue}for(;;){if((0,ah.isPLPStream)(m)){let T=await(0,ah.readPLPStream)(t);if(T===null)r.push({value:T,metadata:m});else if(m.type.name==="NVarChar"||m.type.name==="Xml")r.push({value:Buffer.concat(T).toString("ucs2"),metadata:m});else if(m.type.name==="VarChar"){var h;r.push({value:wx.decode(Buffer.concat(T),((h=m.collation)===null||h===void 0?void 0:h.codepage)??"utf8"),metadata:m})}else(m.type.name==="VarBinary"||m.type.name==="UDT")&&r.push({value:Buffer.concat(T),metadata:m})}else{let T;try{T=(0,ah.readValue)(t.buffer,t.position,m,t.options)}catch(N){if(N instanceof vx.NotEnoughDataError){await t.waitForChunk();continue}throw N}t.position=T.offset,r.push({value:T.value,metadata:m})}break}}if(t.options.useColumnNames){let g=Object.create(null);return r.forEach(m=>{let T=m.metadata.colName;g[T]==null&&(g[T]=m)}),new Tw.NBCRowToken(g)}else return new Tw.NBCRowToken(r)}var Sx=Nw;Ha.default=Sx;Ow.exports=Nw});var Dw=O((Wa,bw)=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.default=void 0;var uh=He(),Nx=We();function Ox(t){let e={};return e.magic=t.slice(0,8).toString("utf8"),e.type=t.readInt32LE(8),e.domainLen=t.readInt16LE(12),e.domainMax=t.readInt16LE(14),e.domainOffset=t.readInt32LE(16),e.flags=t.readInt32LE(20),e.nonce=t.slice(24,32),e.zeroes=t.slice(32,40),e.targetLen=t.readInt16LE(40),e.targetMax=t.readInt16LE(42),e.targetOffset=t.readInt32LE(44),e.oddData=t.slice(48,56),e.domain=t.slice(56,56+e.domainLen).toString("ucs2"),e.target=t.slice(56+e.domainLen,56+e.domainLen+e.targetLen),e}function Iw(t,e,r){let o;if({offset:e,value:o}=(0,uh.readUInt16LE)(t,e),t.length<e+o)throw new uh.NotEnoughDataError(e+o);let l=t.slice(e,e+o);return e+=o,new uh.Result(new Nx.SSPIToken(Ox(l),l),e)}var Ax=Iw;Wa.default=Ax;bw.exports=Iw});var Cw=O((Ga,Lw)=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.default=void 0;var Ze=We(),Ix=Lt(Dy()),lh=Ry(),bx=Lt(Py()),Rw=Uy(),Dx=Lt(Yy()),Rx=Lt(Wy()),Lx=Lt(jy()),Cx=Lt(Zy()),Mx=Lt(ew()),Px=Lt(gw()),Fx=Lt(vw()),xx=Lt(Aw()),Ux=Lt(Dw()),wt=He();function Lt(t){return t&&t.__esModule?t:{default:t}}var Ar=class{debug;colMetadata;options;iterator;buffer;position;static async*parseTokens(e,r,o,l=[]){let c=new Ar(e,r,o);for(c.colMetadata=l;;){try{await c.waitForChunk()}catch(h){if(c.position===c.buffer.length)return;throw h}for(;c.buffer.length>=c.position+1;){let h=c.buffer.readUInt8(c.position);c.position+=1;let g=c.readToken(h);g!==void 0&&(yield g)}}}readToken(e){switch(e){case Ze.TYPE.DONE:return this.readDoneToken();case Ze.TYPE.DONEPROC:return this.readDoneProcToken();case Ze.TYPE.DONEINPROC:return this.readDoneInProcToken();case Ze.TYPE.ERROR:return this.readErrorToken();case Ze.TYPE.INFO:return this.readInfoToken();case Ze.TYPE.ENVCHANGE:return this.readEnvChangeToken();case Ze.TYPE.LOGINACK:return this.readLoginAckToken();case Ze.TYPE.RETURNSTATUS:return this.readReturnStatusToken();case Ze.TYPE.ORDER:return this.readOrderToken();case Ze.TYPE.FEDAUTHINFO:return this.readFedAuthInfoToken();case Ze.TYPE.SSPI:return this.readSSPIToken();case Ze.TYPE.COLMETADATA:return this.readColMetadataToken();case Ze.TYPE.RETURNVALUE:return this.readReturnValueToken();case Ze.TYPE.ROW:return this.readRowToken();case Ze.TYPE.NBCROW:return this.readNbcRowToken();case Ze.TYPE.FEATUREEXTACK:return this.readFeatureExtAckToken();default:throw new Error("Unknown type: "+e)}}readFeatureExtAckToken(){let e;try{e=(0,Rx.default)(this.buffer,this.position,this.options)}catch(r){if(r instanceof wt.NotEnoughDataError)return this.waitForChunk().then(()=>this.readFeatureExtAckToken());throw r}return this.position=e.offset,e.value}async readNbcRowToken(){return await(0,xx.default)(this)}async readReturnValueToken(){return await(0,Px.default)(this)}async readColMetadataToken(){let e=await(0,Ix.default)(this);return this.colMetadata=e.columns,e}readSSPIToken(){let e;try{e=(0,Ux.default)(this.buffer,this.position,this.options)}catch(r){if(r instanceof wt.NotEnoughDataError)return this.waitForChunk().then(()=>this.readSSPIToken());throw r}return this.position=e.offset,e.value}readFedAuthInfoToken(){let e;try{e=(0,Dx.default)(this.buffer,this.position,this.options)}catch(r){if(r instanceof wt.NotEnoughDataError)return this.waitForChunk().then(()=>this.readFedAuthInfoToken());throw r}return this.position=e.offset,e.value}readOrderToken(){let e;try{e=(0,Cx.default)(this.buffer,this.position,this.options)}catch(r){if(r instanceof wt.NotEnoughDataError)return this.waitForChunk().then(()=>this.readOrderToken());throw r}return this.position=e.offset,e.value}readReturnStatusToken(){let e;try{e=(0,Mx.default)(this.buffer,this.position,this.options)}catch(r){if(r instanceof wt.NotEnoughDataError)return this.waitForChunk().then(()=>this.readReturnStatusToken());throw r}return this.position=e.offset,e.value}readLoginAckToken(){let e;try{e=(0,Lx.default)(this.buffer,this.position,this.options)}catch(r){if(r instanceof wt.NotEnoughDataError)return this.waitForChunk().then(()=>this.readLoginAckToken());throw r}return this.position=e.offset,e.value}readEnvChangeToken(){let e;try{e=(0,bx.default)(this.buffer,this.position,this.options)}catch(r){if(r instanceof wt.NotEnoughDataError)return this.waitForChunk().then(()=>this.readEnvChangeToken());throw r}return this.position=e.offset,e.value}readRowToken(){return(0,Fx.default)(this)}readInfoToken(){let e;try{e=(0,Rw.infoParser)(this.buffer,this.position,this.options)}catch(r){if(r instanceof wt.NotEnoughDataError)return this.waitForChunk().then(()=>this.readInfoToken());throw r}return this.position=e.offset,e.value}readErrorToken(){let e;try{e=(0,Rw.errorParser)(this.buffer,this.position,this.options)}catch(r){if(r instanceof wt.NotEnoughDataError)return this.waitForChunk().then(()=>this.readErrorToken());throw r}return this.position=e.offset,e.value}readDoneInProcToken(){let e;try{e=(0,lh.doneInProcParser)(this.buffer,this.position,this.options)}catch(r){if(r instanceof wt.NotEnoughDataError)return this.waitForChunk().then(()=>this.readDoneInProcToken());throw r}return this.position=e.offset,e.value}readDoneProcToken(){let e;try{e=(0,lh.doneProcParser)(this.buffer,this.position,this.options)}catch(r){if(r instanceof wt.NotEnoughDataError)return this.waitForChunk().then(()=>this.readDoneProcToken());throw r}return this.position=e.offset,e.value}readDoneToken(){let e;try{e=(0,lh.doneParser)(this.buffer,this.position,this.options)}catch(r){if(r instanceof wt.NotEnoughDataError)return this.waitForChunk().then(()=>this.readDoneToken());throw r}return this.position=e.offset,e.value}constructor(e,r,o){this.debug=r,this.colMetadata=[],this.options=o,this.iterator=(e[Symbol.asyncIterator]||e[Symbol.iterator]).call(e),this.buffer=Buffer.alloc(0),this.position=0}async waitForChunk(){let e=await this.iterator.next();if(e.done)throw new Error("unexpected end of data");this.position===this.buffer.length?this.buffer=e.value:this.buffer=Buffer.concat([this.buffer.slice(this.position),e.value]),this.position=0}},kx=Ar;Ga.default=kx;Lw.exports=Ar});var Mw=O($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.Parser=void 0;var qx=require("events"),Bx=Vx(Cw()),Yx=require("stream");function Vx(t){return t&&t.__esModule?t:{default:t}}var ch=class extends qx.EventEmitter{constructor(e,r,o,l){super(),this.debug=r,this.options=l,this.parser=Yx.Readable.from(Bx.default.parseTokens(e,this.debug,this.options)),this.parser.on("data",c=>{o[c.handlerName](c)}),this.parser.on("drain",()=>{this.emit("drain")}),this.parser.on("end",()=>{this.emit("end")})}pause(){return this.parser.pause()}resume(){return this.parser.resume()}};$a.Parser=ch});var dh=O(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.Transaction=Ct.OPERATION_TYPE=Ct.ISOLATION_LEVEL=void 0;Ct.assertValidIsolationLevel=Wx;Ct.isolationLevelByValue=void 0;var ja=Hx(it()),Ka=xo();function Hx(t){return t&&t.__esModule?t:{default:t}}var Oi={TM_GET_DTC_ADDRESS:0,TM_PROPAGATE_XACT:1,TM_BEGIN_XACT:5,TM_PROMOTE_XACT:6,TM_COMMIT_XACT:7,TM_ROLLBACK_XACT:8,TM_SAVE_XACT:9};Ct.OPERATION_TYPE=Oi;var sn={NO_CHANGE:0,READ_UNCOMMITTED:1,READ_COMMITTED:2,REPEATABLE_READ:3,SERIALIZABLE:4,SNAPSHOT:5};Ct.ISOLATION_LEVEL=sn;var hh={};Ct.isolationLevelByValue=hh;for(let t in sn){let e=sn[t];hh[e]=t}function Wx(t,e){if(typeof t!="number")throw new TypeError(`The "${e}" ${e.includes(".")?"property":"argument"} must be of type number. Received type ${typeof t} (${t})`);if(!Number.isInteger(t))throw new RangeError(`The value of "${e}" is out of range. It must be an integer. Received: ${t}`);if(!(t>=0&&t<=5))throw new RangeError(`The value of "${e}" is out of range. It must be >= 0 && <= 5. Received: ${t}`)}var fh=class{constructor(e,r=sn.NO_CHANGE){this.name=e,this.isolationLevel=r,this.outstandingRequestCount=1}beginPayload(e){let r=new ja.default(100,"ucs2");return(0,Ka.writeToTrackingBuffer)(r,e,this.outstandingRequestCount),r.writeUShort(Oi.TM_BEGIN_XACT),r.writeUInt8(this.isolationLevel),r.writeUInt8(this.name.length*2),r.writeString(this.name,"ucs2"),{*[Symbol.iterator](){yield r.data},toString:()=>"Begin Transaction: name="+this.name+", isolationLevel="+hh[this.isolationLevel]}}commitPayload(e){let r=new ja.default(100,"ascii");return(0,Ka.writeToTrackingBuffer)(r,e,this.outstandingRequestCount),r.writeUShort(Oi.TM_COMMIT_XACT),r.writeUInt8(this.name.length*2),r.writeString(this.name,"ucs2"),r.writeUInt8(0),{*[Symbol.iterator](){yield r.data},toString:()=>"Commit Transaction: name="+this.name}}rollbackPayload(e){let r=new ja.default(100,"ascii");return(0,Ka.writeToTrackingBuffer)(r,e,this.outstandingRequestCount),r.writeUShort(Oi.TM_ROLLBACK_XACT),r.writeUInt8(this.name.length*2),r.writeString(this.name,"ucs2"),r.writeUInt8(0),{*[Symbol.iterator](){yield r.data},toString:()=>"Rollback Transaction: name="+this.name}}savePayload(e){let r=new ja.default(100,"ascii");return(0,Ka.writeToTrackingBuffer)(r,e,this.outstandingRequestCount),r.writeUShort(Oi.TM_SAVE_XACT),r.writeUInt8(this.name.length*2),r.writeString(this.name,"ucs2"),{*[Symbol.iterator](){yield r.data},toString:()=>"Save Transaction: name="+this.name}}isolationLevelToTSQL(){switch(this.isolationLevel){case sn.READ_UNCOMMITTED:return"READ UNCOMMITTED";case sn.READ_COMMITTED:return"READ COMMITTED";case sn.REPEATABLE_READ:return"REPEATABLE READ";case sn.SERIALIZABLE:return"SERIALIZABLE";case sn.SNAPSHOT:return"SNAPSHOT"}return""}};Ct.Transaction=fh});var xw=O((JV,Fw)=>{"use strict";var Gx="Function.prototype.bind called on incompatible ",$x=Object.prototype.toString,jx=Math.max,Kx="[object Function]",Pw=function(e,r){for(var o=[],l=0;l<e.length;l+=1)o[l]=e[l];for(var c=0;c<r.length;c+=1)o[c+e.length]=r[c];return o},zx=function(e,r){for(var o=[],l=r||0,c=0;l<e.length;l+=1,c+=1)o[c]=e[l];return o},Zx=function(t,e){for(var r="",o=0;o<t.length;o+=1)r+=t[o],o+1<t.length&&(r+=e);return r};Fw.exports=function(e){var r=this;if(typeof r!="function"||$x.apply(r)!==Kx)throw new TypeError(Gx+r);for(var o=zx(arguments,1),l,c=function(){if(this instanceof l){var N=r.apply(this,Pw(o,arguments));return Object(N)===N?N:this}return r.apply(e,Pw(o,arguments))},h=jx(0,r.length-o.length),g=[],m=0;m<h;m++)g[m]="$"+m;if(l=Function("binder","return function ("+Zx(g,",")+"){ return binder.apply(this,arguments); }")(c),r.prototype){var T=function(){};T.prototype=r.prototype,l.prototype=new T,T.prototype=null}return l}});var Ai=O((QV,Uw)=>{"use strict";var Xx=xw();Uw.exports=Function.prototype.bind||Xx});var ph=O((e3,qw)=>{"use strict";var kw=Object.prototype.toString;qw.exports=function(e){var r=kw.call(e),o=r==="[object Arguments]";return o||(o=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&kw.call(e.callee)==="[object Function]"),o}});var Kw=O((t3,jw)=>{"use strict";var $w;Object.keys||(Ii=Object.prototype.hasOwnProperty,_h=Object.prototype.toString,Bw=ph(),gh=Object.prototype.propertyIsEnumerable,Yw=!gh.call({toString:null},"toString"),Vw=gh.call(function(){},"prototype"),bi=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],za=function(t){var e=t.constructor;return e&&e.prototype===t},Hw={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Ww=function(){if(typeof window>"u")return!1;for(var t in window)try{if(!Hw["$"+t]&&Ii.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{za(window[t])}catch{return!0}}catch{return!0}return!1}(),Gw=function(t){if(typeof window>"u"||!Ww)return za(t);try{return za(t)}catch{return!1}},$w=function(e){var r=e!==null&&typeof e=="object",o=_h.call(e)==="[object Function]",l=Bw(e),c=r&&_h.call(e)==="[object String]",h=[];if(!r&&!o&&!l)throw new TypeError("Object.keys called on a non-object");var g=Vw&&o;if(c&&e.length>0&&!Ii.call(e,0))for(var m=0;m<e.length;++m)h.push(String(m));if(l&&e.length>0)for(var T=0;T<e.length;++T)h.push(String(T));else for(var N in e)!(g&&N==="prototype")&&Ii.call(e,N)&&h.push(String(N));if(Yw)for(var A=Gw(e),R=0;R<bi.length;++R)!(A&&bi[R]==="constructor")&&Ii.call(e,bi[R])&&h.push(bi[R]);return h});var Ii,_h,Bw,gh,Yw,Vw,bi,za,Hw,Ww,Gw;jw.exports=$w});var Jw=O((n3,Xw)=>{"use strict";var Jx=Array.prototype.slice,Qx=ph(),zw=Object.keys,Za=zw?function(e){return zw(e)}:Kw(),Zw=Object.keys;Za.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(o){return Qx(o)?Zw(Jx.call(o)):Zw(o)})}else Object.keys=Za;return Object.keys||Za};Xw.exports=Za});var mh=O((r3,Qw)=>{"use strict";Qw.exports=Error});var tv=O((i3,ev)=>{"use strict";ev.exports=EvalError});var rv=O((o3,nv)=>{"use strict";nv.exports=RangeError});var ov=O((s3,iv)=>{"use strict";iv.exports=ReferenceError});var yn=O((a3,sv)=>{"use strict";sv.exports=SyntaxError});var ee=O((u3,av)=>{"use strict";av.exports=TypeError});var lv=O((l3,uv)=>{"use strict";uv.exports=URIError});var Eh=O((c3,cv)=>{"use strict";cv.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),o=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var l=42;e[r]=l;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(e,r);if(h.value!==l||h.enumerable!==!0)return!1}return!0}});var Xa=O((f3,hv)=>{"use strict";var fv=typeof Symbol<"u"&&Symbol,eU=Eh();hv.exports=function(){return typeof fv!="function"||typeof Symbol!="function"||typeof fv("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:eU()}});var Di=O((h3,dv)=>{"use strict";var yh={__proto__:null,foo:{}},tU=Object;dv.exports=function(){return{__proto__:yh}.foo===yh.foo&&!(yh instanceof tU)}});var an=O((d3,pv)=>{"use strict";var nU=Function.prototype.call,rU=Object.prototype.hasOwnProperty,iU=Ai();pv.exports=iU.call(nU,rU)});var Pe=O((p3,yv)=>{"use strict";var ae,oU=mh(),sU=tv(),aU=rv(),uU=ov(),Rr=yn(),Dr=ee(),lU=lv(),Ev=Function,wh=function(t){try{return Ev('"use strict"; return ('+t+").constructor;")()}catch{}},Bn=Object.getOwnPropertyDescriptor;if(Bn)try{Bn({},"")}catch{Bn=null}var vh=function(){throw new Dr},cU=Bn?function(){try{return arguments.callee,vh}catch{try{return Bn(arguments,"callee").get}catch{return vh}}}():vh,Ir=Xa()(),fU=Di()(),qe=Object.getPrototypeOf||(fU?function(t){return t.__proto__}:null),br={},hU=typeof Uint8Array>"u"||!qe?ae:qe(Uint8Array),Yn={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ae:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ae:ArrayBuffer,"%ArrayIteratorPrototype%":Ir&&qe?qe([][Symbol.iterator]()):ae,"%AsyncFromSyncIteratorPrototype%":ae,"%AsyncFunction%":br,"%AsyncGenerator%":br,"%AsyncGeneratorFunction%":br,"%AsyncIteratorPrototype%":br,"%Atomics%":typeof Atomics>"u"?ae:Atomics,"%BigInt%":typeof BigInt>"u"?ae:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ae:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ae:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ae:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":oU,"%eval%":eval,"%EvalError%":sU,"%Float32Array%":typeof Float32Array>"u"?ae:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ae:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ae:FinalizationRegistry,"%Function%":Ev,"%GeneratorFunction%":br,"%Int8Array%":typeof Int8Array>"u"?ae:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ae:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ae:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ir&&qe?qe(qe([][Symbol.iterator]())):ae,"%JSON%":typeof JSON=="object"?JSON:ae,"%Map%":typeof Map>"u"?ae:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ir||!qe?ae:qe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ae:Promise,"%Proxy%":typeof Proxy>"u"?ae:Proxy,"%RangeError%":aU,"%ReferenceError%":uU,"%Reflect%":typeof Reflect>"u"?ae:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ae:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ir||!qe?ae:qe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ae:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ir&&qe?qe(""[Symbol.iterator]()):ae,"%Symbol%":Ir?Symbol:ae,"%SyntaxError%":Rr,"%ThrowTypeError%":cU,"%TypedArray%":hU,"%TypeError%":Dr,"%Uint8Array%":typeof Uint8Array>"u"?ae:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ae:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ae:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ae:Uint32Array,"%URIError%":lU,"%WeakMap%":typeof WeakMap>"u"?ae:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ae:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ae:WeakSet};if(qe)try{null.error}catch(t){_v=qe(qe(t)),Yn["%Error.prototype%"]=_v}var _v,dU=function t(e){var r;if(e==="%AsyncFunction%")r=wh("async function () {}");else if(e==="%GeneratorFunction%")r=wh("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=wh("async function* () {}");else if(e==="%AsyncGenerator%"){var o=t("%AsyncGeneratorFunction%");o&&(r=o.prototype)}else if(e==="%AsyncIteratorPrototype%"){var l=t("%AsyncGenerator%");l&&qe&&(r=qe(l.prototype))}return Yn[e]=r,r},gv={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ri=Ai(),Ja=an(),pU=Ri.call(Function.call,Array.prototype.concat),_U=Ri.call(Function.apply,Array.prototype.splice),mv=Ri.call(Function.call,String.prototype.replace),Qa=Ri.call(Function.call,String.prototype.slice),gU=Ri.call(Function.call,RegExp.prototype.exec),mU=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,EU=/\\(\\)?/g,yU=function(e){var r=Qa(e,0,1),o=Qa(e,-1);if(r==="%"&&o!=="%")throw new Rr("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&r!=="%")throw new Rr("invalid intrinsic syntax, expected opening `%`");var l=[];return mv(e,mU,function(c,h,g,m){l[l.length]=g?mv(m,EU,"$1"):h||c}),l},wU=function(e,r){var o=e,l;if(Ja(gv,o)&&(l=gv[o],o="%"+l[0]+"%"),Ja(Yn,o)){var c=Yn[o];if(c===br&&(c=dU(o)),typeof c>"u"&&!r)throw new Dr("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:l,name:o,value:c}}throw new Rr("intrinsic "+e+" does not exist!")};yv.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Dr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Dr('"allowMissing" argument must be a boolean');if(gU(/^%?[^%]*%?$/,e)===null)throw new Rr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=yU(e),l=o.length>0?o[0]:"",c=wU("%"+l+"%",r),h=c.name,g=c.value,m=!1,T=c.alias;T&&(l=T[0],_U(o,pU([0,1],T)));for(var N=1,A=!0;N<o.length;N+=1){var R=o[N],F=Qa(R,0,1),P=Qa(R,-1);if((F==='"'||F==="'"||F==="`"||P==='"'||P==="'"||P==="`")&&F!==P)throw new Rr("property names with quotes must have matching quotes");if((R==="constructor"||!A)&&(m=!0),l+="."+R,h="%"+l+"%",Ja(Yn,h))g=Yn[h];else if(g!=null){if(!(R in g)){if(!r)throw new Dr("base intrinsic for "+e+" exists, but the property is not available.");return}if(Bn&&N+1>=o.length){var y=Bn(g,R);A=!!y,A&&"get"in y&&!("originalValue"in y.get)?g=y.get:g=g[R]}else A=Ja(g,R),g=g[R];A&&!m&&(Yn[h]=g)}}return g}});var Li=O((_3,wv)=>{"use strict";var vU=Pe(),eu=vU("%Object.defineProperty%",!0)||!1;if(eu)try{eu({},"a",{value:1})}catch{eu=!1}wv.exports=eu});var Ci=O((g3,vv)=>{"use strict";var TU=Pe(),tu=TU("%Object.getOwnPropertyDescriptor%",!0);if(tu)try{tu([],"length")}catch{tu=null}vv.exports=tu});var Mi=O((m3,Nv)=>{"use strict";var Tv=Li(),SU=yn(),Lr=ee(),Sv=Ci();Nv.exports=function(e,r,o){if(!e||typeof e!="object"&&typeof e!="function")throw new Lr("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Lr("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Lr("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Lr("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Lr("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Lr("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,g=arguments.length>6?arguments[6]:!1,m=!!Sv&&Sv(e,r);if(Tv)Tv(e,r,{configurable:h===null&&m?m.configurable:!h,enumerable:l===null&&m?m.enumerable:!l,value:o,writable:c===null&&m?m.writable:!c});else if(g||!l&&!c&&!h)e[r]=o;else throw new SU("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var Cr=O((E3,Av)=>{"use strict";var Th=Li(),Ov=function(){return!!Th};Ov.hasArrayLengthDefineBug=function(){if(!Th)return null;try{return Th([],"length",{value:1}).length!==1}catch{return!0}};Av.exports=Ov});var Pi=O((y3,Rv)=>{"use strict";var NU=Jw(),OU=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",AU=Object.prototype.toString,IU=Array.prototype.concat,Iv=Mi(),bU=function(t){return typeof t=="function"&&AU.call(t)==="[object Function]"},bv=Cr()(),DU=function(t,e,r,o){if(e in t){if(o===!0){if(t[e]===r)return}else if(!bU(o)||!o())return}bv?Iv(t,e,r,!0):Iv(t,e,r)},Dv=function(t,e){var r=arguments.length>2?arguments[2]:{},o=NU(e);OU&&(o=IU.call(o,Object.getOwnPropertySymbols(e)));for(var l=0;l<o.length;l+=1)DU(t,o[l],e[o[l]],r[o[l]])};Dv.supportsDescriptors=!!bv;Rv.exports=Dv});var Cv=O((w3,Lv)=>{"use strict";var xi=function(){return typeof function(){}.name=="string"},Fi=Object.getOwnPropertyDescriptor;if(Fi)try{Fi([],"length")}catch{Fi=null}xi.functionsHaveConfigurableNames=function(){if(!xi()||!Fi)return!1;var e=Fi(function(){},"name");return!!e&&!!e.configurable};var RU=Function.prototype.bind;xi.boundFunctionsHaveNames=function(){return xi()&&typeof RU=="function"&&function(){}.bind().name!==""};Lv.exports=xi});var Fv=O((v3,Pv)=>{"use strict";var Mv=Mi(),LU=Cr()(),CU=Cv().functionsHaveConfigurableNames(),MU=ee();Pv.exports=function(e,r){if(typeof e!="function")throw new MU("`fn` is not a function");var o=arguments.length>2&&!!arguments[2];return(!o||CU)&&(LU?Mv(e,"name",r,!0,!0):Mv(e,"name",r)),e}});var wn=O((T3,xv)=>{"use strict";xv.exports=function(e){return typeof e=="string"||typeof e=="symbol"}});var jt=O((S3,Uv)=>{"use strict";var PU=ee(),Ui=an(),FU={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};Uv.exports=function(e){if(!e||typeof e!="object")return!1;for(var r in e)if(Ui(e,r)&&!FU[r])return!1;var o=Ui(e,"[[Value]]")||Ui(e,"[[Writable]]"),l=Ui(e,"[[Get]]")||Ui(e,"[[Set]]");if(o&&l)throw new PU("Property Descriptors may not be both accessor and data descriptors");return!0}});var nu=O((N3,qv)=>{"use strict";var xU=ee(),kv=an(),UU=jt();qv.exports=function(e){if(typeof e>"u")return!1;if(!UU(e))throw new xU("Assertion failed: `Desc` must be a Property Descriptor");return!(!kv(e,"[[Get]]")&&!kv(e,"[[Set]]"))}});var Yv=O((O3,Bv)=>{"use strict";Bv.exports=function(e){return e===null||typeof e!="function"&&typeof e!="object"}});var Gv=O((A3,Wv)=>{"use strict";var Hv=Pe(),kU=Hv("%Object.preventExtensions%",!0),qU=Hv("%Object.isExtensible%",!0),Vv=Yv();Wv.exports=kU?function(e){return!Vv(e)&&qU(e)}:function(e){return!Vv(e)}});var Sh=O((I3,$v)=>{"use strict";$v.exports=function(e){if(e===null)return"Null";if(typeof e>"u")return"Undefined";if(typeof e=="function"||typeof e=="object")return"Object";if(typeof e=="number")return"Number";if(typeof e=="boolean")return"Boolean";if(typeof e=="string")return"String"}});var nt=O((b3,jv)=>{"use strict";var BU=Sh();jv.exports=function(e){return typeof e=="symbol"?"Symbol":typeof e=="bigint"?"BigInt":BU(e)}});var Nh=O((D3,Kv)=>{"use strict";Kv.exports=function(e){return!!e}});var Jv=O((R3,Xv)=>{"use strict";var Zv=Function.prototype.toString,Mr=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Ah,ru;if(typeof Mr=="function"&&typeof Object.defineProperty=="function")try{Ah=Object.defineProperty({},"length",{get:function(){throw ru}}),ru={},Mr(function(){throw 42},null,Ah)}catch(t){t!==ru&&(Mr=null)}else Mr=null;var YU=/^\s*class\b/,Ih=function(e){try{var r=Zv.call(e);return YU.test(r)}catch{return!1}},Oh=function(e){try{return Ih(e)?!1:(Zv.call(e),!0)}catch{return!1}},iu=Object.prototype.toString,VU="[object Object]",HU="[object Function]",WU="[object GeneratorFunction]",GU="[object HTMLAllCollection]",$U="[object HTML document.all class]",jU="[object HTMLCollection]",KU=typeof Symbol=="function"&&!!Symbol.toStringTag,zU=!(0 in[,]),bh=function(){return!1};typeof document=="object"&&(zv=document.all,iu.call(zv)===iu.call(document.all)&&(bh=function(e){if((zU||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=iu.call(e);return(r===GU||r===$U||r===jU||r===VU)&&e("")==null}catch{}return!1}));var zv;Xv.exports=Mr?function(e){if(bh(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Mr(e,null,Ah)}catch(r){if(r!==ru)return!1}return!Ih(e)&&Oh(e)}:function(e){if(bh(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(KU)return Oh(e);if(Ih(e))return!1;var r=iu.call(e);return r!==HU&&r!==WU&&!/^\[object HTML/.test(r)?!1:Oh(e)}});var ou=O((L3,Qv)=>{"use strict";Qv.exports=Jv()});var nT=O((C3,tT)=>{"use strict";var Kt=an(),su=ee(),ZU=nt(),Dh=Nh(),eT=ou();tT.exports=function(e){if(ZU(e)!=="Object")throw new su("ToPropertyDescriptor requires an object");var r={};if(Kt(e,"enumerable")&&(r["[[Enumerable]]"]=Dh(e.enumerable)),Kt(e,"configurable")&&(r["[[Configurable]]"]=Dh(e.configurable)),Kt(e,"value")&&(r["[[Value]]"]=e.value),Kt(e,"writable")&&(r["[[Writable]]"]=Dh(e.writable)),Kt(e,"get")){var o=e.get;if(typeof o<"u"&&!eT(o))throw new su("getter must be a function");r["[[Get]]"]=o}if(Kt(e,"set")){var l=e.set;if(typeof l<"u"&&!eT(l))throw new su("setter must be a function");r["[[Set]]"]=l}if((Kt(r,"[[Get]]")||Kt(r,"[[Set]]"))&&(Kt(r,"[[Value]]")||Kt(r,"[[Writable]]")))throw new su("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return r}});var ki=O((M3,rT)=>{"use strict";rT.exports=Number.isNaN||function(e){return e!==e}});var Rh=O((P3,oT)=>{"use strict";var iT=ki();oT.exports=function(e,r){return e===r?e===0?1/e===1/r:!0:iT(e)&&iT(r)}});var cT=O((F3,lT)=>{"use strict";var XU=Pe(),sT=Mi(),JU=Cr()(),aT=Ci(),uT=ee(),QU=XU("%Math.floor%");lT.exports=function(e,r){if(typeof e!="function")throw new uT("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||QU(r)!==r)throw new uT("`length` must be a positive 32-bit integer");var o=arguments.length>2&&!!arguments[2],l=!0,c=!0;if("length"in e&&aT){var h=aT(e,"length");h&&!h.configurable&&(l=!1),h&&!h.writable&&(c=!1)}return(l||c||!o)&&(JU?sT(e,"length",r,!0,!0):sT(e,"length",r)),e}});var Ch=O((x3,au)=>{"use strict";var Lh=Ai(),uu=Pe(),e2=cT(),t2=ee(),dT=uu("%Function.prototype.apply%"),pT=uu("%Function.prototype.call%"),_T=uu("%Reflect.apply%",!0)||Lh.call(pT,dT),fT=Li(),n2=uu("%Math.max%");au.exports=function(e){if(typeof e!="function")throw new t2("a function is required");var r=_T(Lh,pT,arguments);return e2(r,1+n2(0,e.length-(arguments.length-1)),!0)};var hT=function(){return _T(Lh,dT,arguments)};fT?fT(au.exports,"apply",{value:hT}):au.exports.apply=hT});var un=O((U3,ET)=>{"use strict";var gT=Pe(),mT=Ch(),r2=mT(gT("String.prototype.indexOf"));ET.exports=function(e,r){var o=gT(e,!!r);return typeof o=="function"&&r2(e,".prototype.")>-1?mT(o):o}});var Mh=O((k3,wT)=>{"use strict";var i2=Pe(),yT=i2("%Array%"),o2=!yT.isArray&&un()("Object.prototype.toString");wT.exports=yT.isArray||function(e){return o2(e)==="[object Array]"}});var Ph=O((q3,ST)=>{"use strict";var s2=Cr(),vT=Li(),TT=s2.hasArrayLengthDefineBug(),a2=TT&&Mh(),u2=un(),l2=u2("Object.prototype.propertyIsEnumerable");ST.exports=function(e,r,o,l,c,h){if(!vT){if(!e(h)||!h["[[Configurable]]"]||!h["[[Writable]]"]||c in l&&l2(l,c)!==!!h["[[Enumerable]]"])return!1;var g=h["[[Value]]"];return l[c]=g,r(l[c],g)}return TT&&c==="length"&&"[[Value]]"in h&&a2(l)&&l.length!==h["[[Value]]"]?(l.length=h["[[Value]]"],l.length===h["[[Value]]"]):(vT(l,c,o(h)),!0)}});var OT=O((B3,NT)=>{"use strict";var c2=jt();NT.exports=function(e,r){return c2(r)&&typeof r=="object"&&"[[Enumerable]]"in r&&"[[Configurable]]"in r&&(e.IsAccessorDescriptor(r)||e.IsDataDescriptor(r))}});var Fh=O((Y3,AT)=>{"use strict";AT.exports=function(e){if(typeof e>"u")return e;var r={};return"[[Value]]"in e&&(r.value=e["[[Value]]"]),"[[Writable]]"in e&&(r.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(r.get=e["[[Get]]"]),"[[Set]]"in e&&(r.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(r.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(r.configurable=!!e["[[Configurable]]"]),r}});var bT=O((V3,IT)=>{"use strict";var f2=ee(),h2=jt(),d2=Fh();IT.exports=function(e){if(typeof e<"u"&&!h2(e))throw new f2("Assertion failed: `Desc` must be a Property Descriptor");return d2(e)}});var xh=O((H3,RT)=>{"use strict";var p2=ee(),DT=an(),_2=jt();RT.exports=function(e){if(typeof e>"u")return!1;if(!_2(e))throw new p2("Assertion failed: `Desc` must be a Property Descriptor");return!(!DT(e,"[[Value]]")&&!DT(e,"[[Writable]]"))}});var CT=O((W3,LT)=>{"use strict";var g2=ee(),m2=nu(),E2=xh(),y2=jt();LT.exports=function(e){if(typeof e>"u")return!1;if(!y2(e))throw new g2("Assertion failed: `Desc` must be a Property Descriptor");return!m2(e)&&!E2(e)}});var FT=O((G3,PT)=>{"use strict";var Pr=ee(),qi=Ph(),w2=OT(),MT=jt(),Bi=bT(),Vn=nu(),vn=xh(),v2=CT(),T2=wn(),zt=Rh(),S2=nt();PT.exports=function(e,r,o,l,c){var h=S2(e);if(h!=="Undefined"&&h!=="Object")throw new Pr("Assertion failed: O must be undefined or an Object");if(!T2(r))throw new Pr("Assertion failed: P must be a Property Key");if(typeof o!="boolean")throw new Pr("Assertion failed: extensible must be a Boolean");if(!MT(l))throw new Pr("Assertion failed: Desc must be a Property Descriptor");if(typeof c<"u"&&!MT(c))throw new Pr("Assertion failed: current must be a Property Descriptor, or undefined");if(typeof c>"u")return o?h==="Undefined"?!0:Vn(l)?qi(vn,zt,Bi,e,r,l):qi(vn,zt,Bi,e,r,{"[[Configurable]]":!!l["[[Configurable]]"],"[[Enumerable]]":!!l["[[Enumerable]]"],"[[Value]]":l["[[Value]]"],"[[Writable]]":!!l["[[Writable]]"]}):!1;if(!w2({IsAccessorDescriptor:Vn,IsDataDescriptor:vn},c))throw new Pr("`current`, when present, must be a fully populated and valid Property Descriptor");if(!c["[[Configurable]]"]){if("[[Configurable]]"in l&&l["[[Configurable]]"]||"[[Enumerable]]"in l&&!zt(l["[[Enumerable]]"],c["[[Enumerable]]"])||!v2(l)&&!zt(Vn(l),Vn(c)))return!1;if(Vn(c)){if("[[Get]]"in l&&!zt(l["[[Get]]"],c["[[Get]]"])||"[[Set]]"in l&&!zt(l["[[Set]]"],c["[[Set]]"]))return!1}else if(!c["[[Writable]]"]&&("[[Writable]]"in l&&l["[[Writable]]"]||"[[Value]]"in l&&!zt(l["[[Value]]"],c["[[Value]]"])))return!1}if(h!=="Undefined"){var g,m;return vn(c)&&Vn(l)?(g=("[[Configurable]]"in l?l:c)["[[Configurable]]"],m=("[[Enumerable]]"in l?l:c)["[[Enumerable]]"],qi(vn,zt,Bi,e,r,{"[[Configurable]]":!!g,"[[Enumerable]]":!!m,"[[Get]]":("[[Get]]"in l?l:c)["[[Get]]"],"[[Set]]":("[[Set]]"in l?l:c)["[[Set]]"]})):Vn(c)&&vn(l)?(g=("[[Configurable]]"in l?l:c)["[[Configurable]]"],m=("[[Enumerable]]"in l?l:c)["[[Enumerable]]"],qi(vn,zt,Bi,e,r,{"[[Configurable]]":!!g,"[[Enumerable]]":!!m,"[[Value]]":("[[Value]]"in l?l:c)["[[Value]]"],"[[Writable]]":!!("[[Writable]]"in l?l:c)["[[Writable]]"]})):qi(vn,zt,Bi,e,r,l)}return!0}});var qT=O(($3,kT)=>{"use strict";var xT=Ci(),UT=yn(),Uh=ee(),N2=jt(),O2=nu(),A2=Gv(),I2=wn(),b2=nT(),D2=Rh(),R2=nt(),L2=FT();kT.exports=function(e,r,o){if(R2(e)!=="Object")throw new Uh("Assertion failed: O must be an Object");if(!I2(r))throw new Uh("Assertion failed: P must be a Property Key");if(!N2(o))throw new Uh("Assertion failed: Desc must be a Property Descriptor");if(!xT){if(O2(o))throw new UT("This environment does not support accessor property descriptors.");var l=!(r in e)&&o["[[Writable]]"]&&o["[[Enumerable]]"]&&o["[[Configurable]]"]&&"[[Value]]"in o,c=r in e&&(!("[[Configurable]]"in o)||o["[[Configurable]]"])&&(!("[[Enumerable]]"in o)||o["[[Enumerable]]"])&&(!("[[Writable]]"in o)||o["[[Writable]]"])&&"[[Value]]"in o;if(l||c)return e[r]=o["[[Value]]"],D2(e[r],o["[[Value]]"]);throw new UT("This environment does not support defining non-writable, non-enumerable, or non-configurable properties")}var h=xT(e,r),g=h&&b2(h),m=A2(e);return L2(e,r,m,o,g)}});var VT=O((j3,YT)=>{"use strict";var BT=ee(),C2=wn(),M2=qT(),P2=nt();YT.exports=function(e,r,o){if(P2(e)!=="Object")throw new BT("Assertion failed: Type(O) is not Object");if(!C2(r))throw new BT("Assertion failed: IsPropertyKey(P) is not true");var l={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":o,"[[Writable]]":!0};return M2(e,r,l)}});var WT=O((K3,HT)=>{"use strict";var kh=ee(),F2=VT(),x2=wn(),U2=nt();HT.exports=function(e,r,o){if(U2(e)!=="Object")throw new kh("Assertion failed: Type(O) is not Object");if(!x2(r))throw new kh("Assertion failed: IsPropertyKey(P) is not true");var l=F2(e,r,o);if(!l)throw new kh("unable to create data property")}});var $T=O((z3,GT)=>{"use strict";var k2=ee(),q2=jt(),B2=Fh();GT.exports=function(e){if(typeof e<"u"&&!q2(e))throw new k2("Assertion failed: `Desc` must be a Property Descriptor");return B2(e)}});var zT=O((Z3,KT)=>{"use strict";var Y2=ee(),jT=an(),V2=jt();KT.exports=function(e){if(typeof e>"u")return!1;if(!V2(e))throw new Y2("Assertion failed: `Desc` must be a Property Descriptor");return!(!jT(e,"[[Value]]")&&!jT(e,"[[Writable]]"))}});var XT=O((X3,ZT)=>{"use strict";ZT.exports=function(e){return typeof e=="string"||typeof e=="symbol"}});var eS=O((J3,QT)=>{"use strict";var JT=ki();QT.exports=function(e,r){return e===r?e===0?1/e===1/r:!0:JT(e)&&JT(r)}});var nS=O((Q3,tS)=>{"use strict";var H2=Sh();tS.exports=function(e){return typeof e=="symbol"?"Symbol":typeof e=="bigint"?"BigInt":H2(e)}});var oS=O((eH,iS)=>{"use strict";var rS=ee(),W2=Ph(),G2=$T(),$2=zT(),j2=XT(),K2=eS(),z2=nS();iS.exports=function(e,r,o){if(z2(e)!=="Object")throw new rS("Assertion failed: Type(O) is not Object");if(!j2(r))throw new rS("Assertion failed: IsPropertyKey(P) is not true");var l={"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":o,"[[Writable]]":!0};return W2($2,K2,G2,e,r,l)}});var aS=O((tH,sS)=>{sS.exports=require("util").inspect});var xr=O((nH,AS)=>{var Kh=typeof Map=="function"&&Map.prototype,qh=Object.getOwnPropertyDescriptor&&Kh?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,cu=Kh&&qh&&typeof qh.get=="function"?qh.get:null,uS=Kh&&Map.prototype.forEach,zh=typeof Set=="function"&&Set.prototype,Bh=Object.getOwnPropertyDescriptor&&zh?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,fu=zh&&Bh&&typeof Bh.get=="function"?Bh.get:null,lS=zh&&Set.prototype.forEach,Z2=typeof WeakMap=="function"&&WeakMap.prototype,Vi=Z2?WeakMap.prototype.has:null,X2=typeof WeakSet=="function"&&WeakSet.prototype,Hi=X2?WeakSet.prototype.has:null,J2=typeof WeakRef=="function"&&WeakRef.prototype,cS=J2?WeakRef.prototype.deref:null,Q2=Boolean.prototype.valueOf,ek=Object.prototype.toString,tk=Function.prototype.toString,nk=String.prototype.match,Zh=String.prototype.slice,Sn=String.prototype.replace,rk=String.prototype.toUpperCase,fS=String.prototype.toLowerCase,wS=RegExp.prototype.test,hS=Array.prototype.concat,Zt=Array.prototype.join,ik=Array.prototype.slice,dS=Math.floor,Hh=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Yh=Object.getOwnPropertySymbols,Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Xe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Fr?"object":"symbol")?Symbol.toStringTag:null,vS=Object.prototype.propertyIsEnumerable,pS=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function _S(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||wS.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var o=t<0?-dS(-t):dS(t);if(o!==t){var l=String(o),c=Zh.call(e,l.length+1);return Sn.call(l,r,"$&_")+"."+Sn.call(Sn.call(c,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Sn.call(e,r,"$&_")}var Gh=aS(),gS=Gh.custom,mS=SS(gS)?gS:null;AS.exports=function t(e,r,o,l){var c=r||{};if(Tn(c,"quoteStyle")&&c.quoteStyle!=="single"&&c.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Tn(c,"maxStringLength")&&(typeof c.maxStringLength=="number"?c.maxStringLength<0&&c.maxStringLength!==1/0:c.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var h=Tn(c,"customInspect")?c.customInspect:!0;if(typeof h!="boolean"&&h!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Tn(c,"indent")&&c.indent!==null&&c.indent!=="	"&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Tn(c,"numericSeparator")&&typeof c.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var g=c.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return OS(e,c);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var m=String(e);return g?_S(e,m):m}if(typeof e=="bigint"){var T=String(e)+"n";return g?_S(e,T):T}var N=typeof c.depth>"u"?5:c.depth;if(typeof o>"u"&&(o=0),o>=N&&N>0&&typeof e=="object")return $h(e)?"[Array]":"[Object]";var A=Tk(c,o);if(typeof l>"u")l=[];else if(NS(l,e)>=0)return"[Circular]";function R(v,$n,ut){if($n&&(l=ik.call(l),l.push($n)),ut){var z={depth:c.depth};return Tn(c,"quoteStyle")&&(z.quoteStyle=c.quoteStyle),t(v,z,o+1,l)}return t(v,c,o+1,l)}if(typeof e=="function"&&!ES(e)){var F=dk(e),P=lu(e,R);return"[Function"+(F?": "+F:" (anonymous)")+"]"+(P.length>0?" { "+Zt.call(P,", ")+" }":"")}if(SS(e)){var y=Fr?Sn.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Wh.call(e);return typeof e=="object"&&!Fr?Yi(y):y}if(yk(e)){for(var U="<"+fS.call(String(e.nodeName)),S=e.attributes||[],L=0;L<S.length;L++)U+=" "+S[L].name+"="+TS(ok(S[L].value),"double",c);return U+=">",e.childNodes&&e.childNodes.length&&(U+="..."),U+="</"+fS.call(String(e.nodeName))+">",U}if($h(e)){if(e.length===0)return"[]";var I=lu(e,R);return A&&!vk(I)?"["+jh(I,A)+"]":"[ "+Zt.call(I,", ")+" ]"}if(ak(e)){var D=lu(e,R);return!("cause"in Error.prototype)&&"cause"in e&&!vS.call(e,"cause")?"{ ["+String(e)+"] "+Zt.call(hS.call("[cause]: "+R(e.cause),D),", ")+" }":D.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Zt.call(D,", ")+" }"}if(typeof e=="object"&&h){if(mS&&typeof e[mS]=="function"&&Gh)return Gh(e,{depth:N-o});if(h!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(pk(e)){var p=[];return uS&&uS.call(e,function(v,$n){p.push(R($n,e,!0)+" => "+R(v,e))}),yS("Map",cu.call(e),p,A)}if(mk(e)){var J=[];return lS&&lS.call(e,function(v){J.push(R(v,e))}),yS("Set",fu.call(e),J,A)}if(_k(e))return Vh("WeakMap");if(Ek(e))return Vh("WeakSet");if(gk(e))return Vh("WeakRef");if(lk(e))return Yi(R(Number(e)));if(fk(e))return Yi(R(Hh.call(e)));if(ck(e))return Yi(Q2.call(e));if(uk(e))return Yi(R(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===global)return"{ [object globalThis] }";if(!sk(e)&&!ES(e)){var Y=lu(e,R),G=pS?pS(e)===Object.prototype:e instanceof Object||e.constructor===Object,q=e instanceof Object?"":"null prototype",rt=!G&&Xe&&Object(e)===e&&Xe in e?Zh.call(Nn(e),8,-1):q?"Object":"",Ce=G||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",An=Ce+(rt||q?"["+Zt.call(hS.call([],rt||[],q||[]),": ")+"] ":"");return Y.length===0?An+"{}":A?An+"{"+jh(Y,A)+"}":An+"{ "+Zt.call(Y,", ")+" }"}return String(e)};function TS(t,e,r){var o=(r.quoteStyle||e)==="double"?'"':"'";return o+t+o}function ok(t){return Sn.call(String(t),/"/g,"&quot;")}function $h(t){return Nn(t)==="[object Array]"&&(!Xe||!(typeof t=="object"&&Xe in t))}function sk(t){return Nn(t)==="[object Date]"&&(!Xe||!(typeof t=="object"&&Xe in t))}function ES(t){return Nn(t)==="[object RegExp]"&&(!Xe||!(typeof t=="object"&&Xe in t))}function ak(t){return Nn(t)==="[object Error]"&&(!Xe||!(typeof t=="object"&&Xe in t))}function uk(t){return Nn(t)==="[object String]"&&(!Xe||!(typeof t=="object"&&Xe in t))}function lk(t){return Nn(t)==="[object Number]"&&(!Xe||!(typeof t=="object"&&Xe in t))}function ck(t){return Nn(t)==="[object Boolean]"&&(!Xe||!(typeof t=="object"&&Xe in t))}function SS(t){if(Fr)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Wh)return!1;try{return Wh.call(t),!0}catch{}return!1}function fk(t){if(!t||typeof t!="object"||!Hh)return!1;try{return Hh.call(t),!0}catch{}return!1}var hk=Object.prototype.hasOwnProperty||function(t){return t in this};function Tn(t,e){return hk.call(t,e)}function Nn(t){return ek.call(t)}function dk(t){if(t.name)return t.name;var e=nk.call(tk.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function NS(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,o=t.length;r<o;r++)if(t[r]===e)return r;return-1}function pk(t){if(!cu||!t||typeof t!="object")return!1;try{cu.call(t);try{fu.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function _k(t){if(!Vi||!t||typeof t!="object")return!1;try{Vi.call(t,Vi);try{Hi.call(t,Hi)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function gk(t){if(!cS||!t||typeof t!="object")return!1;try{return cS.call(t),!0}catch{}return!1}function mk(t){if(!fu||!t||typeof t!="object")return!1;try{fu.call(t);try{cu.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Ek(t){if(!Hi||!t||typeof t!="object")return!1;try{Hi.call(t,Hi);try{Vi.call(t,Vi)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function yk(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function OS(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,o="... "+r+" more character"+(r>1?"s":"");return OS(Zh.call(t,0,e.maxStringLength),e)+o}var l=Sn.call(Sn.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,wk);return TS(l,"single",e)}function wk(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+rk.call(e.toString(16))}function Yi(t){return"Object("+t+")"}function Vh(t){return t+" { ? }"}function yS(t,e,r,o){var l=o?jh(r,o):Zt.call(r,", ");return t+" ("+e+") {"+l+"}"}function vk(t){for(var e=0;e<t.length;e++)if(NS(t[e],`
`)>=0)return!1;return!0}function Tk(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Zt.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Zt.call(Array(e+1),r)}}function jh(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Zt.call(t,","+r)+`
`+e.prev}function lu(t,e){var r=$h(t),o=[];if(r){o.length=t.length;for(var l=0;l<t.length;l++)o[l]=Tn(t,l)?e(t[l],t):""}var c=typeof Yh=="function"?Yh(t):[],h;if(Fr){h={};for(var g=0;g<c.length;g++)h["$"+c[g]]=c[g]}for(var m in t)!Tn(t,m)||r&&String(Number(m))===m&&m<t.length||Fr&&h["$"+m]instanceof Symbol||(wS.call(/[^\w$]/,m)?o.push(e(m,t)+": "+e(t[m],t)):o.push(m+": "+e(t[m],t)));if(typeof Yh=="function")for(var T=0;T<c.length;T++)vS.call(t,c[T])&&o.push("["+e(c[T])+"]: "+e(t[c[T]],t));return o}});var Xh=O((rH,IS)=>{"use strict";IS.exports=function(e){return typeof e=="number"&&e>=55296&&e<=56319}});var Jh=O((iH,bS)=>{"use strict";bS.exports=function(e){return typeof e=="number"&&e>=56320&&e<=57343}});var LS=O((oH,RS)=>{"use strict";var Sk=Pe(),Nk=ee(),DS=Sk("%String.fromCharCode%"),Ok=Xh(),Ak=Jh();RS.exports=function(e,r){if(!Ok(e)||!Ak(r))throw new Nk("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return DS(e)+DS(r)}});var US=O((sH,xS)=>{"use strict";var CS=ee(),FS=un(),Ik=Xh(),MS=Jh(),bk=LS(),Dk=FS("String.prototype.charAt"),PS=FS("String.prototype.charCodeAt");xS.exports=function(e,r){if(typeof e!="string")throw new CS("Assertion failed: `string` must be a String");var o=e.length;if(r<0||r>=o)throw new CS("Assertion failed: `position` must be >= 0, and < the length of `string`");var l=PS(e,r),c=Dk(e,r),h=Ik(l),g=MS(l);if(!h&&!g)return{"[[CodePoint]]":c,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(g||r+1===o)return{"[[CodePoint]]":c,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var m=PS(e,r+1);return MS(m)?{"[[CodePoint]]":bk(l,m),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":c,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}}});var qS=O((aH,kS)=>{"use strict";var Rk=ki();kS.exports=function(t){return(typeof t=="number"||typeof t=="bigint")&&!Rk(t)&&t!==1/0&&t!==-1/0}});var VS=O((uH,YS)=>{"use strict";var BS=Pe(),Lk=BS("%Math.abs%"),Ck=BS("%Math.floor%"),Mk=ki(),Pk=qS();YS.exports=function(e){if(typeof e!="number"||Mk(e)||!Pk(e))return!1;var r=Lk(e);return Ck(r)===r}});var WS=O((lH,HS)=>{"use strict";HS.exports=Number.MAX_SAFE_INTEGER||9007199254740991});var $S=O((cH,GS)=>{"use strict";var Fk=US(),xk=VS(),Uk=WS(),Qh=ee();GS.exports=function(e,r,o){if(typeof e!="string")throw new Qh("Assertion failed: `S` must be a String");if(!xk(r)||r<0||r>Uk)throw new Qh("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if(typeof o!="boolean")throw new Qh("Assertion failed: `unicode` must be a Boolean");if(!o)return r+1;var l=e.length;if(r+1>=l)return r+1;var c=Fk(e,r);return r+c["[[CodeUnitCount]]"]}});var ed=O((fH,jS)=>{"use strict";var kk=ee();jS.exports=function(e,r){if(typeof r!="boolean")throw new kk("Assertion failed: Type(done) is not Boolean");return{value:e,done:r}}});var Wi=O((hH,zS)=>{"use strict";var KS=ee(),qk=xr(),Bk=wn(),Yk=nt();zS.exports=function(e,r){if(Yk(e)!=="Object")throw new KS("Assertion failed: Type(O) is not Object");if(!Bk(r))throw new KS("Assertion failed: IsPropertyKey(P) is not true, got "+qk(r));return e[r]}});var td=O((dH,ZS)=>{"use strict";var Vk=ee(),Hk=Wi(),Wk=Nh(),Gk=nt();ZS.exports=function(e){if(Gk(e)!=="Object")throw new Vk("Assertion failed: Type(iterResult) is not Object");return Wk(Hk(e,"done"))}});var nd=O((pH,XS)=>{"use strict";var $k=ee(),jk=Wi(),Kk=nt();XS.exports=function(e){if(Kk(e)!=="Object")throw new $k("Assertion failed: Type(iterResult) is not Object");return jk(e,"value")}});var tN=O((_H,eN)=>{"use strict";var zk=Pe(),Zk=Ch(),Xk=yn(),JS=zk("%Promise.resolve%",!0),QS=JS&&Zk(JS);eN.exports=function(e,r){if(!QS)throw new Xk("This environment does not support Promises.");return QS(e,r)}});var iN=O((gH,rN)=>{"use strict";var Jk=Pe(),nN=yn(),Qk=ee(),rd=Jk("%Promise%",!0),eq=un(),tq=ed(),nq=td(),rq=nd(),iq=tN(),oq=nt(),sq=eq("Promise.prototype.then",!0);rN.exports=function(e){if(oq(e)!=="Object")throw new Qk("Assertion failed: Type(O) is not Object");if(arguments.length>1)throw new nN("although AsyncFromSyncIteratorContinuation should take a second argument, it is not used in this implementation");if(!rd)throw new nN("This environment does not support Promises.");return new rd(function(r){var o=nq(e),l=rq(e),c=iq(rd,l),h=function(g){return tq(g,o)};r(sq(c,h))})}});var hu=O((mH,oN)=>{"use strict";oN.exports=Mh()});var du=O((EH,sN)=>{"use strict";var aq=Pe(),uq=un(),lq=ee(),cq=hu(),fq=aq("%Reflect.apply%",!0)||uq("Function.prototype.apply");sN.exports=function(e,r){var o=arguments.length>2?arguments[2]:[];if(!cq(o))throw new lq("Assertion failed: optional `argumentsList`, if provided, must be a List");return fq(e,r,o)}});var uN=O((yH,aN)=>{"use strict";var hq=ee(),dq=xr(),pq=wn();aN.exports=function(e,r){if(!pq(r))throw new hq("Assertion failed: IsPropertyKey(P) is not true, got "+dq(r));return e[r]}});var id=O((wH,fN)=>{"use strict";var lN=ee(),_q=uN(),gq=ou(),mq=wn(),cN=xr();fN.exports=function(e,r){if(!mq(r))throw new lN("Assertion failed: IsPropertyKey(P) is not true");var o=_q(e,r);if(o!=null){if(!gq(o))throw new lN(cN(r)+" is not a function: "+cN(o));return o}}});var Gi=O((vH,hN)=>{"use strict";var od=an();hN.exports=function(e){return!!e&&typeof e=="object"&&od(e,"[[Iterator]]")&&od(e,"[[NextMethod]]")&&typeof e["[[NextMethod]]"]=="function"&&od(e,"[[Done]]")&&typeof e["[[Done]]"]=="boolean"}});var sd=O((TH,_N)=>{"use strict";var dN=ee(),pN=du(),Eq=nt(),yq=Gi();_N.exports=function(e){if(!yq(e))throw new dN("Assertion failed: `iteratorRecord` must be an Iterator Record");var r;if(arguments.length<2?r=pN(e["[[NextMethod]]"],e["[[Iterator]]"]):r=pN(e["[[NextMethod]]"],e["[[Iterator]]"],[arguments[1]]),Eq(r)!=="Object")throw new dN("iterator next must return an object");return r}});var mN=O((SH,gN)=>{"use strict";gN.exports=function(e,r){for(var o=0;o<e.length;o+=1)r(e[o],o,e)}});var wN=O((NH,yN)=>{"use strict";var EN=Pe(),Ur=un(),wq=xr(),vq=ee(),pu=EN("%WeakMap%",!0),_u=EN("%Map%",!0),Tq=Ur("WeakMap.prototype.get",!0),Sq=Ur("WeakMap.prototype.set",!0),Nq=Ur("WeakMap.prototype.has",!0),Oq=Ur("Map.prototype.get",!0),Aq=Ur("Map.prototype.set",!0),Iq=Ur("Map.prototype.has",!0),ad=function(t,e){for(var r=t,o;(o=r.next)!==null;r=o)if(o.key===e)return r.next=o.next,o.next=t.next,t.next=o,o},bq=function(t,e){var r=ad(t,e);return r&&r.value},Dq=function(t,e,r){var o=ad(t,e);o?o.value=r:t.next={key:e,next:t.next,value:r}},Rq=function(t,e){return!!ad(t,e)};yN.exports=function(){var e,r,o,l={assert:function(c){if(!l.has(c))throw new vq("Side channel does not contain "+wq(c))},get:function(c){if(pu&&c&&(typeof c=="object"||typeof c=="function")){if(e)return Tq(e,c)}else if(_u){if(r)return Oq(r,c)}else if(o)return bq(o,c)},has:function(c){if(pu&&c&&(typeof c=="object"||typeof c=="function")){if(e)return Nq(e,c)}else if(_u){if(r)return Iq(r,c)}else if(o)return Rq(o,c);return!1},set:function(c,h){pu&&c&&(typeof c=="object"||typeof c=="function")?(e||(e=new pu),Sq(e,c,h)):_u?(r||(r=new _u),Aq(r,c,h)):(o||(o={key:{},next:null}),Dq(o,c,h))}};return l}});var ld=O((OH,vN)=>{"use strict";var Lq=an(),$i=wN()(),ln=ee(),ud={assert:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new ln("`O` is not an object");if(typeof e!="string")throw new ln("`slot` must be a string");if($i.assert(t),!ud.has(t,e))throw new ln("`"+e+"` is not present on `O`")},get:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new ln("`O` is not an object");if(typeof e!="string")throw new ln("`slot` must be a string");var r=$i.get(t);return r&&r["$"+e]},has:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new ln("`O` is not an object");if(typeof e!="string")throw new ln("`slot` must be a string");var r=$i.get(t);return!!r&&Lq(r,"$"+e)},set:function(t,e,r){if(!t||typeof t!="object"&&typeof t!="function")throw new ln("`O` is not an object");if(typeof e!="string")throw new ln("`slot` must be a string");var o=$i.get(t);o||(o={},$i.set(t,o)),o["$"+e]=r}};Object.freeze&&Object.freeze(ud);vN.exports=ud});var ON=O((AH,NN)=>{"use strict";var Cq=Pe(),TN=Cq("%Object.create%",!0),SN=ee(),Mq=yn(),Pq=hu(),Fq=nt(),xq=mN(),Uq=ld(),kq=Di()();NN.exports=function(e){if(e!==null&&Fq(e)!=="Object")throw new SN("Assertion failed: `proto` must be null or an object");var r=arguments.length<2?[]:arguments[1];if(!Pq(r))throw new SN("Assertion failed: `additionalInternalSlotsList` must be an Array");var o;if(TN)o=TN(e);else if(kq)o={__proto__:e};else{if(e===null)throw new Mq("native Object.create support is required to create null objects");var l=function(){};l.prototype=e,o=new l}return r.length>0&&xq(r,function(c){Uq.set(o,c,void 0)}),o}});var LN=O((IH,RN)=>{"use strict";var DN=Pe(),cd=yn(),hd=ee(),kr=DN("%Promise%",!0),fd=iN(),On=du(),qq=ed(),Bq=Wi(),AN=id(),IN=sd(),Yq=ON(),bN=nt(),Hn=ld(),Vq=Gi(),Hq=DN("%AsyncFromSyncIteratorPrototype%",!0)||{next:function(e){if(!kr)throw new cd("This environment does not support Promises.");var r=this;Hn.assert(r,"[[SyncIteratorRecord]]");var o=arguments.length;return new kr(function(l){var c=Hn.get(r,"[[SyncIteratorRecord]]"),h;o>0?h=IN(c,e):h=IN(c),l(fd(h))})},return:function(){if(!kr)throw new cd("This environment does not support Promises.");var t=this;Hn.assert(t,"[[SyncIteratorRecord]]");var e=arguments.length>0,r=e?arguments[0]:void 0;return new kr(function(o,l){var c=Hn.get(t,"[[SyncIteratorRecord]]")["[[Iterator]]"],h=AN(c,"return");if(typeof h>"u"){var g=qq(r,!0);On(o,void 0,[g]);return}var m;if(e?m=On(h,c,[r]):m=On(h,c),bN(m)!=="Object"){On(l,void 0,[new hd("Iterator `return` method returned a non-object value.")]);return}o(fd(m))})},throw:function(){if(!kr)throw new cd("This environment does not support Promises.");var t=this;Hn.assert(t,"[[SyncIteratorRecord]]");var e=arguments.length>0,r=e?arguments[0]:void 0;return new kr(function(o,l){var c=Hn.get(t,"[[SyncIteratorRecord]]")["[[Iterator]]"],h=AN(c,"throw");if(typeof h>"u"){On(l,void 0,[r]);return}var g;if(e?g=On(h,c,[r]):g=On(h,c),bN(g)!=="Object"){On(l,void 0,[new hd("Iterator `throw` method returned a non-object value.")]);return}o(fd(g))})}};RN.exports=function(e){if(!Vq(e))throw new hd("Assertion failed: `syncIteratorRecord` must be an Iterator Record");var r=Yq(Hq);Hn.set(r,"[[SyncIteratorRecord]]",e);var o=Bq(r,"next");return{"[[Iterator]]":r,"[[NextMethod]]":o,"[[Done]]":!1}}});var PN=O((bH,MN)=>{"use strict";var CN=ee(),Wq=du(),Gq=Wi(),$q=ou(),jq=nt();MN.exports=function(e,r){if(!$q(r))throw new CN("method must be a function");var o=Wq(r,e);if(jq(o)!=="Object")throw new CN("iterator must return an object");var l=Gq(o,"next");return{"[[Iterator]]":o,"[[NextMethod]]":l,"[[Done]]":!1}}});var xN=O((DH,FN)=>{"use strict";var Kq=Eh();FN.exports=function(){return Kq()&&!!Symbol.toStringTag}});var kN=O((RH,UN)=>{"use strict";var zq=String.prototype.valueOf,Zq=function(e){try{return zq.call(e),!0}catch{return!1}},Xq=Object.prototype.toString,Jq="[object String]",Qq=xN()();UN.exports=function(e){return typeof e=="string"?!0:typeof e!="object"?!1:Qq?Zq(e):Xq.call(e)===Jq}});var YN=O((LH,BN)=>{"use strict";var eB=Xa()(),qN=Pe(),tB=un(),nB=kN(),rB=qN("%Symbol.iterator%",!0),iB=tB("String.prototype.slice"),oB=qN("%String%");BN.exports=function(e,r){var o;return eB?o=e.GetMethod(r,rB):e.IsArray(r)?o=function(){var l=-1,c=this;return{next:function(){return l+=1,{done:l>=c.length,value:c[l]}}}}:nB(r)&&(o=function(){var l=0;return{next:function(){var c=e.AdvanceStringIndex(oB(r),l,!0),h=iB(r,l,c);return l=c,{done:c>r.length,value:h}}}}),o}});var $N=O((CH,GN)=>{"use strict";var sB=Pe(),dd=ee(),VN=sB("%Symbol.asyncIterator%",!0),aB=xr(),uB=Xa()(),lB=$S(),cB=LN(),HN=PN(),WN=id(),fB=hu(),hB=YN();GN.exports=function(e,r){if(r!=="SYNC"&&r!=="ASYNC")throw new dd("Assertion failed: `kind` must be one of 'sync' or 'async', got "+aB(r));var o;if(r==="ASYNC"&&uB&&VN&&(o=WN(e,VN)),typeof o>"u"){var l=hB({AdvanceStringIndex:lB,GetMethod:WN,IsArray:fB},e);if(r==="ASYNC"){if(typeof l>"u")throw new dd("iterator method is `undefined`");var c=HN(e,l);return cB(c)}o=l}if(typeof o>"u")throw new dd("iterator method is `undefined`");return HN(e,o)}});var KN=O((MH,jN)=>{"use strict";var dB=ee(),pB=td(),_B=sd(),gB=Gi();jN.exports=function(e){if(!gB(e))throw new dB("Assertion failed: `iteratorRecord` must be an Iterator Record");var r=_B(e),o=pB(r);return o===!0?!1:r}});var ZN=O((PH,zN)=>{"use strict";var mB=ee(),EB=un(),yB=EB("Array.prototype.push"),wB=KN(),vB=nd(),TB=Gi();zN.exports=function(e){if(!TB(e))throw new mB("Assertion failed: `iteratorRecord` must be an Iterator Record");for(var r=[],o=!0;o;)if(o=wB(e),o){var l=vB(o);yB(r,l)}return r}});var JN=O((FH,XN)=>{"use strict";var SB=Pe(),NB=SB("%Object.setPrototypeOf%",!0),OB=Di()();XN.exports=NB||(OB?function(t,e){return t.__proto__=e,t}:null)});var eO=O((xH,QN)=>{"use strict";var AB=Pe(),IB=AB("%Object.getPrototypeOf%",!0),bB=Di()();QN.exports=IB||(bB?function(t){return t.__proto__}:null)});var iO=O((UH,rO)=>{"use strict";var tO=ee(),nO=eO(),DB=nt();rO.exports=function(e){if(DB(e)!=="Object")throw new tO("Assertion failed: O must be an Object");if(!nO)throw new tO("This environment does not support fetching prototypes.");return nO(e)}});var sO=O((kH,oO)=>{"use strict";var RB=ee(),LB=JN(),CB=iO();oO.exports=function(e,r){if(typeof r!="object")throw new RB("Assertion failed: V must be Object or Null");try{LB(e,r)}catch{return!1}return CB(e)===r}});var _d=O((qH,lO)=>{"use strict";var MB=WT(),pd=oS(),PB=$N(),FB=Cr()(),xB=ZN(),aO=sO(),uO=mh();function ji(t,e){var r=new uO(e);aO(r,gu),delete r.constructor;var o=xB(PB(t,"SYNC"));return MB(r,"errors",o),r}FB&&Object.defineProperty(ji,"prototype",{writable:!1});var gu=ji.prototype;if(!pd(gu,"constructor",ji)||!pd(gu,"message","")||!pd(gu,"name","AggregateError"))throw new uO("unable to install AggregateError.prototype properties; please report this!");aO(ji.prototype,Error.prototype);lO.exports=ji});var gd=O((BH,cO)=>{"use strict";var UB=_d();cO.exports=function(){return typeof AggregateError=="function"?AggregateError:UB}});var md=O((YH,fO)=>{"use strict";fO.exports=global});var Ed=O((VH,hO)=>{"use strict";var kB=md();hO.exports=function(){return typeof global!="object"||!global||global.Math!==Math||global.Array!==Array?kB:global}});var pO=O((HH,dO)=>{"use strict";var qB=Pi(),BB=Ci(),YB=Ed();dO.exports=function(){var e=YB();if(qB.supportsDescriptors){var r=BB(e,"globalThis");(!r||r.configurable&&(r.enumerable||!r.writable||globalThis!==e))&&Object.defineProperty(e,"globalThis",{configurable:!0,enumerable:!1,value:e,writable:!0})}else(typeof globalThis!="object"||globalThis!==e)&&(e.globalThis=e);return e}});var EO=O((WH,mO)=>{"use strict";var VB=Pi(),HB=md(),_O=Ed(),WB=pO(),GB=_O(),gO=function(){return GB};VB(gO,{getPolyfill:_O,implementation:HB,shim:WB});mO.exports=gO});var vO=O((GH,wO)=>{"use strict";var $B=Pi(),yO=EO()(),jB=gd();wO.exports=function(){var e=jB();return $B(yO,{AggregateError:e},{AggregateError:function(){return yO.AggregateError!==e}}),e}});var mu=O(($H,SO)=>{"use strict";var KB=Ai(),zB=Pi(),ZB=Fv(),XB=Mi(),JB=_d(),TO=gd(),QB=vO(),yd=TO(),wd=ZB(KB.call(yd),yd.name,!0);XB(wd,"prototype",yd.prototype,!0,!0,!0,!0);zB(wd,{getPolyfill:TO,implementation:JB,shim:QB});SO.exports=wd});var OO=O(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.connectInParallel=tY;Ki.connectInSequence=nY;Ki.lookupAllAddresses=vd;var Eu=yu(require("net")),eY=yu(require("node:url")),qr=yu(ho()),NO=yu(mu());function yu(t){return t&&t.__esModule?t:{default:t}}async function tY(t,e,r){if(r.aborted)throw new qr.default;let o=await vd(t.host,e,r);return await new Promise((l,c)=>{let h=new Array(o.length),g=[];function m(A){g.push(A),this.removeListener("error",m),this.removeListener("connect",T),this.destroy(),g.length===o.length&&(r.removeEventListener("abort",N),c(new NO.default(g,"Could not connect (parallel)")))}function T(){r.removeEventListener("abort",N);for(let A=0;A<h.length;A++){let R=h[A];this!==R&&(R.removeListener("error",m),R.removeListener("connect",T),R.destroy())}l(this)}let N=()=>{for(let A=0;A<h.length;A++){let R=h[A];R.removeListener("error",m),R.removeListener("connect",T),R.destroy()}c(new qr.default)};for(let A=0,R=o.length;A<R;A++){let F=h[A]=Eu.default.connect({...t,host:o[A].address,family:o[A].family});F.on("error",m),F.on("connect",T)}r.addEventListener("abort",N,{once:!0})})}async function nY(t,e,r){if(r.aborted)throw new qr.default;let o=[],l=await vd(t.host,e,r);for(let c of l)try{return await new Promise((h,g)=>{let m=Eu.default.connect({...t,host:c.address,family:c.family}),T=()=>{m.removeListener("error",N),m.removeListener("connect",A),m.destroy(),g(new qr.default)},N=R=>{r.removeEventListener("abort",T),m.removeListener("error",N),m.removeListener("connect",A),m.destroy(),g(R)},A=()=>{r.removeEventListener("abort",T),m.removeListener("error",N),m.removeListener("connect",A),h(m)};r.addEventListener("abort",T,{once:!0}),m.on("error",N),m.on("connect",A)})}catch(h){if(h instanceof Error&&h.name==="AbortError")throw h;o.push(h);continue}throw new NO.default(o,"Could not connect (sequence)")}async function vd(t,e,r){if(r.aborted)throw new qr.default;return Eu.default.isIPv6(t)?[{address:t,family:6}]:Eu.default.isIPv4(t)?[{address:t,family:4}]:await new Promise((o,l)=>{let c=()=>{l(new qr.default)};r.addEventListener("abort",c),e(eY.default.domainToASCII(t),{all:!0},(h,g)=>{r.removeEventListener("abort",c),h?l(h):o(g)})})}});var Td=O(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.name=void 0;var rY="Tedious";wu.name=rY});var AO=O(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.createNTLMRequest=iY;var vt={NTLM_NegotiateUnicode:1,NTLM_NegotiateOEM:2,NTLM_RequestTarget:4,NTLM_Unknown9:8,NTLM_NegotiateSign:16,NTLM_NegotiateSeal:32,NTLM_NegotiateDatagram:64,NTLM_NegotiateLanManagerKey:128,NTLM_Unknown8:256,NTLM_NegotiateNTLM:512,NTLM_NegotiateNTOnly:1024,NTLM_Anonymous:2048,NTLM_NegotiateOemDomainSupplied:4096,NTLM_NegotiateOemWorkstationSupplied:8192,NTLM_Unknown6:16384,NTLM_NegotiateAlwaysSign:32768,NTLM_TargetTypeDomain:65536,NTLM_TargetTypeServer:131072,NTLM_TargetTypeShare:262144,NTLM_NegotiateExtendedSecurity:524288,NTLM_NegotiateIdentify:1048576,NTLM_Unknown5:2097152,NTLM_RequestNonNTSessionKey:4194304,NTLM_NegotiateTargetInfo:8388608,NTLM_Unknown4:16777216,NTLM_NegotiateVersion:33554432,NTLM_Unknown3:67108864,NTLM_Unknown2:134217728,NTLM_Unknown1:268435456,NTLM_Negotiate128:536870912,NTLM_NegotiateKeyExchange:1073741824,NTLM_Negotiate56:2147483648};function iY(t){let e=escape(t.domain.toUpperCase()),r=t.workstation?escape(t.workstation.toUpperCase()):"",o=vt.NTLM_NegotiateUnicode+vt.NTLM_NegotiateOEM+vt.NTLM_RequestTarget+vt.NTLM_NegotiateNTLM+vt.NTLM_NegotiateOemDomainSupplied+vt.NTLM_NegotiateOemWorkstationSupplied+vt.NTLM_NegotiateAlwaysSign+vt.NTLM_NegotiateVersion+vt.NTLM_NegotiateExtendedSecurity+vt.NTLM_Negotiate128+vt.NTLM_Negotiate56;r===""&&(o-=vt.NTLM_NegotiateOemWorkstationSupplied);let l=Buffer.alloc(40),c=[l],h=0;return h+=l.write("NTLMSSP",h,7,"ascii"),h=l.writeUInt8(0,h),h=l.writeUInt32LE(1,h),h=l.writeUInt32LE(o,h),h=l.writeUInt16LE(e.length,h),h=l.writeUInt16LE(e.length,h),h=l.writeUInt32LE(l.length+r.length,h),h=l.writeUInt16LE(r.length,h),h=l.writeUInt16LE(r.length,h),h=l.writeUInt32LE(l.length,h),h=l.writeUInt8(5,h),h=l.writeUInt8(0,h),h=l.writeUInt16LE(2195,h),h=l.writeUInt8(0,h),h=l.writeUInt8(0,h),h=l.writeUInt8(0,h),l.writeUInt8(15,h),c.push(Buffer.from(r,"ascii")),c.push(Buffer.from(e,"ascii")),Buffer.concat(c)}});var IO=O(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.BulkLoadPayload=void 0;var Nd=class{constructor(e){this.bulkLoad=e,this.iterator=this.bulkLoad.rowToPacketTransform[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterator}toString(e=""){return e+"BulkLoad"}};vu.BulkLoadPayload=Nd});var RO=O((Tu,DO)=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.default=void 0;var bO={Sp_Cursor:1,Sp_CursorOpen:2,Sp_CursorPrepare:3,Sp_CursorExecute:4,Sp_CursorPrepExec:5,Sp_CursorUnprepare:6,Sp_CursorFetch:7,Sp_CursorOption:8,Sp_CursorClose:9,Sp_ExecuteSql:10,Sp_Prepare:11,Sp_Execute:12,Sp_PrepExec:13,Sp_PrepExecRpc:14,Sp_Unprepare:15},oY=bO;Tu.default=oY;DO.exports=bO});var LO=O((XH,sY)=>{sY.exports={author:"Mike D Pilsbury <mike.pilsbury@gmail.com>",contributors:["Alex Robson","Arthur Schreiber","Bret Copeland <bret@atlantisflight.org> (https://github.com/bretcope)","Bryan Ross <bryan@rossipedia.com> (https://github.com/rossipedia)","Ciaran Jessup <ciaranj@gmail.com>","Cort Fritz <cfritz@caa.com>","lastonesky","Patrik Simek <patrik@patriksimek.cz>","Phil Dodderidge <pdodde@poyntz.com>","Zach Aller"],name:"tedious",description:"A TDS driver, for connecting to MS SQLServer databases.",keywords:["sql","database","mssql","sqlserver","sql-server","tds","msnodesql","azure"],homepage:"https://github.com/tediousjs/tedious",bugs:"https://github.com/tediousjs/tedious/issues",license:"MIT",version:"16.7.1",main:"./lib/tedious.js",repository:{type:"git",url:"https://github.com/tediousjs/tedious.git"},engines:{node:">=16"},publishConfig:{tag:"next"},dependencies:{"@azure/identity":"^3.4.1","@azure/keyvault-keys":"^4.4.0","@js-joda/core":"^5.5.3",bl:"^6.0.3","es-aggregate-error":"^1.0.9","iconv-lite":"^0.6.3","js-md4":"^0.3.2",jsbi:"^4.3.0","native-duplexpair":"^1.0.0","node-abort-controller":"^3.1.1","sprintf-js":"^1.1.2"},devDependencies:{"@babel/cli":"^7.22.9","@babel/core":"^7.22.9","@babel/node":"^7.22.6","@babel/preset-env":"^7.22.9","@babel/preset-typescript":"^7.22.5","@babel/register":"^7.22.5","@types/async":"^3.2.20","@types/bl":"^5.1.0","@types/chai":"^4.3.5","@types/depd":"^1.1.32","@types/es-aggregate-error":"^1.0.2","@types/lru-cache":"^5.1.1","@types/mocha":"^10.0.1","@types/node":"^16.18.38","@types/sprintf-js":"^1.1.2","@typescript-eslint/eslint-plugin":"^6.0.0","@typescript-eslint/parser":"^6.0.0",async:"^3.2.4","babel-plugin-istanbul":"^6.1.1",chai:"^4.3.7",codecov:"^3.8.3",eslint:"^8.45.0",mitm:"^1.7.2",mocha:"^10.2.0",nyc:"^15.1.0",rimraf:"^5.0.1","semantic-release":"^19.0.3",sinon:"^15.2.0",typedoc:"^0.24.8",typescript:"^5.1.6"},scripts:{docs:"typedoc",lint:"eslint src test --ext .js,.ts && tsc",test:"mocha test/unit test/unit/token test/unit/tracking-buffer","test-integration":"mocha test/integration/","test-all":"mocha test/unit/ test/unit/token/ test/unit/tracking-buffer test/integration/",build:"rimraf lib && babel src --out-dir lib --extensions .js,.ts",prepublish:"npm run build","semantic-release":"semantic-release"},babel:{sourceMaps:"both",ignore:["./src/**/*.d.ts"],presets:[["@babel/preset-env",{targets:{node:16}}],["@babel/preset-typescript",{allowDeclareFields:!0}]],plugins:[["@babel/transform-typescript",{allowDeclareFields:!0}]]},mocha:{require:"test/setup.js",timeout:5e3,extension:["js","ts"]},nyc:{sourceMap:!1,instrument:!1,extension:[".ts"]}}});var MO=O(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.UnexpectedTokenError=st.TokenHandler=st.RequestTokenHandler=st.Login7TokenHandler=st.InitialSqlTokenHandler=st.AttentionTokenHandler=void 0;var aY=CO(Fo()),Xt=ur(),uY=CO(mu());function CO(t){return t&&t.__esModule?t:{default:t}}var ye=class extends Error{constructor(e,r){super("Unexpected token `"+r.name+"` in `"+e.constructor.name+"`")}};st.UnexpectedTokenError=ye;var Wn=class{onInfoMessage(e){throw new ye(this,e)}onErrorMessage(e){throw new ye(this,e)}onSSPI(e){throw new ye(this,e)}onDatabaseChange(e){throw new ye(this,e)}onLanguageChange(e){throw new ye(this,e)}onCharsetChange(e){throw new ye(this,e)}onSqlCollationChange(e){throw new ye(this,e)}onRoutingChange(e){throw new ye(this,e)}onPacketSizeChange(e){throw new ye(this,e)}onResetConnection(e){throw new ye(this,e)}onBeginTransaction(e){throw new ye(this,e)}onCommitTransaction(e){throw new ye(this,e)}onRollbackTransaction(e){throw new ye(this,e)}onFedAuthInfo(e){throw new ye(this,e)}onFeatureExtAck(e){throw new ye(this,e)}onLoginAck(e){throw new ye(this,e)}onColMetadata(e){throw new ye(this,e)}onOrder(e){throw new ye(this,e)}onRow(e){throw new ye(this,e)}onReturnStatus(e){throw new ye(this,e)}onReturnValue(e){throw new ye(this,e)}onDoneProc(e){throw new ye(this,e)}onDoneInProc(e){throw new ye(this,e)}onDone(e){throw new ye(this,e)}onDatabaseMirroringPartner(e){throw new ye(this,e)}};st.TokenHandler=Wn;var Od=class extends Wn{constructor(e){super(),this.connection=e}onInfoMessage(e){this.connection.emit("infoMessage",e)}onErrorMessage(e){this.connection.emit("errorMessage",e)}onDatabaseChange(e){this.connection.emit("databaseChange",e.newValue)}onLanguageChange(e){this.connection.emit("languageChange",e.newValue)}onCharsetChange(e){this.connection.emit("charsetChange",e.newValue)}onSqlCollationChange(e){this.connection.databaseCollation=e.newValue}onPacketSizeChange(e){this.connection.messageIo.packetSize(e.newValue)}onBeginTransaction(e){this.connection.transactionDescriptors.push(e.newValue),this.connection.inTransaction=!0}onCommitTransaction(e){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1}onRollbackTransaction(e){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1,this.connection.emit("rollbackTransaction")}onColMetadata(e){this.connection.emit("error",new Error("Received 'columnMetadata' when no sqlRequest is in progress")),this.connection.close()}onOrder(e){this.connection.emit("error",new Error("Received 'order' when no sqlRequest is in progress")),this.connection.close()}onRow(e){this.connection.emit("error",new Error("Received 'row' when no sqlRequest is in progress")),this.connection.close()}onReturnStatus(e){}onReturnValue(e){}onDoneProc(e){}onDoneInProc(e){}onDone(e){}onResetConnection(e){this.connection.emit("resetConnection")}};st.InitialSqlTokenHandler=Od;var Ad=class extends Wn{constructor(e){super(),this.loginAckReceived=!1,this.connection=e}onInfoMessage(e){this.connection.emit("infoMessage",e)}onErrorMessage(e){this.connection.emit("errorMessage",e);let r=new Xt.ConnectionError(e.message,"ELOGIN");this.connection.transientErrorLookup.isTransientError(e.number)&&this.connection.curTransientRetryCount!==this.connection.config.options.maxRetriesOnTransientErrors&&(r.isTransient=!0),this.connection.loginError=r}onSSPI(e){e.ntlmpacket&&(this.connection.ntlmpacket=e.ntlmpacket,this.connection.ntlmpacketBuffer=e.ntlmpacketBuffer)}onDatabaseChange(e){this.connection.emit("databaseChange",e.newValue)}onLanguageChange(e){this.connection.emit("languageChange",e.newValue)}onCharsetChange(e){this.connection.emit("charsetChange",e.newValue)}onSqlCollationChange(e){this.connection.databaseCollation=e.newValue}onFedAuthInfo(e){this.fedAuthInfoToken=e}onFeatureExtAck(e){let{authentication:r}=this.connection.config;r.type==="azure-active-directory-password"||r.type==="azure-active-directory-access-token"||r.type==="azure-active-directory-msi-vm"||r.type==="azure-active-directory-msi-app-service"||r.type==="azure-active-directory-service-principal-secret"||r.type==="azure-active-directory-default"?e.fedAuth===void 0?this.connection.loginError=new Xt.ConnectionError("Did not receive Active Directory authentication acknowledgement"):e.fedAuth.length!==0&&(this.connection.loginError=new Xt.ConnectionError(`Active Directory authentication acknowledgment for ${r.type} authentication method includes extra data`)):e.fedAuth===void 0&&e.utf8Support===void 0?this.connection.loginError=new Xt.ConnectionError("Received acknowledgement for unknown feature"):e.fedAuth&&(this.connection.loginError=new Xt.ConnectionError("Did not request Active Directory authentication, but received the acknowledgment"))}onLoginAck(e){if(!e.tdsVersion){this.connection.loginError=new Xt.ConnectionError("Server responded with unknown TDS version.","ETDS");return}if(!e.interface){this.connection.loginError=new Xt.ConnectionError("Server responded with unsupported interface.","EINTERFACENOTSUPP");return}this.connection.config.options.tdsVersion=e.tdsVersion,this.loginAckReceived=!0}onRoutingChange(e){let[r]=e.newValue.server.split("\\");this.routingData={server:r,port:e.newValue.port}}onDoneInProc(e){}onDone(e){}onPacketSizeChange(e){this.connection.messageIo.packetSize(e.newValue)}onDatabaseMirroringPartner(e){}};st.Login7TokenHandler=Ad;var Id=class extends Wn{constructor(e,r){super(),this.connection=e,this.request=r,this.errors=[]}onInfoMessage(e){this.connection.emit("infoMessage",e)}onErrorMessage(e){if(this.connection.emit("errorMessage",e),!this.request.canceled){let r=new Xt.RequestError(e.message,"EREQUEST");r.number=e.number,r.state=e.state,r.class=e.class,r.serverName=e.serverName,r.procName=e.procName,r.lineNumber=e.lineNumber,this.errors.push(r),this.request.error=r,this.request instanceof aY.default&&this.errors.length>1&&(this.request.error=new uY.default(this.errors))}}onDatabaseChange(e){this.connection.emit("databaseChange",e.newValue)}onLanguageChange(e){this.connection.emit("languageChange",e.newValue)}onCharsetChange(e){this.connection.emit("charsetChange",e.newValue)}onSqlCollationChange(e){this.connection.databaseCollation=e.newValue}onPacketSizeChange(e){this.connection.messageIo.packetSize(e.newValue)}onBeginTransaction(e){this.connection.transactionDescriptors.push(e.newValue),this.connection.inTransaction=!0}onCommitTransaction(e){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1}onRollbackTransaction(e){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1,this.connection.emit("rollbackTransaction")}onColMetadata(e){if(!this.request.canceled)if(this.connection.config.options.useColumnNames){let r=Object.create(null);for(let o=0,l=e.columns.length;o<l;o++){let c=e.columns[o];r[c.colName]==null&&(r[c.colName]=c)}this.request.emit("columnMetadata",r)}else this.request.emit("columnMetadata",e.columns)}onOrder(e){this.request.canceled||this.request.emit("order",e.orderColumns)}onRow(e){this.request.canceled||(this.connection.config.options.rowCollectionOnRequestCompletion&&this.request.rows.push(e.columns),this.connection.config.options.rowCollectionOnDone&&this.request.rst.push(e.columns),this.request.emit("row",e.columns))}onReturnStatus(e){this.request.canceled||(this.connection.procReturnStatusValue=e.value)}onReturnValue(e){this.request.canceled||this.request.emit("returnValue",e.paramName,e.value,e.metadata)}onDoneProc(e){this.request.canceled||(e.sqlError&&!this.request.error&&(this.request.error=new Xt.RequestError("An unknown error has occurred.","UNKNOWN")),this.request.emit("doneProc",e.rowCount,e.more,this.connection.procReturnStatusValue,this.request.rst),this.connection.procReturnStatusValue=void 0,e.rowCount!==void 0&&(this.request.rowCount+=e.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onDoneInProc(e){this.request.canceled||(this.request.emit("doneInProc",e.rowCount,e.more,this.request.rst),e.rowCount!==void 0&&(this.request.rowCount+=e.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onDone(e){this.request.canceled||(e.sqlError&&!this.request.error&&(this.request.error=new Xt.RequestError("An unknown error has occurred.","UNKNOWN")),this.request.emit("done",e.rowCount,e.more,this.request.rst),e.rowCount!==void 0&&(this.request.rowCount+=e.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onResetConnection(e){this.connection.emit("resetConnection")}};st.RequestTokenHandler=Id;var bd=class extends Wn{constructor(e,r){super(),this.connection=e,this.request=r,this.attentionReceived=!1}onDone(e){e.attention&&(this.attentionReceived=!0)}};st.AttentionTokenHandler=bd});var HO=O((Ou,VO)=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.default=void 0;var lY=Je(require("crypto")),cY=Je(require("os")),PO=YO(require("tls")),fY=YO(require("net")),hY=Je(require("dns")),dY=Je(require("constants")),Dd=require("stream"),Su=ap(),pY=Je(ml()),_Y=Je(cp()),Yr=require("events"),gY=yp(),mY=wp(),Be=Jr(),kO=Je(Op()),EY=Je(bp()),yY=Je(Mp()),at=Je(Fo()),zi=Je(kp()),FO=Je(Bp()),wY=Je(om()),vY=Mw(),ht=dh(),Fe=ur(),xO=OO(),TY=Td(),SY=Qr(),UO=Je(Go()),NY=AO(),OY=yl(),Gn=wi(),AY=IO(),Nu=Je(RO()),qO=Je(mu()),IY=LO(),bY=require("url"),Br=MO();function BO(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(BO=function(o){return o?r:e})(t)}function YO(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=BO(e);if(r&&r.has(t))return r.get(t);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(c!=="default"&&Object.prototype.hasOwnProperty.call(t,c)){var h=l?Object.getOwnPropertyDescriptor(t,c):null;h&&(h.get||h.set)?Object.defineProperty(o,c,h):o[c]=t[c]}return o.default=t,r&&r.set(t,o),o}function Je(t){return t&&t.__esModule?t:{default:t}}var DY=30*1e3,RY=15*1e3,LY=15*1e3,CY=5*1e3,MY=500,PY=4*1024,FY=2147483647,xY=7,UY=1433,kY="7_4",qY="us_english",BY="mdy",Zi={NORMAL:0,REDIRECT:1,RETRY:2},Xi=class extends Yr.EventEmitter{_cancelAfterRequestSent;constructor(e){if(super(),typeof e!="object"||e===null)throw new TypeError('The "config" argument is required and must be of type Object.');if(typeof e.server!="string")throw new TypeError('The "config.server" property is required and must be of type string.');this.fedAuthRequired=!1;let r;if(e.authentication!==void 0){if(typeof e.authentication!="object"||e.authentication===null)throw new TypeError('The "config.authentication" property must be of type Object.');let o=e.authentication.type,l=e.authentication.options===void 0?{}:e.authentication.options;if(typeof o!="string")throw new TypeError('The "config.authentication.type" property must be of type string.');if(o!=="default"&&o!=="ntlm"&&o!=="azure-active-directory-password"&&o!=="azure-active-directory-access-token"&&o!=="azure-active-directory-msi-vm"&&o!=="azure-active-directory-msi-app-service"&&o!=="azure-active-directory-service-principal-secret"&&o!=="azure-active-directory-default")throw new TypeError('The "type" property must one of "default", "ntlm", "azure-active-directory-password", "azure-active-directory-access-token", "azure-active-directory-default", "azure-active-directory-msi-vm" or "azure-active-directory-msi-app-service" or "azure-active-directory-service-principal-secret".');if(typeof l!="object"||l===null)throw new TypeError('The "config.authentication.options" property must be of type object.');if(o==="ntlm"){if(typeof l.domain!="string")throw new TypeError('The "config.authentication.options.domain" property must be of type string.');if(l.userName!==void 0&&typeof l.userName!="string")throw new TypeError('The "config.authentication.options.userName" property must be of type string.');if(l.password!==void 0&&typeof l.password!="string")throw new TypeError('The "config.authentication.options.password" property must be of type string.');r={type:"ntlm",options:{userName:l.userName,password:l.password,domain:l.domain&&l.domain.toUpperCase()}}}else if(o==="azure-active-directory-password"){if(typeof l.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');if(l.userName!==void 0&&typeof l.userName!="string")throw new TypeError('The "config.authentication.options.userName" property must be of type string.');if(l.password!==void 0&&typeof l.password!="string")throw new TypeError('The "config.authentication.options.password" property must be of type string.');if(l.tenantId!==void 0&&typeof l.tenantId!="string")throw new TypeError('The "config.authentication.options.tenantId" property must be of type string.');r={type:"azure-active-directory-password",options:{userName:l.userName,password:l.password,tenantId:l.tenantId,clientId:l.clientId}}}else if(o==="azure-active-directory-access-token"){if(typeof l.token!="string")throw new TypeError('The "config.authentication.options.token" property must be of type string.');r={type:"azure-active-directory-access-token",options:{token:l.token}}}else if(o==="azure-active-directory-msi-vm"){if(l.clientId!==void 0&&typeof l.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');r={type:"azure-active-directory-msi-vm",options:{clientId:l.clientId}}}else if(o==="azure-active-directory-default"){if(l.clientId!==void 0&&typeof l.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');r={type:"azure-active-directory-default",options:{clientId:l.clientId}}}else if(o==="azure-active-directory-msi-app-service"){if(l.clientId!==void 0&&typeof l.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');r={type:"azure-active-directory-msi-app-service",options:{clientId:l.clientId}}}else if(o==="azure-active-directory-service-principal-secret"){if(typeof l.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');if(typeof l.clientSecret!="string")throw new TypeError('The "config.authentication.options.clientSecret" property must be of type string.');if(typeof l.tenantId!="string")throw new TypeError('The "config.authentication.options.tenantId" property must be of type string.');r={type:"azure-active-directory-service-principal-secret",options:{clientId:l.clientId,clientSecret:l.clientSecret,tenantId:l.tenantId}}}else{if(l.userName!==void 0&&typeof l.userName!="string")throw new TypeError('The "config.authentication.options.userName" property must be of type string.');if(l.password!==void 0&&typeof l.password!="string")throw new TypeError('The "config.authentication.options.password" property must be of type string.');r={type:"default",options:{userName:l.userName,password:l.password}}}}else r={type:"default",options:{userName:void 0,password:void 0}};if(this.config={server:e.server,authentication:r,options:{abortTransactionOnError:!1,appName:void 0,camelCaseColumns:!1,cancelTimeout:CY,columnEncryptionKeyCacheTTL:2*60*60*1e3,columnEncryptionSetting:!1,columnNameReplacer:void 0,connectionRetryInterval:MY,connectTimeout:RY,connector:void 0,connectionIsolationLevel:ht.ISOLATION_LEVEL.READ_COMMITTED,cryptoCredentialsDetails:{},database:void 0,datefirst:xY,dateFormat:BY,debug:{data:!1,packet:!1,payload:!1,token:!1},enableAnsiNull:!0,enableAnsiNullDefault:!0,enableAnsiPadding:!0,enableAnsiWarnings:!0,enableArithAbort:!0,enableConcatNullYieldsNull:!0,enableCursorCloseOnCommit:null,enableImplicitTransactions:!1,enableNumericRoundabort:!1,enableQuotedIdentifier:!0,encrypt:!0,fallbackToDefaultDb:!1,encryptionKeyStoreProviders:void 0,instanceName:void 0,isolationLevel:ht.ISOLATION_LEVEL.READ_COMMITTED,language:qY,localAddress:void 0,maxRetriesOnTransientErrors:3,multiSubnetFailover:!1,packetSize:PY,port:UY,readOnlyIntent:!1,requestTimeout:LY,rowCollectionOnDone:!1,rowCollectionOnRequestCompletion:!1,serverName:void 0,serverSupportsColumnEncryption:!1,tdsVersion:kY,textsize:FY,trustedServerNameAE:void 0,trustServerCertificate:!1,useColumnNames:!1,useUTC:!0,workstationId:void 0,lowerCaseGuids:!1}},e.options){if(e.options.port&&e.options.instanceName)throw new Error("Port and instanceName are mutually exclusive, but "+e.options.port+" and "+e.options.instanceName+" provided");if(e.options.abortTransactionOnError!==void 0){if(typeof e.options.abortTransactionOnError!="boolean"&&e.options.abortTransactionOnError!==null)throw new TypeError('The "config.options.abortTransactionOnError" property must be of type string or null.');this.config.options.abortTransactionOnError=e.options.abortTransactionOnError}if(e.options.appName!==void 0){if(typeof e.options.appName!="string")throw new TypeError('The "config.options.appName" property must be of type string.');this.config.options.appName=e.options.appName}if(e.options.camelCaseColumns!==void 0){if(typeof e.options.camelCaseColumns!="boolean")throw new TypeError('The "config.options.camelCaseColumns" property must be of type boolean.');this.config.options.camelCaseColumns=e.options.camelCaseColumns}if(e.options.cancelTimeout!==void 0){if(typeof e.options.cancelTimeout!="number")throw new TypeError('The "config.options.cancelTimeout" property must be of type number.');this.config.options.cancelTimeout=e.options.cancelTimeout}if(e.options.columnNameReplacer){if(typeof e.options.columnNameReplacer!="function")throw new TypeError('The "config.options.cancelTimeout" property must be of type function.');this.config.options.columnNameReplacer=e.options.columnNameReplacer}if(e.options.connectionIsolationLevel!==void 0&&((0,ht.assertValidIsolationLevel)(e.options.connectionIsolationLevel,"config.options.connectionIsolationLevel"),this.config.options.connectionIsolationLevel=e.options.connectionIsolationLevel),e.options.connectTimeout!==void 0){if(typeof e.options.connectTimeout!="number")throw new TypeError('The "config.options.connectTimeout" property must be of type number.');this.config.options.connectTimeout=e.options.connectTimeout}if(e.options.connector!==void 0){if(typeof e.options.connector!="function")throw new TypeError('The "config.options.connector" property must be a function.');this.config.options.connector=e.options.connector}if(e.options.cryptoCredentialsDetails!==void 0){if(typeof e.options.cryptoCredentialsDetails!="object"||e.options.cryptoCredentialsDetails===null)throw new TypeError('The "config.options.cryptoCredentialsDetails" property must be of type Object.');this.config.options.cryptoCredentialsDetails=e.options.cryptoCredentialsDetails}if(e.options.database!==void 0){if(typeof e.options.database!="string")throw new TypeError('The "config.options.database" property must be of type string.');this.config.options.database=e.options.database}if(e.options.datefirst!==void 0){if(typeof e.options.datefirst!="number"&&e.options.datefirst!==null)throw new TypeError('The "config.options.datefirst" property must be of type number.');if(e.options.datefirst!==null&&(e.options.datefirst<1||e.options.datefirst>7))throw new RangeError('The "config.options.datefirst" property must be >= 1 and <= 7');this.config.options.datefirst=e.options.datefirst}if(e.options.dateFormat!==void 0){if(typeof e.options.dateFormat!="string"&&e.options.dateFormat!==null)throw new TypeError('The "config.options.dateFormat" property must be of type string or null.');this.config.options.dateFormat=e.options.dateFormat}if(e.options.debug){if(e.options.debug.data!==void 0){if(typeof e.options.debug.data!="boolean")throw new TypeError('The "config.options.debug.data" property must be of type boolean.');this.config.options.debug.data=e.options.debug.data}if(e.options.debug.packet!==void 0){if(typeof e.options.debug.packet!="boolean")throw new TypeError('The "config.options.debug.packet" property must be of type boolean.');this.config.options.debug.packet=e.options.debug.packet}if(e.options.debug.payload!==void 0){if(typeof e.options.debug.payload!="boolean")throw new TypeError('The "config.options.debug.payload" property must be of type boolean.');this.config.options.debug.payload=e.options.debug.payload}if(e.options.debug.token!==void 0){if(typeof e.options.debug.token!="boolean")throw new TypeError('The "config.options.debug.token" property must be of type boolean.');this.config.options.debug.token=e.options.debug.token}}if(e.options.enableAnsiNull!==void 0){if(typeof e.options.enableAnsiNull!="boolean"&&e.options.enableAnsiNull!==null)throw new TypeError('The "config.options.enableAnsiNull" property must be of type boolean or null.');this.config.options.enableAnsiNull=e.options.enableAnsiNull}if(e.options.enableAnsiNullDefault!==void 0){if(typeof e.options.enableAnsiNullDefault!="boolean"&&e.options.enableAnsiNullDefault!==null)throw new TypeError('The "config.options.enableAnsiNullDefault" property must be of type boolean or null.');this.config.options.enableAnsiNullDefault=e.options.enableAnsiNullDefault}if(e.options.enableAnsiPadding!==void 0){if(typeof e.options.enableAnsiPadding!="boolean"&&e.options.enableAnsiPadding!==null)throw new TypeError('The "config.options.enableAnsiPadding" property must be of type boolean or null.');this.config.options.enableAnsiPadding=e.options.enableAnsiPadding}if(e.options.enableAnsiWarnings!==void 0){if(typeof e.options.enableAnsiWarnings!="boolean"&&e.options.enableAnsiWarnings!==null)throw new TypeError('The "config.options.enableAnsiWarnings" property must be of type boolean or null.');this.config.options.enableAnsiWarnings=e.options.enableAnsiWarnings}if(e.options.enableArithAbort!==void 0){if(typeof e.options.enableArithAbort!="boolean"&&e.options.enableArithAbort!==null)throw new TypeError('The "config.options.enableArithAbort" property must be of type boolean or null.');this.config.options.enableArithAbort=e.options.enableArithAbort}if(e.options.enableConcatNullYieldsNull!==void 0){if(typeof e.options.enableConcatNullYieldsNull!="boolean"&&e.options.enableConcatNullYieldsNull!==null)throw new TypeError('The "config.options.enableConcatNullYieldsNull" property must be of type boolean or null.');this.config.options.enableConcatNullYieldsNull=e.options.enableConcatNullYieldsNull}if(e.options.enableCursorCloseOnCommit!==void 0){if(typeof e.options.enableCursorCloseOnCommit!="boolean"&&e.options.enableCursorCloseOnCommit!==null)throw new TypeError('The "config.options.enableCursorCloseOnCommit" property must be of type boolean or null.');this.config.options.enableCursorCloseOnCommit=e.options.enableCursorCloseOnCommit}if(e.options.enableImplicitTransactions!==void 0){if(typeof e.options.enableImplicitTransactions!="boolean"&&e.options.enableImplicitTransactions!==null)throw new TypeError('The "config.options.enableImplicitTransactions" property must be of type boolean or null.');this.config.options.enableImplicitTransactions=e.options.enableImplicitTransactions}if(e.options.enableNumericRoundabort!==void 0){if(typeof e.options.enableNumericRoundabort!="boolean"&&e.options.enableNumericRoundabort!==null)throw new TypeError('The "config.options.enableNumericRoundabort" property must be of type boolean or null.');this.config.options.enableNumericRoundabort=e.options.enableNumericRoundabort}if(e.options.enableQuotedIdentifier!==void 0){if(typeof e.options.enableQuotedIdentifier!="boolean"&&e.options.enableQuotedIdentifier!==null)throw new TypeError('The "config.options.enableQuotedIdentifier" property must be of type boolean or null.');this.config.options.enableQuotedIdentifier=e.options.enableQuotedIdentifier}if(e.options.encrypt!==void 0){if(typeof e.options.encrypt!="boolean"&&e.options.encrypt!=="strict")throw new TypeError('The "encrypt" property must be set to "strict", or of type boolean.');this.config.options.encrypt=e.options.encrypt}if(e.options.fallbackToDefaultDb!==void 0){if(typeof e.options.fallbackToDefaultDb!="boolean")throw new TypeError('The "config.options.fallbackToDefaultDb" property must be of type boolean.');this.config.options.fallbackToDefaultDb=e.options.fallbackToDefaultDb}if(e.options.instanceName!==void 0){if(typeof e.options.instanceName!="string")throw new TypeError('The "config.options.instanceName" property must be of type string.');this.config.options.instanceName=e.options.instanceName,this.config.options.port=void 0}if(e.options.isolationLevel!==void 0&&((0,ht.assertValidIsolationLevel)(e.options.isolationLevel,"config.options.isolationLevel"),this.config.options.isolationLevel=e.options.isolationLevel),e.options.language!==void 0){if(typeof e.options.language!="string"&&e.options.language!==null)throw new TypeError('The "config.options.language" property must be of type string or null.');this.config.options.language=e.options.language}if(e.options.localAddress!==void 0){if(typeof e.options.localAddress!="string")throw new TypeError('The "config.options.localAddress" property must be of type string.');this.config.options.localAddress=e.options.localAddress}if(e.options.multiSubnetFailover!==void 0){if(typeof e.options.multiSubnetFailover!="boolean")throw new TypeError('The "config.options.multiSubnetFailover" property must be of type boolean.');this.config.options.multiSubnetFailover=e.options.multiSubnetFailover}if(e.options.packetSize!==void 0){if(typeof e.options.packetSize!="number")throw new TypeError('The "config.options.packetSize" property must be of type number.');this.config.options.packetSize=e.options.packetSize}if(e.options.port!==void 0){if(typeof e.options.port!="number")throw new TypeError('The "config.options.port" property must be of type number.');if(e.options.port<=0||e.options.port>=65536)throw new RangeError('The "config.options.port" property must be > 0 and < 65536');this.config.options.port=e.options.port,this.config.options.instanceName=void 0}if(e.options.readOnlyIntent!==void 0){if(typeof e.options.readOnlyIntent!="boolean")throw new TypeError('The "config.options.readOnlyIntent" property must be of type boolean.');this.config.options.readOnlyIntent=e.options.readOnlyIntent}if(e.options.requestTimeout!==void 0){if(typeof e.options.requestTimeout!="number")throw new TypeError('The "config.options.requestTimeout" property must be of type number.');this.config.options.requestTimeout=e.options.requestTimeout}if(e.options.maxRetriesOnTransientErrors!==void 0){if(typeof e.options.maxRetriesOnTransientErrors!="number")throw new TypeError('The "config.options.maxRetriesOnTransientErrors" property must be of type number.');if(e.options.maxRetriesOnTransientErrors<0)throw new TypeError('The "config.options.maxRetriesOnTransientErrors" property must be equal or greater than 0.');this.config.options.maxRetriesOnTransientErrors=e.options.maxRetriesOnTransientErrors}if(e.options.connectionRetryInterval!==void 0){if(typeof e.options.connectionRetryInterval!="number")throw new TypeError('The "config.options.connectionRetryInterval" property must be of type number.');if(e.options.connectionRetryInterval<=0)throw new TypeError('The "config.options.connectionRetryInterval" property must be greater than 0.');this.config.options.connectionRetryInterval=e.options.connectionRetryInterval}if(e.options.rowCollectionOnDone!==void 0){if(typeof e.options.rowCollectionOnDone!="boolean")throw new TypeError('The "config.options.rowCollectionOnDone" property must be of type boolean.');this.config.options.rowCollectionOnDone=e.options.rowCollectionOnDone}if(e.options.rowCollectionOnRequestCompletion!==void 0){if(typeof e.options.rowCollectionOnRequestCompletion!="boolean")throw new TypeError('The "config.options.rowCollectionOnRequestCompletion" property must be of type boolean.');this.config.options.rowCollectionOnRequestCompletion=e.options.rowCollectionOnRequestCompletion}if(e.options.tdsVersion!==void 0){if(typeof e.options.tdsVersion!="string")throw new TypeError('The "config.options.tdsVersion" property must be of type string.');this.config.options.tdsVersion=e.options.tdsVersion}if(e.options.textsize!==void 0){if(typeof e.options.textsize!="number"&&e.options.textsize!==null)throw new TypeError('The "config.options.textsize" property must be of type number or null.');if(e.options.textsize>2147483647)throw new TypeError(`The "config.options.textsize" can't be greater than 2147483647.`);if(e.options.textsize<-1)throw new TypeError(`The "config.options.textsize" can't be smaller than -1.`);this.config.options.textsize=e.options.textsize|0}if(e.options.trustServerCertificate!==void 0){if(typeof e.options.trustServerCertificate!="boolean")throw new TypeError('The "config.options.trustServerCertificate" property must be of type boolean.');this.config.options.trustServerCertificate=e.options.trustServerCertificate}if(e.options.serverName!==void 0){if(typeof e.options.serverName!="string")throw new TypeError('The "config.options.serverName" property must be of type string.');this.config.options.serverName=e.options.serverName}if(e.options.useColumnNames!==void 0){if(typeof e.options.useColumnNames!="boolean")throw new TypeError('The "config.options.useColumnNames" property must be of type boolean.');this.config.options.useColumnNames=e.options.useColumnNames}if(e.options.useUTC!==void 0){if(typeof e.options.useUTC!="boolean")throw new TypeError('The "config.options.useUTC" property must be of type boolean.');this.config.options.useUTC=e.options.useUTC}if(e.options.workstationId!==void 0){if(typeof e.options.workstationId!="string")throw new TypeError('The "config.options.workstationId" property must be of type string.');this.config.options.workstationId=e.options.workstationId}if(e.options.lowerCaseGuids!==void 0){if(typeof e.options.lowerCaseGuids!="boolean")throw new TypeError('The "config.options.lowerCaseGuids" property must be of type boolean.');this.config.options.lowerCaseGuids=e.options.lowerCaseGuids}}this.secureContextOptions=this.config.options.cryptoCredentialsDetails,this.secureContextOptions.secureOptions===void 0&&(this.secureContextOptions=Object.create(this.secureContextOptions,{secureOptions:{value:dY.default.SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS}})),this.debug=this.createDebug(),this.inTransaction=!1,this.transactionDescriptors=[Buffer.from([0,0,0,0,0,0,0,0])],this.transactionDepth=0,this.isSqlBatch=!1,this.closed=!1,this.messageBuffer=Buffer.alloc(0),this.curTransientRetryCount=0,this.transientErrorLookup=new mY.TransientErrorLookup,this.state=this.STATE.INITIALIZED,this._cancelAfterRequestSent=()=>{this.messageIo.sendMessage(Be.TYPE.ATTENTION),this.createCancelTimer()}}connect(e){if(this.state!==this.STATE.INITIALIZED)throw new Fe.ConnectionError("`.connect` can not be called on a Connection in `"+this.state.name+"` state.");if(e){let r=l=>{this.removeListener("error",o),e(l)},o=l=>{this.removeListener("connect",r),e(l)};this.once("connect",r),this.once("error",o)}this.transitionTo(this.STATE.CONNECTING)}on(e,r){return super.on(e,r)}emit(e,...r){return super.emit(e,...r)}close(){this.transitionTo(this.STATE.FINAL)}initialiseConnection(){let e=this.createConnectTimer();return this.config.options.port?this.connectOnPort(this.config.options.port,this.config.options.multiSubnetFailover,e,this.config.options.connector):(0,gY.instanceLookup)({server:this.config.server,instanceName:this.config.options.instanceName,timeout:this.config.options.connectTimeout,signal:e}).then(r=>{process.nextTick(()=>{this.connectOnPort(r,this.config.options.multiSubnetFailover,e,this.config.options.connector)})},r=>{this.clearConnectTimer(),!e.aborted&&process.nextTick(()=>{this.emit("connect",new Fe.ConnectionError(r.message,"EINSTLOOKUP"))})})}cleanupConnection(e){if(!this.closed){this.clearConnectTimer(),this.clearRequestTimer(),this.clearRetryTimer(),this.closeConnection(),e===Zi.REDIRECT?this.emit("rerouting"):e!==Zi.RETRY&&process.nextTick(()=>{this.emit("end")});let r=this.request;if(r){let o=new Fe.RequestError("Connection closed before request completed.","ECLOSE");r.callback(o),this.request=void 0}this.closed=!0,this.loginError=void 0}}createDebug(){let e=new _Y.default(this.config.options.debug);return e.on("debug",r=>{this.emit("debug",r)}),e}createTokenStreamParser(e,r){return new vY.Parser(e,this.debug,r,this.config.options)}socketHandlingForSendPreLogin(e){e.on("error",r=>{this.socketError(r)}),e.on("close",()=>{this.socketClose()}),e.on("end",()=>{this.socketEnd()}),e.setKeepAlive(!0,DY),this.messageIo=new wY.default(e,this.config.options.packetSize,this.debug),this.messageIo.on("secure",r=>{this.emit("secure",r)}),this.socket=e,this.closed=!1,this.debug.log("connected to "+this.config.server+":"+this.config.options.port),this.sendPreLogin(),this.transitionTo(this.STATE.SENT_PRELOGIN)}wrapWithTls(e,r){return r.throwIfAborted(),new Promise((o,l)=>{let c=PO.createSecureContext(this.secureContextOptions),h=fY.isIP(this.config.server)?"":this.config.server,g={host:this.config.server,socket:e,ALPNProtocols:["tds/8.0"],secureContext:c,servername:this.config.options.serverName?this.config.options.serverName:h},m=PO.connect(g),T=()=>{m.removeListener("error",N),m.removeListener("connect",A),m.destroy(),l(r.reason)},N=R=>{r.removeEventListener("abort",T),m.removeListener("error",N),m.removeListener("connect",A),m.destroy(),l(R)},A=()=>{r.removeEventListener("abort",T),m.removeListener("error",N),m.removeListener("connect",A),o(m)};r.addEventListener("abort",T,{once:!0}),m.on("error",N),m.on("secureConnect",A)})}connectOnPort(e,r,o,l){let c={host:this.routingData?this.routingData.server:this.config.server,port:this.routingData?this.routingData.port:e,localAddress:this.config.options.localAddress},h=l||(r?xO.connectInParallel:xO.connectInSequence);(async()=>{let g=await h(c,hY.default.lookup,o);if(this.config.options.encrypt==="strict")try{g=await this.wrapWithTls(g,o)}catch(m){throw g.end(),m}this.socketHandlingForSendPreLogin(g)})().catch(g=>{this.clearConnectTimer(),!o.aborted&&process.nextTick(()=>{this.socketError(g)})})}closeConnection(){this.socket&&this.socket.destroy()}createConnectTimer(){let e=new OY.AbortController;return this.connectTimer=setTimeout(()=>{e.abort(),this.connectTimeout()},this.config.options.connectTimeout),e.signal}createCancelTimer(){this.clearCancelTimer();let e=this.config.options.cancelTimeout;e>0&&(this.cancelTimer=setTimeout(()=>{this.cancelTimeout()},e))}createRequestTimer(){this.clearRequestTimer();let e=this.request,r=e.timeout!==void 0?e.timeout:this.config.options.requestTimeout;r&&(this.requestTimer=setTimeout(()=>{this.requestTimeout()},r))}createRetryTimer(){this.clearRetryTimer(),this.retryTimer=setTimeout(()=>{this.retryTimeout()},this.config.options.connectionRetryInterval)}connectTimeout(){let e=this.config.options.port?`:${this.config.options.port}`:`\\${this.config.options.instanceName}`,r=this.routingData?this.routingData.server:this.config.server,o=this.routingData?`:${this.routingData.port}`:e,l=this.routingData?` (redirected from ${this.config.server}${e})`:"",c=`Failed to connect to ${r}${o}${l} in ${this.config.options.connectTimeout}ms`;this.debug.log(c),this.emit("connect",new Fe.ConnectionError(c,"ETIMEOUT")),this.connectTimer=void 0,this.dispatchEvent("connectTimeout")}cancelTimeout(){let e=`Failed to cancel request in ${this.config.options.cancelTimeout}ms`;this.debug.log(e),this.dispatchEvent("socketError",new Fe.ConnectionError(e,"ETIMEOUT"))}requestTimeout(){this.requestTimer=void 0;let e=this.request;e.cancel();let o="Timeout: Request failed to complete in "+(e.timeout!==void 0?e.timeout:this.config.options.requestTimeout)+"ms";e.error=new Fe.RequestError(o,"ETIMEOUT")}retryTimeout(){this.retryTimer=void 0,this.emit("retry"),this.transitionTo(this.STATE.CONNECTING)}clearConnectTimer(){this.connectTimer&&(clearTimeout(this.connectTimer),this.connectTimer=void 0)}clearCancelTimer(){this.cancelTimer&&(clearTimeout(this.cancelTimer),this.cancelTimer=void 0)}clearRequestTimer(){this.requestTimer&&(clearTimeout(this.requestTimer),this.requestTimer=void 0)}clearRetryTimer(){this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=void 0)}transitionTo(e){if(this.state===e){this.debug.log("State is already "+e.name);return}this.state&&this.state.exit&&this.state.exit.call(this,e),this.debug.log("State change: "+(this.state?this.state.name:"undefined")+" -> "+e.name),this.state=e,this.state.enter&&this.state.enter.apply(this)}getEventHandler(e){let r=this.state.events[e];if(!r)throw new Error(`No event '${e}' in state '${this.state.name}'`);return r}dispatchEvent(e,...r){let o=this.state.events[e];o?o.apply(this,r):(this.emit("error",new Error(`No event '${e}' in state '${this.state.name}'`)),this.close())}socketError(e){if(this.state===this.STATE.CONNECTING||this.state===this.STATE.SENT_TLSSSLNEGOTIATION){let r=this.config.options.port?`:${this.config.options.port}`:`\\${this.config.options.instanceName}`,o=this.routingData?this.routingData.server:this.config.server,l=this.routingData?`:${this.routingData.port}`:r,c=this.routingData?` (redirected from ${this.config.server}${r})`:"",h=`Failed to connect to ${o}${l}${c} - ${e.message}`;this.debug.log(h),this.emit("connect",new Fe.ConnectionError(h,"ESOCKET"))}else{let r=`Connection lost - ${e.message}`;this.debug.log(r),this.emit("error",new Fe.ConnectionError(r,"ESOCKET"))}this.dispatchEvent("socketError",e)}socketEnd(){if(this.debug.log("socket ended"),this.state!==this.STATE.FINAL){let e=new Error("socket hang up");e.code="ECONNRESET",this.socketError(e)}}socketClose(){if(this.debug.log("connection to "+this.config.server+":"+this.config.options.port+" closed"),this.state===this.STATE.REROUTING)this.debug.log("Rerouting to "+this.routingData.server+":"+this.routingData.port),this.dispatchEvent("reconnect");else if(this.state===this.STATE.TRANSIENT_FAILURE_RETRY){let e=this.routingData?this.routingData.server:this.config.server,r=this.routingData?this.routingData.port:this.config.options.port;this.debug.log("Retry after transient failure connecting to "+e+":"+r),this.dispatchEvent("retry")}else this.transitionTo(this.STATE.FINAL)}sendPreLogin(){let[,e,r,o]=/^(\d+)\.(\d+)\.(\d+)/.exec(IY.version)??["0.0.0","0","0","0"],l=new kO.default({encrypt:typeof this.config.options.encrypt=="boolean"&&this.config.options.encrypt,version:{major:Number(e),minor:Number(r),build:Number(o),subbuild:0}});this.messageIo.sendMessage(Be.TYPE.PRELOGIN,l.data),this.debug.payload(function(){return l.toString("  ")})}sendLogin7Packet(){let e=new EY.default({tdsVersion:SY.versions[this.config.options.tdsVersion],packetSize:this.config.options.packetSize,clientProgVer:0,clientPid:process.pid,connectionId:0,clientTimeZone:new Date().getTimezoneOffset(),clientLcid:1033}),{authentication:r}=this.config;switch(r.type){case"azure-active-directory-password":e.fedAuth={type:"ADAL",echo:this.fedAuthRequired,workflow:"default"};break;case"azure-active-directory-access-token":e.fedAuth={type:"SECURITYTOKEN",echo:this.fedAuthRequired,fedAuthToken:r.options.token};break;case"azure-active-directory-msi-vm":case"azure-active-directory-default":case"azure-active-directory-msi-app-service":case"azure-active-directory-service-principal-secret":e.fedAuth={type:"ADAL",echo:this.fedAuthRequired,workflow:"integrated"};break;case"ntlm":e.sspi=(0,NY.createNTLMRequest)({domain:r.options.domain});break;default:e.userName=r.options.userName,e.password=r.options.password}e.hostname=this.config.options.workstationId||cY.default.hostname(),e.serverName=this.routingData?this.routingData.server:this.config.server,e.appName=this.config.options.appName||"Tedious",e.libraryName=TY.name,e.language=this.config.options.language,e.database=this.config.options.database,e.clientId=Buffer.from([1,2,3,4,5,6]),e.readOnlyIntent=this.config.options.readOnlyIntent,e.initDbFatal=!this.config.options.fallbackToDefaultDb,this.routingData=void 0,this.messageIo.sendMessage(Be.TYPE.LOGIN7,e.toBuffer()),this.debug.payload(function(){return e.toString("  ")})}sendFedAuthTokenMessage(e){let r=Buffer.byteLength(e,"ucs2"),o=Buffer.alloc(8+r),l=0;l=o.writeUInt32LE(r+4,l),l=o.writeUInt32LE(r,l),o.write(e,l,"ucs2"),this.messageIo.sendMessage(Be.TYPE.FEDAUTH_TOKEN,o),this.transitionTo(this.STATE.SENT_LOGIN7_WITH_STANDARD_LOGIN)}sendInitialSql(){let e=new FO.default(this.getInitialSql(),this.currentTransactionDescriptor(),this.config.options),r=new UO.default({type:Be.TYPE.SQL_BATCH});this.messageIo.outgoingMessageStream.write(r),Dd.Readable.from(e).pipe(r)}getInitialSql(){let e=[];return this.config.options.enableAnsiNull===!0?e.push("set ansi_nulls on"):this.config.options.enableAnsiNull===!1&&e.push("set ansi_nulls off"),this.config.options.enableAnsiNullDefault===!0?e.push("set ansi_null_dflt_on on"):this.config.options.enableAnsiNullDefault===!1&&e.push("set ansi_null_dflt_on off"),this.config.options.enableAnsiPadding===!0?e.push("set ansi_padding on"):this.config.options.enableAnsiPadding===!1&&e.push("set ansi_padding off"),this.config.options.enableAnsiWarnings===!0?e.push("set ansi_warnings on"):this.config.options.enableAnsiWarnings===!1&&e.push("set ansi_warnings off"),this.config.options.enableArithAbort===!0?e.push("set arithabort on"):this.config.options.enableArithAbort===!1&&e.push("set arithabort off"),this.config.options.enableConcatNullYieldsNull===!0?e.push("set concat_null_yields_null on"):this.config.options.enableConcatNullYieldsNull===!1&&e.push("set concat_null_yields_null off"),this.config.options.enableCursorCloseOnCommit===!0?e.push("set cursor_close_on_commit on"):this.config.options.enableCursorCloseOnCommit===!1&&e.push("set cursor_close_on_commit off"),this.config.options.datefirst!==null&&e.push(`set datefirst ${this.config.options.datefirst}`),this.config.options.dateFormat!==null&&e.push(`set dateformat ${this.config.options.dateFormat}`),this.config.options.enableImplicitTransactions===!0?e.push("set implicit_transactions on"):this.config.options.enableImplicitTransactions===!1&&e.push("set implicit_transactions off"),this.config.options.language!==null&&e.push(`set language ${this.config.options.language}`),this.config.options.enableNumericRoundabort===!0?e.push("set numeric_roundabort on"):this.config.options.enableNumericRoundabort===!1&&e.push("set numeric_roundabort off"),this.config.options.enableQuotedIdentifier===!0?e.push("set quoted_identifier on"):this.config.options.enableQuotedIdentifier===!1&&e.push("set quoted_identifier off"),this.config.options.textsize!==null&&e.push(`set textsize ${this.config.options.textsize}`),this.config.options.connectionIsolationLevel!==null&&e.push(`set transaction isolation level ${this.getIsolationLevelText(this.config.options.connectionIsolationLevel)}`),this.config.options.abortTransactionOnError===!0?e.push("set xact_abort on"):this.config.options.abortTransactionOnError===!1&&e.push("set xact_abort off"),e.join(`
`)}processedInitialSql(){this.clearConnectTimer(),this.emit("connect")}execSqlBatch(e){this.makeRequest(e,Be.TYPE.SQL_BATCH,new FO.default(e.sqlTextOrProcedure,this.currentTransactionDescriptor(),this.config.options))}execSql(e){try{e.validateParameters(this.databaseCollation)}catch(o){e.error=o,process.nextTick(()=>{this.debug.log(o.message),e.callback(o)});return}let r=[];r.push({type:Gn.TYPES.NVarChar,name:"statement",value:e.sqlTextOrProcedure,output:!1,length:void 0,precision:void 0,scale:void 0}),e.parameters.length&&(r.push({type:Gn.TYPES.NVarChar,name:"params",value:e.makeParamsParameter(e.parameters),output:!1,length:void 0,precision:void 0,scale:void 0}),r.push(...e.parameters)),this.makeRequest(e,Be.TYPE.RPC_REQUEST,new zi.default(Nu.default.Sp_ExecuteSql,r,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}newBulkLoad(e,r,o){let l;if(o===void 0?(o=r,l={}):l=r,typeof l!="object")throw new TypeError('"options" argument must be an object');return new pY.default(e,this.databaseCollation,this.config.options,l,o)}execBulkLoad(e,r){if(e.executionStarted=!0,r){if(e.streamingMode)throw new Error("Connection.execBulkLoad can't be called with a BulkLoad that was put in streaming mode.");if(e.firstRowWritten)throw new Error("Connection.execBulkLoad can't be called with a BulkLoad that already has rows written to it.");let h=Dd.Readable.from(r);h.on("error",g=>{e.rowToPacketTransform.destroy(g)}),e.rowToPacketTransform.on("error",g=>{h.destroy(g)}),h.pipe(e.rowToPacketTransform)}else e.streamingMode||e.rowToPacketTransform.end();let o=()=>{c.cancel()},l=new AY.BulkLoadPayload(e),c=new at.default(e.getBulkInsertSql(),h=>{if(e.removeListener("cancel",o),h){h.code==="UNKNOWN"&&(h.message+=" This is likely because the schema of the BulkLoad does not match the schema of the table you are attempting to insert into."),e.error=h,e.callback(h);return}this.makeRequest(e,Be.TYPE.BULK_LOAD,l)});e.once("cancel",o),this.execSqlBatch(c)}prepare(e){let r=[];r.push({type:Gn.TYPES.Int,name:"handle",value:void 0,output:!0,length:void 0,precision:void 0,scale:void 0}),r.push({type:Gn.TYPES.NVarChar,name:"params",value:e.parameters.length?e.makeParamsParameter(e.parameters):null,output:!1,length:void 0,precision:void 0,scale:void 0}),r.push({type:Gn.TYPES.NVarChar,name:"stmt",value:e.sqlTextOrProcedure,output:!1,length:void 0,precision:void 0,scale:void 0}),e.preparing=!0,e.on("returnValue",(o,l)=>{o==="handle"?e.handle=l:e.error=new Fe.RequestError(`Tedious > Unexpected output parameter ${o} from sp_prepare`)}),this.makeRequest(e,Be.TYPE.RPC_REQUEST,new zi.default(Nu.default.Sp_Prepare,r,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}unprepare(e){let r=[];r.push({type:Gn.TYPES.Int,name:"handle",value:e.handle,output:!1,length:void 0,precision:void 0,scale:void 0}),this.makeRequest(e,Be.TYPE.RPC_REQUEST,new zi.default(Nu.default.Sp_Unprepare,r,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}execute(e,r){let o=[];o.push({type:Gn.TYPES.Int,name:"",value:e.handle,output:!1,length:void 0,precision:void 0,scale:void 0});try{for(let l=0,c=e.parameters.length;l<c;l++){let h=e.parameters[l];o.push({...h,value:h.type.validate(r?r[h.name]:null,this.databaseCollation)})}}catch(l){e.error=l,process.nextTick(()=>{this.debug.log(l.message),e.callback(l)});return}this.makeRequest(e,Be.TYPE.RPC_REQUEST,new zi.default(Nu.default.Sp_Execute,o,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}callProcedure(e){try{e.validateParameters(this.databaseCollation)}catch(r){e.error=r,process.nextTick(()=>{this.debug.log(r.message),e.callback(r)});return}this.makeRequest(e,Be.TYPE.RPC_REQUEST,new zi.default(e.sqlTextOrProcedure,e.parameters,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}beginTransaction(e,r="",o=this.config.options.isolationLevel){(0,ht.assertValidIsolationLevel)(o,"isolationLevel");let l=new ht.Transaction(r,o);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new at.default("SET TRANSACTION ISOLATION LEVEL "+l.isolationLevelToTSQL()+";BEGIN TRAN "+l.name,h=>{this.transactionDepth++,this.transactionDepth===1&&(this.inTransaction=!0),e(h)}));let c=new at.default(void 0,h=>e(h,this.currentTransactionDescriptor()));return this.makeRequest(c,Be.TYPE.TRANSACTION_MANAGER,l.beginPayload(this.currentTransactionDescriptor()))}commitTransaction(e,r=""){let o=new ht.Transaction(r);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new at.default("COMMIT TRAN "+o.name,c=>{this.transactionDepth--,this.transactionDepth===0&&(this.inTransaction=!1),e(c)}));let l=new at.default(void 0,e);return this.makeRequest(l,Be.TYPE.TRANSACTION_MANAGER,o.commitPayload(this.currentTransactionDescriptor()))}rollbackTransaction(e,r=""){let o=new ht.Transaction(r);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new at.default("ROLLBACK TRAN "+o.name,c=>{this.transactionDepth--,this.transactionDepth===0&&(this.inTransaction=!1),e(c)}));let l=new at.default(void 0,e);return this.makeRequest(l,Be.TYPE.TRANSACTION_MANAGER,o.rollbackPayload(this.currentTransactionDescriptor()))}saveTransaction(e,r){let o=new ht.Transaction(r);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new at.default("SAVE TRAN "+o.name,c=>{this.transactionDepth++,e(c)}));let l=new at.default(void 0,e);return this.makeRequest(l,Be.TYPE.TRANSACTION_MANAGER,o.savePayload(this.currentTransactionDescriptor()))}transaction(e,r){if(typeof e!="function")throw new TypeError("`cb` must be a function");let o=this.inTransaction,l="_tedious_"+lY.default.randomBytes(10).toString("hex"),c=(h,g,...m)=>{h?this.inTransaction&&this.state===this.STATE.LOGGED_IN?this.rollbackTransaction(T=>{g(T||h,...m)},l):g(h,...m):o?(this.config.options.tdsVersion<"7_2"&&this.transactionDepth--,g(null,...m)):this.commitTransaction(T=>{g(T,...m)},l)};return o?this.saveTransaction(h=>h?e(h):r?this.execSqlBatch(new at.default("SET transaction isolation level "+this.getIsolationLevelText(r),g=>e(g,c))):e(null,c),l):this.beginTransaction(h=>h?e(h):e(null,c),l,r)}makeRequest(e,r,o){if(this.state!==this.STATE.LOGGED_IN){let l="Requests can only be made in the "+this.STATE.LOGGED_IN.name+" state, not the "+this.state.name+" state";this.debug.log(l),e.callback(new Fe.RequestError(l,"EINVALIDSTATE"))}else if(e.canceled)process.nextTick(()=>{e.callback(new Fe.RequestError("Canceled.","ECANCEL"))});else{r===Be.TYPE.SQL_BATCH?this.isSqlBatch=!0:this.isSqlBatch=!1,this.request=e,e.connection=this,e.rowCount=0,e.rows=[],e.rst=[];let l=()=>{h.unpipe(c),h.destroy(new Fe.RequestError("Canceled.","ECANCEL")),c.ignore=!0,c.end(),e instanceof at.default&&e.paused&&e.resume()};e.once("cancel",l),this.createRequestTimer();let c=new UO.default({type:r,resetConnection:this.resetConnectionOnNextRequest});this.messageIo.outgoingMessageStream.write(c),this.transitionTo(this.STATE.SENT_CLIENT_REQUEST),c.once("finish",()=>{e.removeListener("cancel",l),e.once("cancel",this._cancelAfterRequestSent),this.resetConnectionOnNextRequest=!1,this.debug.payload(function(){return o.toString("  ")})});let h=Dd.Readable.from(o);h.once("error",g=>{h.unpipe(c),e.error??=g,c.ignore=!0,c.end()}),h.pipe(c)}}cancel(){return!this.request||this.request.canceled?!1:(this.request.cancel(),!0)}reset(e){let r=new at.default(this.getInitialSql(),o=>{this.config.options.tdsVersion<"7_2"&&(this.inTransaction=!1),e(o)});this.resetConnectionOnNextRequest=!0,this.execSqlBatch(r)}currentTransactionDescriptor(){return this.transactionDescriptors[this.transactionDescriptors.length-1]}getIsolationLevelText(e){switch(e){case ht.ISOLATION_LEVEL.READ_UNCOMMITTED:return"read uncommitted";case ht.ISOLATION_LEVEL.REPEATABLE_READ:return"repeatable read";case ht.ISOLATION_LEVEL.SERIALIZABLE:return"serializable";case ht.ISOLATION_LEVEL.SNAPSHOT:return"snapshot";default:return"read committed"}}};function Rd(t){return t instanceof qO.default&&(t=t.errors[0]),t instanceof Fe.ConnectionError&&!!t.isTransient}var YY=Xi;Ou.default=YY;VO.exports=Xi;Xi.prototype.STATE={INITIALIZED:{name:"Initialized",events:{}},CONNECTING:{name:"Connecting",enter:function(){this.initialiseConnection()},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_PRELOGIN:{name:"SentPrelogin",enter:function(){(async()=>{let t=Buffer.alloc(0),e;try{e=await this.messageIo.readMessage()}catch(c){return this.socketError(c)}for await(let c of e)t=Buffer.concat([t,c]);let r=new kO.default(t);if(this.debug.payload(function(){return r.toString("  ")}),r.fedAuthRequired===1&&(this.fedAuthRequired=!0),this.config.options.encrypt!=="strict"&&(r.encryptionString==="ON"||r.encryptionString==="REQ")){if(!this.config.options.encrypt)return this.emit("connect",new Fe.ConnectionError("Server requires encryption, set 'encrypt' config option to true.","EENCRYPT")),this.close();try{var o;this.transitionTo(this.STATE.SENT_TLSSSLNEGOTIATION),await this.messageIo.startTls(this.secureContextOptions,this.config.options.serverName?this.config.options.serverName:((o=this.routingData)===null||o===void 0?void 0:o.server)??this.config.server,this.config.options.trustServerCertificate)}catch(c){return this.socketError(c)}}this.sendLogin7Packet();let{authentication:l}=this.config;switch(l.type){case"azure-active-directory-password":case"azure-active-directory-msi-vm":case"azure-active-directory-msi-app-service":case"azure-active-directory-service-principal-secret":case"azure-active-directory-default":this.transitionTo(this.STATE.SENT_LOGIN7_WITH_FEDAUTH);break;case"ntlm":this.transitionTo(this.STATE.SENT_LOGIN7_WITH_NTLM);break;default:this.transitionTo(this.STATE.SENT_LOGIN7_WITH_STANDARD_LOGIN);break}})().catch(t=>{process.nextTick(()=>{throw t})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},REROUTING:{name:"ReRouting",enter:function(){this.cleanupConnection(Zi.REDIRECT)},events:{message:function(){},socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)},reconnect:function(){this.transitionTo(this.STATE.CONNECTING)}}},TRANSIENT_FAILURE_RETRY:{name:"TRANSIENT_FAILURE_RETRY",enter:function(){this.curTransientRetryCount++,this.cleanupConnection(Zi.RETRY)},events:{message:function(){},socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)},retry:function(){this.createRetryTimer()}}},SENT_TLSSSLNEGOTIATION:{name:"SentTLSSSLNegotiation",events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_STANDARD_LOGIN:{name:"SentLogin7WithStandardLogin",enter:function(){(async()=>{let t;try{t=await this.messageIo.readMessage()}catch(o){return this.socketError(o)}let e=new Br.Login7TokenHandler(this),r=this.createTokenStreamParser(t,e);await(0,Yr.once)(r,"end"),e.loginAckReceived?e.routingData?(this.routingData=e.routingData,this.transitionTo(this.STATE.REROUTING)):this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL):this.loginError?Rd(this.loginError)?(this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY)):(this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)):(this.emit("connect",new Fe.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL))})().catch(t=>{process.nextTick(()=>{throw t})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_NTLM:{name:"SentLogin7WithNTLMLogin",enter:function(){(async()=>{for(;;){let t;try{t=await this.messageIo.readMessage()}catch(o){return this.socketError(o)}let e=new Br.Login7TokenHandler(this),r=this.createTokenStreamParser(t,e);if(await(0,Yr.once)(r,"end"),e.loginAckReceived)return e.routingData?(this.routingData=e.routingData,this.transitionTo(this.STATE.REROUTING)):this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL);if(this.ntlmpacket){let o=this.config.authentication,l=new yY.default({domain:o.options.domain,userName:o.options.userName,password:o.options.password,ntlmpacket:this.ntlmpacket});this.messageIo.sendMessage(Be.TYPE.NTLMAUTH_PKT,l.data),this.debug.payload(function(){return l.toString("  ")}),this.ntlmpacket=void 0}else return this.loginError?Rd(this.loginError)?(this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY)):(this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)):(this.emit("connect",new Fe.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL))}})().catch(t=>{process.nextTick(()=>{throw t})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_FEDAUTH:{name:"SentLogin7Withfedauth",enter:function(){(async()=>{let t;try{t=await this.messageIo.readMessage()}catch(l){return this.socketError(l)}let e=new Br.Login7TokenHandler(this),r=this.createTokenStreamParser(t,e);if(await(0,Yr.once)(r,"end"),e.loginAckReceived){e.routingData?(this.routingData=e.routingData,this.transitionTo(this.STATE.REROUTING)):this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL);return}let o=e.fedAuthInfoToken;if(o&&o.stsurl&&o.spn){let l=this.config.authentication,c=new bY.URL("/.default",o.spn).toString(),h;switch(l.type){case"azure-active-directory-password":h=new Su.UsernamePasswordCredential(l.options.tenantId??"common",l.options.clientId,l.options.userName,l.options.password);break;case"azure-active-directory-msi-vm":case"azure-active-directory-msi-app-service":let T=l.options.clientId?[l.options.clientId,{}]:[{}];h=new Su.ManagedIdentityCredential(...T);break;case"azure-active-directory-default":let N=l.options.clientId?{managedIdentityClientId:l.options.clientId}:{};h=new Su.DefaultAzureCredential(N);break;case"azure-active-directory-service-principal-secret":h=new Su.ClientSecretCredential(l.options.tenantId,l.options.clientId,l.options.clientSecret);break}let g;try{g=await h.getToken(c)}catch(T){this.loginError=new qO.default([new Fe.ConnectionError("Security token could not be authenticated or authorized.","EFEDAUTH"),T]),this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL);return}let m=g.token;this.sendFedAuthTokenMessage(m)}else this.loginError?Rd(this.loginError)?(this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY)):(this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)):(this.emit("connect",new Fe.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL))})().catch(t=>{process.nextTick(()=>{throw t})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},LOGGED_IN_SENDING_INITIAL_SQL:{name:"LoggedInSendingInitialSql",enter:function(){(async()=>{this.sendInitialSql();let t;try{t=await this.messageIo.readMessage()}catch(r){return this.socketError(r)}let e=this.createTokenStreamParser(t,new Br.InitialSqlTokenHandler(this));await(0,Yr.once)(e,"end"),this.transitionTo(this.STATE.LOGGED_IN),this.processedInitialSql()})().catch(t=>{process.nextTick(()=>{throw t})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},LOGGED_IN:{name:"LoggedIn",events:{socketError:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_CLIENT_REQUEST:{name:"SentClientRequest",enter:function(){(async(t,e,r)=>{let o;try{o=await this.messageIo.readMessage()}catch(T){return this.socketError(T)}this.clearRequestTimer();let l=this.createTokenStreamParser(o,new Br.RequestTokenHandler(this,this.request));if((t=this.request)!==null&&t!==void 0&&t.canceled&&this.cancelTimer)return this.transitionTo(this.STATE.SENT_ATTENTION);let c=()=>{l.resume()},h=()=>{var T;l.pause(),(T=this.request)===null||T===void 0||T.once("resume",c)};(e=this.request)===null||e===void 0||e.on("pause",h),this.request instanceof at.default&&this.request.paused&&h();let g=()=>{var T,N;l.removeListener("end",m),this.request instanceof at.default&&this.request.paused&&this.request.resume(),(T=this.request)===null||T===void 0||T.removeListener("pause",h),(N=this.request)===null||N===void 0||N.removeListener("resume",c),this.transitionTo(this.STATE.SENT_ATTENTION)},m=()=>{var T,N,A,R;(T=this.request)===null||T===void 0||T.removeListener("cancel",this._cancelAfterRequestSent),(N=this.request)===null||N===void 0||N.removeListener("cancel",g),(A=this.request)===null||A===void 0||A.removeListener("pause",h),(R=this.request)===null||R===void 0||R.removeListener("resume",c),this.transitionTo(this.STATE.LOGGED_IN);let F=this.request;this.request=void 0,this.config.options.tdsVersion<"7_2"&&F.error&&this.isSqlBatch&&(this.inTransaction=!1),F.callback(F.error,F.rowCount,F.rows)};l.once("end",m),(r=this.request)===null||r===void 0||r.once("cancel",g)})()},exit:function(t){this.clearRequestTimer()},events:{socketError:function(t){let e=this.request;this.request=void 0,this.transitionTo(this.STATE.FINAL),e.callback(t)}}},SENT_ATTENTION:{name:"SentAttention",enter:function(){(async()=>{let t;try{t=await this.messageIo.readMessage()}catch(o){return this.socketError(o)}let e=new Br.AttentionTokenHandler(this,this.request),r=this.createTokenStreamParser(t,e);if(await(0,Yr.once)(r,"end"),e.attentionReceived){this.clearCancelTimer();let o=this.request;this.request=void 0,this.transitionTo(this.STATE.LOGGED_IN),o.error&&o.error instanceof Fe.RequestError&&o.error.code==="ETIMEOUT"?o.callback(o.error):o.callback(new Fe.RequestError("Canceled.","ECANCEL"))}})().catch(t=>{process.nextTick(()=>{throw t})})},events:{socketError:function(t){let e=this.request;this.request=void 0,this.transitionTo(this.STATE.FINAL),e.callback(t)}}},FINAL:{name:"Final",enter:function(){this.cleanupConnection(Zi.NORMAL)},events:{connectTimeout:function(){},message:function(){},socketError:function(){}}}}});Object.defineProperty(exports,"__esModule",{value:!0});Object.defineProperty(exports,"BulkLoad",{enumerable:!0,get:function(){return VY.default}});Object.defineProperty(exports,"Connection",{enumerable:!0,get:function(){return WO.default}});Object.defineProperty(exports,"ConnectionError",{enumerable:!0,get:function(){return GO.ConnectionError}});Object.defineProperty(exports,"ISOLATION_LEVEL",{enumerable:!0,get:function(){return $Y.ISOLATION_LEVEL}});Object.defineProperty(exports,"Request",{enumerable:!0,get:function(){return HY.default}});Object.defineProperty(exports,"RequestError",{enumerable:!0,get:function(){return GO.RequestError}});Object.defineProperty(exports,"TDS_VERSION",{enumerable:!0,get:function(){return jY.versions}});Object.defineProperty(exports,"TYPES",{enumerable:!0,get:function(){return GY.TYPES}});exports.connect=zY;exports.library=void 0;var VY=Ld(ml()),WO=Ld(HO()),HY=Ld(Fo()),WY=Td(),GO=ur(),GY=wi(),$Y=dh(),jY=Qr();function Ld(t){return t&&t.__esModule?t:{default:t}}var KY={name:WY.name};exports.library=KY;function zY(t,e){let r=new WO.default(t);return r.connect(e),r}
/*
 * @copyright (c) 2015-present, Philipp Thürwächter, Pattrick Hüper & js-joda contributors
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)
 */
/*
 * @copyright (c) 2016, Philipp Thürwächter, Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/**
 * [js-md4]{@link https://github.com/emn178/js-md4}
 *
 * @namespace md4
 * @version 0.3.2
 * @author Yi-Cyuan Chen [emn178@gmail.com]
 * @copyright Yi-Cyuan Chen 2015-2027
 * @license MIT
 */
//! @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
//! @copyright (c) 2015-present, Philipp Thürwächter, Pattrick Hüper & js-joda contributors
//! @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
//! @version @js-joda/core - 5.6.2
