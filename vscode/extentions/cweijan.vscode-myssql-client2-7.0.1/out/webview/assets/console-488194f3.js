import{_ as f}from"./checkbox-99d3fa49.js";import{_,a as g}from"./option-d3b6ea1a.js";import{n as u,i as m,_ as c}from"./pinia-1732013c.js";import{n as r,s as h,e as d}from"./notify-addcd115.js";import"./checkbox-ee41048c.js";import"./scrollbar-ab87c554.js";import"./index-5e9fb3e8.js";const y={props:["full"]};var C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-container",class:{"card-container-full":t.full}},[e("div",{staticClass:"card"},[t._t("default")],2)])},w=[],$=u(y,C,w,!1,null,"a42e296e",null,null);const p=$.exports;const x={components:{Card:p},mixins:[m],data(){return{user:null,uploadConfirm:!1,removeConfirm:!1,downloadConfirm:!1,importConfirm:!1,syncKeyPath:null,uploadLoading:!1,removeLoading:!1,downloadLoading:!1,triggerChooseSyncKey:!1,isDev:!1}},computed:{isPay(){return this.user&&this.user.expireTime>new Date().getTime()}},mounted(){this.on("user",o=>{this.user=o}).on("importConfirm",()=>{this.importConfirm=!0}).on("importResult",({success:o,message:t,cancel:e})=>{if(this.importConfirm=!1,e)return;r({showClose:!0,duration:o?1e3:2e3,message:t,type:o?"success":"error"})}).on("downloadConfirm",()=>{this.downloadLoading=!1,this.downloadConfirm=!0}).on("downloadResult",({success:o,message:t})=>{this.downloadLoading=!1,r({showClose:!0,duration:o?1e3:3e3,message:t,type:o?"success":"error"})}).on("uploadRes",({success:o,message:t})=>{this.uploadLoading=!1,r({showClose:!0,duration:o?1e3:3e3,message:t,type:o?"success":"error"})}).on("removeRes",({success:o,message:t})=>{this.removeLoading=!1,r({showClose:!0,duration:o?1e3:3e3,message:t,type:o?"success":"error"})}).on("syncKey",o=>{(!this.syncKeyPath||this.triggerChooseSyncKey)&&(this.syncKeyPath=o,this.triggerChooseSyncKey=!1)})},methods:{showLayout(){h(`Width: ${window.innerWidth}, Height: ${window.innerHeight}`)},clearCache(){this.emit("clearCache")},reportIssue(){this.emit("open","https://github.com/cweijan/vscode-database-client/issues")},editConfig(){this.emit("editConfig")},chooseSyncKey(){this.triggerChooseSyncKey=!0,this.emit("chooseSyncKey")},exportConfig(){this.emit("exportConfig")},importConfig(o){this.emit("importConfig",o)},uploadConfig(){if(!this.isPay){d("Free account not support upload configuration!");return}this.uploadConfirm=!1,this.uploadLoading=!0,this.emit("uploadConfig",this.syncKeyPath)},removeConfig(){this.removeConfirm=!1,this.removeLoading=!0,this.emit("removeConfig")},downloadConfig(o){if(!this.isPay){d("Free account not support sync data!");return}this.downloadConfirm=!1,this.downloadLoading=!0,this.emit("downloadConfig",{keyPath:this.syncKeyPath,type:o})}}};var b=function(){var t=this,e=t._self._c;return e("div",[e("Card",[e("div",{staticStyle:{"min-width":"300px"}},[e("div",{staticStyle:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},[t._v(" "+t._s(t.$t("console.configuration"))+" ")]),e("div",{staticStyle:{margin:"20px 0"}},[e("vsc-button",{attrs:{type:"secondary",icon:"codicon-edit"},on:{click:t.editConfig}},[t._v(t._s(t.$t("console.edit"))+" ")]),e("vsc-button",{attrs:{icon:"codicon-arrow-down"},on:{click:t.exportConfig}},[t._v(t._s(t.$t("console.export"))+" ")]),e(c,{staticClass:"ml-7px",attrs:{placement:"top",width:"360",value:t.importConfirm,trigger:"manual"}},[e("p",[t._v(t._s(t.$t("console.mergeConfirm")))]),e("div",{staticStyle:{"text-align":"right",margin:"0"}},[e("vsc-button",{attrs:{type:"secondary"},on:{click:function(n){t.importConfirm=!1}}},[t._v(t._s(t.$t("common.cancel")))]),e("vsc-button",{on:{click:function(n){return t.importConfig("merge")}}},[t._v(t._s(t.$t("console.merge")))]),e("vsc-button",{on:{click:function(n){return t.importConfig("overwrite")}}},[t._v(t._s(t.$t("console.overwrite")))])],1),e("template",{slot:"reference"},[e("vsc-button",{attrs:{icon:"codicon-arrow-up"},on:{click:function(n){return t.importConfig()}}},[t._v(t._s(t.$t("console.import"))+" ")])],1)],2)],1)])]),e("Card",[e("div",[e("div",{staticStyle:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},[t._v(" "+t._s(t.$t("console.sync"))+" ")]),e("div",{staticStyle:{margin:"20px 0"}},[e(c,{attrs:{placement:"top",width:"360",value:t.removeConfirm,trigger:"manual"}},[e("p",{staticStyle:{"margin-top":"5px","margin-bottom":"10px"}},[t._v(t._s(t.$t("console.removeConfirm")))]),e("div",{staticStyle:{"text-align":"right",margin:"0"}},[e("vsc-button",{attrs:{type:"secondary"},on:{click:function(n){t.removeConfirm=!1}}},[t._v(t._s(t.$t("common.cancel")))]),e("vsc-button",{on:{click:t.removeConfig}},[t._v(t._s(t.$t("result.confirm")))])],1),e("template",{slot:"reference"},[e("vsc-button",{attrs:{type:"secondary",icon:"el-icon-delete",loading:t.removeLoading},on:{click:function(n){t.removeConfirm=!0}}},[t._v(t._s(t.$t("console.remove")))])],1)],2),e(c,{staticClass:"ml-7px",attrs:{placement:"top",width:"360",value:t.uploadConfirm,trigger:"manual"}},[e("p",{staticStyle:{"margin-top":"5px","margin-bottom":"10px"}},[t._v(t._s(t.$t("console.uploadConfirm")))]),e("div",{staticStyle:{"text-align":"right",margin:"0"}},[e("vsc-button",{attrs:{type:"secondary"},on:{click:function(n){t.uploadConfirm=!1}}},[t._v(t._s(t.$t("common.cancel")))]),e("vsc-button",{on:{click:t.uploadConfig}},[t._v(t._s(t.$t("result.confirm")))])],1),e("template",{slot:"reference"},[e("vsc-button",{attrs:{icon:"codicon-cloud-upload",loading:t.uploadLoading},on:{click:function(n){t.uploadConfirm=!0}}},[t._v(t._s(t.$t("console.upload")))])],1)],2),e(c,{staticClass:"ml-7px",attrs:{placement:"top",width:"360",value:t.downloadConfirm,trigger:"manual"}},[e("p",{staticStyle:{"margin-top":"5px","margin-bottom":"10px"}},[t._v(t._s(t.$t("console.mergeConfirm")))]),e("div",{staticStyle:{"text-align":"right",margin:"0"}},[e("vsc-button",{attrs:{type:"secondary"},on:{click:function(n){t.downloadConfirm=!1}}},[t._v(t._s(t.$t("common.cancel")))]),e("vsc-button",{on:{click:function(n){return t.downloadConfig("merge")}}},[t._v(t._s(t.$t("console.merge")))]),e("vsc-button",{on:{click:function(n){return t.downloadConfig("overwrite")}}},[t._v(t._s(t.$t("console.overwrite")))])],1),e("template",{slot:"reference"},[e("vsc-button",{attrs:{icon:"codicon-cloud-download",loading:t.downloadLoading},on:{click:function(n){return t.downloadConfig()}}},[t._v(t._s(t.$t("console.download")))])],1)],2),e("div",{staticStyle:{"margin-top":"20px"}},[e("vsc-input",{staticClass:"!w-52 !text-sm",attrs:{size:"mini",placeholder:"Aes encryption Key"},model:{value:t.syncKeyPath,callback:function(n){t.syncKeyPath=n},expression:"syncKeyPath"}}),e("vsc-button",{staticClass:"!ml-1",attrs:{icon:"codicon-file"},on:{click:t.chooseSyncKey}})],1)],1)])]),e("Card",[e("div",[e("div",{staticStyle:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},[t._v(" Others ")]),e("div",{staticStyle:{margin:"20px 0"}},[e("vsc-button",{attrs:{icon:"codicon-github-inverted",size:"mini"},on:{click:t.reportIssue}},[t._v(" "+t._s(t.$t("toolbar.reportIssue"))+" ")]),e("vsc-button",{attrs:{icon:"codicon-clear-all",size:"mini"},on:{click:t.clearCache}},[t._v(" "+t._s(t.$t("toolbar.clearCache"))+" ")])],1),e("div",[t.isDev?e("vsc-button",{attrs:{icon:"codicon-gear",size:"mini"},on:{click:t.showLayout}},[t._v(" 获取页面宽高 ")]):t._e()],1)])])],1)},S=[],k=u(x,b,S,!1,null,"305ec516",null,null);const L=k.exports,K={editor:["disableSqlCodeLenNew","splitSQLByNewLine","highlightSQLBlock","bindConnectionByActiveMark","executeCursorSQLByShortcut"],result:["resultRowHeight","maximumColumnWidth","showComments","rightAlignNumericData","createResultViewForEachQuery","reloadAfterDML","autoGetTableCount"],treeView:["showUser","showTrigger","saveConnectionExpandedState","showEvent","showForeignTable"],sql:["escapedAllObjectName","capitalizeKeywordsWhenFormatting","autoPagingSQL"]};function l(o,t){const e=K[o];return t.filter(n=>e.includes(n.name)).sort((n,a)=>e.indexOf(n.name)-e.indexOf(a.name))}const O={showComments:["Always","Never","Chinese Only"]};const P={components:{Card:p,CloudConfig:L},mixins:[m],data(){return{enums:O,options:[],user:null}},computed:{optionTypes(){return[{title:this.$t("console.editorOptions"),options:l("editor",this.options)},{title:this.$t("console.resultOptions"),options:l("result",this.options)},{title:this.$t("console.treeOptions"),options:l("treeView",this.options)},{title:this.$t("console.sqlOptions"),options:l("sql",this.options)}]}},async mounted(){this.emit("options").on("options",({options:o})=>{this.options=o}).on("user",o=>{this.user=o}).on("configSuccess",o=>{r({showClose:!0,duration:1e3,message:o,type:"success"})}).on("resetSuccess",o=>{r({showClose:!0,duration:1e3,message:o,type:"success"}),this.emit("options")}).init()},methods:{resetOption(o){this.emit("resetOption",o)},changeOpt(o){let t=o.value;o.type=="boolean"&&(t=!o.value,o.value=t),this.emit("updateOption",{...o,value:t})}}};var z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-wrap justify-center console-container"},[e("CloudConfig"),e("div",{staticClass:"option-container"},t._l(t.optionTypes,function(n,a){return e("Card",{key:a,staticStyle:{"max-width":"330px","min-width":"300px"}},[e("div",{staticClass:"option-title"},[t._v(" "+t._s(n.title)+" ")]),e("vsc-button",{attrs:{icon:"codicon-wand",size:"mini",title:t.$t("console.resetConfig")},on:{click:function(i){return t.resetOption(n.options)}}}),e("div",{staticClass:"option-list"},t._l(n.options,function(i,v){return e("div",{key:v,staticClass:"option-item"},[t.enums[i.name]?e("div",[t._v(" "+t._s(i.description)+" "),e(_,{staticClass:"w-28",attrs:{size:"small",value:i.value}},t._l(t.enums[i.name],function(s){return e(g,{key:s,attrs:{value:s}},[t._v(" "+t._s(s)+" ")])}),1)],1):i.type=="boolean"||i.name=="escapedAllObjectName"?e(f,{attrs:{value:i.value},on:{change:function(s){return t.changeOpt(i,s)}}},[t._v(" "+t._s(i.description)+" ")]):["string","number"].includes(i.type)?e("div",[t._v(" "+t._s(i.description)+" "),e("vsc-input",{staticClass:"!w-20 !text-sm ml-1",attrs:{size:"mini"},on:{change:function(s){return t.changeOpt(i)}},model:{value:i.value,callback:function(s){t.$set(i,"value",s)},expression:"option.value"}})],1):t._e()],1)}),0)],1)}),1)],1)},R=[],F=u(P,z,R,!1,null,"994b5b4d",null,null);const q=F.exports;export{q as default};
